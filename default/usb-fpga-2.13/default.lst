                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.8.0 #5117 (May 15 2008) (UNIX)
                              4 ; This file was generated Wed Dec  4 01:40:19 2013
                              5 ;--------------------------------------------------------
                              6 	.module default_tmp
                              7 	.optsdcc -mmcs51 --model-small
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _sendStringDescriptor_PARM_3
                             13 	.globl _sendStringDescriptor_PARM_2
                             14 	.globl _spi_write_PARM_2
                             15 	.globl _flash_read_PARM_2
                             16 	.globl _mac_eeprom_init_hexdigits_1_1
                             17 	.globl _EmptyStringDescriptor
                             18 	.globl _FullSpeedConfigDescriptor_PadByte
                             19 	.globl _FullSpeedConfigDescriptor
                             20 	.globl _HighSpeedConfigDescriptor_PadByte
                             21 	.globl _HighSpeedConfigDescriptor
                             22 	.globl _DeviceQualifierDescriptor
                             23 	.globl _DeviceDescriptor
                             24 	.globl _PadByte
                             25 	.globl _configurationString
                             26 	.globl _productString
                             27 	.globl _manufacturerString
                             28 	.globl _fpga_flash_boot_id
                             29 	.globl _main
                             30 	.globl _init_USB
                             31 	.globl _mac_eeprom_init
                             32 	.globl _EP8_ISR
                             33 	.globl _EP6_ISR
                             34 	.globl _EP4_ISR
                             35 	.globl _EP2_ISR
                             36 	.globl _EP1OUT_ISR
                             37 	.globl _EP1IN_ISR
                             38 	.globl _EP0ACK_ISR
                             39 	.globl _HSGRANT_ISR
                             40 	.globl _URES_ISR
                             41 	.globl _SUSP_ISR
                             42 	.globl _SUTOK_ISR
                             43 	.globl _SOF_ISR
                             44 	.globl _abscode_identity
                             45 	.globl _fpga_configure_from_flash_init
                             46 	.globl _fpga_first_free_sector
                             47 	.globl _fpga_configure_from_flash
                             48 	.globl _init_cpld_fpga_configuration
                             49 	.globl _fpga_send_ep0
                             50 	.globl _spi_send_ep0
                             51 	.globl _spi_read_ep0
                             52 	.globl _flash_init
                             53 	.globl _flash_write_next
                             54 	.globl _flash_write_finish
                             55 	.globl _flash_write_finish_sector
                             56 	.globl _flash_write_init
                             57 	.globl _flash_write
                             58 	.globl _flash_write_byte
                             59 	.globl _spi_pp
                             60 	.globl _flash_read_finish
                             61 	.globl _flash_read_next
                             62 	.globl _flash_read_init
                             63 	.globl _spi_wait
                             64 	.globl _spi_deselect
                             65 	.globl _spi_select
                             66 	.globl _spi_write
                             67 	.globl _spi_write_byte
                             68 	.globl _flash_read
                             69 	.globl _flash_read_byte
                             70 	.globl _spi_clocks
                             71 	.globl _mac_eeprom_read_ep0
                             72 	.globl _mac_eeprom_write
                             73 	.globl _mac_eeprom_read
                             74 	.globl _eeprom_write_ep0
                             75 	.globl _eeprom_read_ep0
                             76 	.globl _eeprom_write
                             77 	.globl _eeprom_read
                             78 	.globl _eeprom_select
                             79 	.globl _i2c_waitStop
                             80 	.globl _i2c_waitStart
                             81 	.globl _i2c_waitRead
                             82 	.globl _i2c_waitWrite
                             83 	.globl _MEM_COPY1_int
                             84 	.globl _uwait
                             85 	.globl _wait
                             86 	.globl _abscode_intvec
                             87 	.globl _EIPX6
                             88 	.globl _EIPX5
                             89 	.globl _EIPX4
                             90 	.globl _PI2C
                             91 	.globl _PUSB
                             92 	.globl _BREG7
                             93 	.globl _BREG6
                             94 	.globl _BREG5
                             95 	.globl _BREG4
                             96 	.globl _BREG3
                             97 	.globl _BREG2
                             98 	.globl _BREG1
                             99 	.globl _BREG0
                            100 	.globl _EIEX6
                            101 	.globl _EIEX5
                            102 	.globl _EIEX4
                            103 	.globl _EI2C
                            104 	.globl _EUSB
                            105 	.globl _ACC7
                            106 	.globl _ACC6
                            107 	.globl _ACC5
                            108 	.globl _ACC4
                            109 	.globl _ACC3
                            110 	.globl _ACC2
                            111 	.globl _ACC1
                            112 	.globl _ACC0
                            113 	.globl _SMOD1
                            114 	.globl _ERESI
                            115 	.globl _RESI
                            116 	.globl _INT6
                            117 	.globl _CY
                            118 	.globl _AC
                            119 	.globl _F0
                            120 	.globl _RS1
                            121 	.globl _RS0
                            122 	.globl _OV
                            123 	.globl _F1
                            124 	.globl _PF
                            125 	.globl _TF2
                            126 	.globl _EXF2
                            127 	.globl _RCLK
                            128 	.globl _TCLK
                            129 	.globl _EXEN2
                            130 	.globl _TR2
                            131 	.globl _CT2
                            132 	.globl _CPRL2
                            133 	.globl _SM0_1
                            134 	.globl _SM1_1
                            135 	.globl _SM2_1
                            136 	.globl _REN_1
                            137 	.globl _TB8_1
                            138 	.globl _RB8_1
                            139 	.globl _TI_1
                            140 	.globl _RI_1
                            141 	.globl _PS1
                            142 	.globl _PT2
                            143 	.globl _PS0
                            144 	.globl _PT1
                            145 	.globl _PX1
                            146 	.globl _PT0
                            147 	.globl _PX0
                            148 	.globl _IOD7
                            149 	.globl _IOD6
                            150 	.globl _IOD5
                            151 	.globl _IOD4
                            152 	.globl _IOD3
                            153 	.globl _IOD2
                            154 	.globl _IOD1
                            155 	.globl _IOD0
                            156 	.globl _EA
                            157 	.globl _ES1
                            158 	.globl _ET2
                            159 	.globl _ES0
                            160 	.globl _ET1
                            161 	.globl _EX1
                            162 	.globl _ET0
                            163 	.globl _EX0
                            164 	.globl _IOC7
                            165 	.globl _IOC6
                            166 	.globl _IOC5
                            167 	.globl _IOC4
                            168 	.globl _IOC3
                            169 	.globl _IOC2
                            170 	.globl _IOC1
                            171 	.globl _IOC0
                            172 	.globl _SM0_0
                            173 	.globl _SM1_0
                            174 	.globl _SM2_0
                            175 	.globl _REN_0
                            176 	.globl _TB8_0
                            177 	.globl _RB8_0
                            178 	.globl _TI_0
                            179 	.globl _RI_0
                            180 	.globl _IOB7
                            181 	.globl _IOB6
                            182 	.globl _IOB5
                            183 	.globl _IOB4
                            184 	.globl _IOB3
                            185 	.globl _IOB2
                            186 	.globl _IOB1
                            187 	.globl _IOB0
                            188 	.globl _TF1
                            189 	.globl _TR1
                            190 	.globl _TF0
                            191 	.globl _TR0
                            192 	.globl _IE1
                            193 	.globl _IT1
                            194 	.globl _IE0
                            195 	.globl _IT0
                            196 	.globl _IOA7
                            197 	.globl _IOA6
                            198 	.globl _IOA5
                            199 	.globl _IOA4
                            200 	.globl _IOA3
                            201 	.globl _IOA2
                            202 	.globl _IOA1
                            203 	.globl _IOA0
                            204 	.globl _EIP
                            205 	.globl _BREG
                            206 	.globl _EIE
                            207 	.globl _ACC
                            208 	.globl _EICON
                            209 	.globl _PSW
                            210 	.globl _TH2
                            211 	.globl _TL2
                            212 	.globl _RCAP2H
                            213 	.globl _RCAP2L
                            214 	.globl _T2CON
                            215 	.globl _SBUF1
                            216 	.globl _SCON1
                            217 	.globl _GPIFSGLDATLNOX
                            218 	.globl _GPIFSGLDATLX
                            219 	.globl _GPIFSGLDATH
                            220 	.globl _GPIFTRIG
                            221 	.globl _EP01STAT
                            222 	.globl _IP
                            223 	.globl _OEE
                            224 	.globl _OED
                            225 	.globl _OEC
                            226 	.globl _OEB
                            227 	.globl _OEA
                            228 	.globl _IOE
                            229 	.globl _IOD
                            230 	.globl _AUTOPTRSETUP
                            231 	.globl _EP68FIFOFLGS
                            232 	.globl _EP24FIFOFLGS
                            233 	.globl _EP2468STAT
                            234 	.globl _IE
                            235 	.globl _INT4CLR
                            236 	.globl _INT2CLR
                            237 	.globl _IOC
                            238 	.globl _AUTOPTRL2
                            239 	.globl _AUTOPTRH2
                            240 	.globl _AUTOPTRL1
                            241 	.globl _AUTOPTRH1
                            242 	.globl _SBUF0
                            243 	.globl _SCON0
                            244 	.globl __XPAGE
                            245 	.globl _MPAGE
                            246 	.globl _EXIF
                            247 	.globl _IOB
                            248 	.globl _CKCON
                            249 	.globl _TH1
                            250 	.globl _TH0
                            251 	.globl _TL1
                            252 	.globl _TL0
                            253 	.globl _TMOD
                            254 	.globl _TCON
                            255 	.globl _PCON
                            256 	.globl _DPS
                            257 	.globl _DPH1
                            258 	.globl _DPL1
                            259 	.globl _DPH0
                            260 	.globl _DPL0
                            261 	.globl _SP
                            262 	.globl _IOA
                            263 	.globl _ISOFRAME_COUNTER
                            264 	.globl _ep0_vendor_cmd_setup
                            265 	.globl _ep0_prev_setup_request
                            266 	.globl _GPIF_WAVE_DATA_HSFPGA_12MHZ
                            267 	.globl _GPIF_WAVE_DATA_HSFPGA_24MHZ
                            268 	.globl _ep0_payload_transfer
                            269 	.globl _ep0_payload_remaining
                            270 	.globl _SN_STRING
                            271 	.globl _MODULE_RESERVED
                            272 	.globl _INTERFACE_CAPABILITIES
                            273 	.globl _INTERFACE_VERSION
                            274 	.globl _FW_VERSION
                            275 	.globl _PRODUCT_ID
                            276 	.globl _ZTEXID
                            277 	.globl _ZTEX_DESCRIPTOR_VERSION
                            278 	.globl _ZTEX_DESCRIPTOR
                            279 	.globl _OOEC
                            280 	.globl _fpga_conf_initialized
                            281 	.globl _fpga_flash_result
                            282 	.globl _fpga_init_b
                            283 	.globl _fpga_bytes
                            284 	.globl _fpga_checksum
                            285 	.globl _ep0_write_mode
                            286 	.globl _ep0_read_mode
                            287 	.globl _spi_write_sector
                            288 	.globl _spi_need_pp
                            289 	.globl _spi_write_addr_lo
                            290 	.globl _spi_write_addr_hi
                            291 	.globl _spi_buffer
                            292 	.globl _spi_last_cmd
                            293 	.globl _spi_erase_cmd
                            294 	.globl _spi_memtype
                            295 	.globl _spi_device
                            296 	.globl _spi_vendor
                            297 	.globl _flash_ec
                            298 	.globl _flash_sectors
                            299 	.globl _flash_sector_size
                            300 	.globl _flash_enabled
                            301 	.globl _config_data_valid
                            302 	.globl _mac_eeprom_addr
                            303 	.globl _eeprom_write_checksum
                            304 	.globl _eeprom_write_bytes
                            305 	.globl _eeprom_addr
                            306 	.globl _INTVEC_GPIFWF
                            307 	.globl _INTVEC_GPIFDONE
                            308 	.globl _INTVEC_EP8FF
                            309 	.globl _INTVEC_EP6FF
                            310 	.globl _INTVEC_EP2FF
                            311 	.globl _INTVEC_EP8EF
                            312 	.globl _INTVEC_EP6EF
                            313 	.globl _INTVEC_EP4EF
                            314 	.globl _INTVEC_EP2EF
                            315 	.globl _INTVEC_EP8PF
                            316 	.globl _INTVEC_EP6PF
                            317 	.globl _INTVEC_EP4PF
                            318 	.globl _INTVEC_EP2PF
                            319 	.globl _INTVEC_EP8ISOERR
                            320 	.globl _INTVEC_EP6ISOERR
                            321 	.globl _INTVEC_EP4ISOERR
                            322 	.globl _INTVEC_EP2ISOERR
                            323 	.globl _INTVEC_ERRLIMIT
                            324 	.globl _INTVEC_EP8PING
                            325 	.globl _INTVEC_EP6PING
                            326 	.globl _INTVEC_EP4PING
                            327 	.globl _INTVEC_EP2PING
                            328 	.globl _INTVEC_EP1PING
                            329 	.globl _INTVEC_EP0PING
                            330 	.globl _INTVEC_IBN
                            331 	.globl _INTVEC_EP8
                            332 	.globl _INTVEC_EP6
                            333 	.globl _INTVEC_EP4
                            334 	.globl _INTVEC_EP2
                            335 	.globl _INTVEC_EP1OUT
                            336 	.globl _INTVEC_EP1IN
                            337 	.globl _INTVEC_EP0OUT
                            338 	.globl _INTVEC_EP0IN
                            339 	.globl _INTVEC_EP0ACK
                            340 	.globl _INTVEC_HISPEED
                            341 	.globl _INTVEC_USBRESET
                            342 	.globl _INTVEC_SUSPEND
                            343 	.globl _INTVEC_SUTOK
                            344 	.globl _INTVEC_SOF
                            345 	.globl _INTVEC_SUDAV
                            346 	.globl _INT12VEC_IE6
                            347 	.globl _INT11VEC_IE5
                            348 	.globl _INT10VEC_GPIF
                            349 	.globl _INT9VEC_I2C
                            350 	.globl _INT8VEC_USB
                            351 	.globl _INT7VEC_USART1
                            352 	.globl _INT6VEC_RESUME
                            353 	.globl _INT5VEC_T2
                            354 	.globl _INT4VEC_USART0
                            355 	.globl _INT3VEC_T1
                            356 	.globl _INT2VEC_IE1
                            357 	.globl _INT1VEC_T0
                            358 	.globl _INT0VEC_IE0
                            359 	.globl _EP8FIFOBUF
                            360 	.globl _EP6FIFOBUF
                            361 	.globl _EP4FIFOBUF
                            362 	.globl _EP2FIFOBUF
                            363 	.globl _EP1INBUF
                            364 	.globl _EP1OUTBUF
                            365 	.globl _EP0BUF
                            366 	.globl _GPIFABORT
                            367 	.globl _GPIFREADYSTAT
                            368 	.globl _GPIFREADYCFG
                            369 	.globl _XGPIFSGLDATLNOX
                            370 	.globl _XGPIFSGLDATLX
                            371 	.globl _XGPIFSGLDATH
                            372 	.globl _EP8GPIFTRIG
                            373 	.globl _EP8GPIFPFSTOP
                            374 	.globl _EP8GPIFFLGSEL
                            375 	.globl _EP6GPIFTRIG
                            376 	.globl _EP6GPIFPFSTOP
                            377 	.globl _EP6GPIFFLGSEL
                            378 	.globl _EP4GPIFTRIG
                            379 	.globl _EP4GPIFPFSTOP
                            380 	.globl _EP4GPIFFLGSEL
                            381 	.globl _EP2GPIFTRIG
                            382 	.globl _EP2GPIFPFSTOP
                            383 	.globl _EP2GPIFFLGSEL
                            384 	.globl _GPIFTCB0
                            385 	.globl _GPIFTCB1
                            386 	.globl _GPIFTCB2
                            387 	.globl _GPIFTCB3
                            388 	.globl _FLOWSTBHPERIOD
                            389 	.globl _FLOWSTBEDGE
                            390 	.globl _FLOWSTB
                            391 	.globl _FLOWHOLDOFF
                            392 	.globl _FLOWEQ1CTL
                            393 	.globl _FLOWEQ0CTL
                            394 	.globl _FLOWLOGIC
                            395 	.globl _FLOWSTATE
                            396 	.globl _GPIFADRL
                            397 	.globl _GPIFADRH
                            398 	.globl _GPIFCTLCFG
                            399 	.globl _GPIFIDLECTL
                            400 	.globl _GPIFIDLECS
                            401 	.globl _GPIFWFSELECT
                            402 	.globl _wLengthH
                            403 	.globl _wLengthL
                            404 	.globl _wIndexH
                            405 	.globl _wIndexL
                            406 	.globl _wValueH
                            407 	.globl _wValueL
                            408 	.globl _bRequest
                            409 	.globl _bmRequestType
                            410 	.globl _SETUPDAT
                            411 	.globl _SUDPTRCTL
                            412 	.globl _SUDPTRL
                            413 	.globl _SUDPTRH
                            414 	.globl _EP8FIFOBCL
                            415 	.globl _EP8FIFOBCH
                            416 	.globl _EP6FIFOBCL
                            417 	.globl _EP6FIFOBCH
                            418 	.globl _EP4FIFOBCL
                            419 	.globl _EP4FIFOBCH
                            420 	.globl _EP2FIFOBCL
                            421 	.globl _EP2FIFOBCH
                            422 	.globl _EP8FIFOFLGS
                            423 	.globl _EP6FIFOFLGS
                            424 	.globl _EP4FIFOFLGS
                            425 	.globl _EP2FIFOFLGS
                            426 	.globl _EP8CS
                            427 	.globl _EP6CS
                            428 	.globl _EP4CS
                            429 	.globl _EP2CS
                            430 	.globl _EPXCS
                            431 	.globl _EP1INCS
                            432 	.globl _EP1OUTCS
                            433 	.globl _EP0CS
                            434 	.globl _EP8BCL
                            435 	.globl _EP8BCH
                            436 	.globl _EP6BCL
                            437 	.globl _EP6BCH
                            438 	.globl _EP4BCL
                            439 	.globl _EP4BCH
                            440 	.globl _EP2BCL
                            441 	.globl _EP2BCH
                            442 	.globl _EP1INBC
                            443 	.globl _EP1OUTBC
                            444 	.globl _EP0BCL
                            445 	.globl _EP0BCH
                            446 	.globl _FNADDR
                            447 	.globl _MICROFRAME
                            448 	.globl _USBFRAMEL
                            449 	.globl _USBFRAMEH
                            450 	.globl _TOGCTL
                            451 	.globl _WAKEUPCS
                            452 	.globl _SUSPEND
                            453 	.globl _USBCS
                            454 	.globl _UDMACRCQUALIFIER
                            455 	.globl _UDMACRCL
                            456 	.globl _UDMACRCH
                            457 	.globl _EXTAUTODAT2
                            458 	.globl _XAUTODAT2
                            459 	.globl _EXTAUTODAT1
                            460 	.globl _XAUTODAT1
                            461 	.globl _I2CTL
                            462 	.globl _I2DAT
                            463 	.globl _I2CS
                            464 	.globl _PORTECFG
                            465 	.globl _PORTCCFG
                            466 	.globl _PORTACFG
                            467 	.globl _INTSETUP
                            468 	.globl _INT4IVEC
                            469 	.globl _INT2IVEC
                            470 	.globl _CLRERRCNT
                            471 	.globl _ERRCNTLIM
                            472 	.globl _USBERRIRQ
                            473 	.globl _USBERRIE
                            474 	.globl _GPIFIRQ
                            475 	.globl _GPIFIE
                            476 	.globl _EPIRQ
                            477 	.globl _EPIE
                            478 	.globl _USBIRQ
                            479 	.globl _USBIE
                            480 	.globl _NAKIRQ
                            481 	.globl _NAKIE
                            482 	.globl _IBNIRQ
                            483 	.globl _IBNIE
                            484 	.globl _EP8FIFOIRQ
                            485 	.globl _EP8FIFOIE
                            486 	.globl _EP6FIFOIRQ
                            487 	.globl _EP6FIFOIE
                            488 	.globl _EP4FIFOIRQ
                            489 	.globl _EP4FIFOIE
                            490 	.globl _EP2FIFOIRQ
                            491 	.globl _EP2FIFOIE
                            492 	.globl _OUTPKTEND
                            493 	.globl _INPKTEND
                            494 	.globl _EP8ISOINPKTS
                            495 	.globl _EP6ISOINPKTS
                            496 	.globl _EP4ISOINPKTS
                            497 	.globl _EP2ISOINPKTS
                            498 	.globl _EP8FIFOPFL
                            499 	.globl _EP8FIFOPFH
                            500 	.globl _EP6FIFOPFL
                            501 	.globl _EP6FIFOPFH
                            502 	.globl _EP4FIFOPFL
                            503 	.globl _EP4FIFOPFH
                            504 	.globl _EP2FIFOPFL
                            505 	.globl _EP2FIFOPFH
                            506 	.globl _ECC2B2
                            507 	.globl _ECC2B1
                            508 	.globl _ECC2B0
                            509 	.globl _ECC1B2
                            510 	.globl _ECC1B1
                            511 	.globl _ECC1B0
                            512 	.globl _ECCRESET
                            513 	.globl _ECCCFG
                            514 	.globl _EP8AUTOINLENL
                            515 	.globl _EP8AUTOINLENH
                            516 	.globl _EP6AUTOINLENL
                            517 	.globl _EP6AUTOINLENH
                            518 	.globl _EP4AUTOINLENL
                            519 	.globl _EP4AUTOINLENH
                            520 	.globl _EP2AUTOINLENL
                            521 	.globl _EP2AUTOINLENH
                            522 	.globl _EP8FIFOCFG
                            523 	.globl _EP6FIFOCFG
                            524 	.globl _EP4FIFOCFG
                            525 	.globl _EP2FIFOCFG
                            526 	.globl _EP8CFG
                            527 	.globl _EP6CFG
                            528 	.globl _EP4CFG
                            529 	.globl _EP2CFG
                            530 	.globl _EP1INCFG
                            531 	.globl _EP1OUTCFG
                            532 	.globl _GPIFHOLDAMOUNT
                            533 	.globl _REVCTL
                            534 	.globl _REVID
                            535 	.globl _FIFOPINPOLAR
                            536 	.globl _UART230
                            537 	.globl _BPADDRL
                            538 	.globl _BPADDRH
                            539 	.globl _BREAKPT
                            540 	.globl _FIFORESET
                            541 	.globl _PINFLAGSCD
                            542 	.globl _PINFLAGSAB
                            543 	.globl _IFCONFIG
                            544 	.globl _CPUCS
                            545 	.globl _GPCR2
                            546 	.globl _GPIF_WAVE3_DATA
                            547 	.globl _GPIF_WAVE2_DATA
                            548 	.globl _GPIF_WAVE1_DATA
                            549 	.globl _GPIF_WAVE0_DATA
                            550 	.globl _GPIF_WAVE_DATA
                            551 	.globl _flash_write_PARM_2
                            552 	.globl _mac_eeprom_write_PARM_3
                            553 	.globl _mac_eeprom_write_PARM_2
                            554 	.globl _mac_eeprom_read_PARM_3
                            555 	.globl _mac_eeprom_read_PARM_2
                            556 	.globl _eeprom_write_PARM_3
                            557 	.globl _eeprom_write_PARM_2
                            558 	.globl _eeprom_read_PARM_3
                            559 	.globl _eeprom_read_PARM_2
                            560 	.globl _eeprom_select_PARM_3
                            561 	.globl _eeprom_select_PARM_2
                            562 ;--------------------------------------------------------
                            563 ; special function registers
                            564 ;--------------------------------------------------------
                            565 	.area RSEG    (DATA)
                    0080    566 _IOA	=	0x0080
                    0081    567 _SP	=	0x0081
                    0082    568 _DPL0	=	0x0082
                    0083    569 _DPH0	=	0x0083
                    0084    570 _DPL1	=	0x0084
                    0085    571 _DPH1	=	0x0085
                    0086    572 _DPS	=	0x0086
                    0087    573 _PCON	=	0x0087
                    0088    574 _TCON	=	0x0088
                    0089    575 _TMOD	=	0x0089
                    008A    576 _TL0	=	0x008a
                    008B    577 _TL1	=	0x008b
                    008C    578 _TH0	=	0x008c
                    008D    579 _TH1	=	0x008d
                    008E    580 _CKCON	=	0x008e
                    0090    581 _IOB	=	0x0090
                    0091    582 _EXIF	=	0x0091
                    0092    583 _MPAGE	=	0x0092
                    0092    584 __XPAGE	=	0x0092
                    0098    585 _SCON0	=	0x0098
                    0099    586 _SBUF0	=	0x0099
                    009A    587 _AUTOPTRH1	=	0x009a
                    009B    588 _AUTOPTRL1	=	0x009b
                    009D    589 _AUTOPTRH2	=	0x009d
                    009E    590 _AUTOPTRL2	=	0x009e
                    00A0    591 _IOC	=	0x00a0
                    00A1    592 _INT2CLR	=	0x00a1
                    00A2    593 _INT4CLR	=	0x00a2
                    00A8    594 _IE	=	0x00a8
                    00AA    595 _EP2468STAT	=	0x00aa
                    00AB    596 _EP24FIFOFLGS	=	0x00ab
                    00AC    597 _EP68FIFOFLGS	=	0x00ac
                    00AF    598 _AUTOPTRSETUP	=	0x00af
                    00B0    599 _IOD	=	0x00b0
                    00B1    600 _IOE	=	0x00b1
                    00B2    601 _OEA	=	0x00b2
                    00B3    602 _OEB	=	0x00b3
                    00B4    603 _OEC	=	0x00b4
                    00B5    604 _OED	=	0x00b5
                    00B6    605 _OEE	=	0x00b6
                    00B8    606 _IP	=	0x00b8
                    00BA    607 _EP01STAT	=	0x00ba
                    00BB    608 _GPIFTRIG	=	0x00bb
                    00BD    609 _GPIFSGLDATH	=	0x00bd
                    00BE    610 _GPIFSGLDATLX	=	0x00be
                    00BF    611 _GPIFSGLDATLNOX	=	0x00bf
                    00C0    612 _SCON1	=	0x00c0
                    00C1    613 _SBUF1	=	0x00c1
                    00C8    614 _T2CON	=	0x00c8
                    00CA    615 _RCAP2L	=	0x00ca
                    00CB    616 _RCAP2H	=	0x00cb
                    00CC    617 _TL2	=	0x00cc
                    00CD    618 _TH2	=	0x00cd
                    00D0    619 _PSW	=	0x00d0
                    00D8    620 _EICON	=	0x00d8
                    00E0    621 _ACC	=	0x00e0
                    00E8    622 _EIE	=	0x00e8
                    00F0    623 _BREG	=	0x00f0
                    00F8    624 _EIP	=	0x00f8
                            625 ;--------------------------------------------------------
                            626 ; special function bits
                            627 ;--------------------------------------------------------
                            628 	.area RSEG    (DATA)
                    0080    629 _IOA0	=	0x0080
                    0081    630 _IOA1	=	0x0081
                    0082    631 _IOA2	=	0x0082
                    0083    632 _IOA3	=	0x0083
                    0084    633 _IOA4	=	0x0084
                    0085    634 _IOA5	=	0x0085
                    0086    635 _IOA6	=	0x0086
                    0087    636 _IOA7	=	0x0087
                    0088    637 _IT0	=	0x0088
                    0089    638 _IE0	=	0x0089
                    008A    639 _IT1	=	0x008a
                    008B    640 _IE1	=	0x008b
                    008C    641 _TR0	=	0x008c
                    008D    642 _TF0	=	0x008d
                    008E    643 _TR1	=	0x008e
                    008F    644 _TF1	=	0x008f
                    0090    645 _IOB0	=	0x0090
                    0091    646 _IOB1	=	0x0091
                    0092    647 _IOB2	=	0x0092
                    0093    648 _IOB3	=	0x0093
                    0094    649 _IOB4	=	0x0094
                    0095    650 _IOB5	=	0x0095
                    0096    651 _IOB6	=	0x0096
                    0097    652 _IOB7	=	0x0097
                    0098    653 _RI_0	=	0x0098
                    0099    654 _TI_0	=	0x0099
                    009A    655 _RB8_0	=	0x009a
                    009B    656 _TB8_0	=	0x009b
                    009C    657 _REN_0	=	0x009c
                    009D    658 _SM2_0	=	0x009d
                    009E    659 _SM1_0	=	0x009e
                    009F    660 _SM0_0	=	0x009f
                    00A0    661 _IOC0	=	0x00a0
                    00A1    662 _IOC1	=	0x00a1
                    00A2    663 _IOC2	=	0x00a2
                    00A3    664 _IOC3	=	0x00a3
                    00A4    665 _IOC4	=	0x00a4
                    00A5    666 _IOC5	=	0x00a5
                    00A6    667 _IOC6	=	0x00a6
                    00A7    668 _IOC7	=	0x00a7
                    00A8    669 _EX0	=	0x00a8
                    00A9    670 _ET0	=	0x00a9
                    00AA    671 _EX1	=	0x00aa
                    00AB    672 _ET1	=	0x00ab
                    00AC    673 _ES0	=	0x00ac
                    00AD    674 _ET2	=	0x00ad
                    00AE    675 _ES1	=	0x00ae
                    00AF    676 _EA	=	0x00af
                    00B0    677 _IOD0	=	0x00b0
                    00B1    678 _IOD1	=	0x00b1
                    00B2    679 _IOD2	=	0x00b2
                    00B3    680 _IOD3	=	0x00b3
                    00B4    681 _IOD4	=	0x00b4
                    00B5    682 _IOD5	=	0x00b5
                    00B6    683 _IOD6	=	0x00b6
                    00B7    684 _IOD7	=	0x00b7
                    00B8    685 _PX0	=	0x00b8
                    00B9    686 _PT0	=	0x00b9
                    00BA    687 _PX1	=	0x00ba
                    00BB    688 _PT1	=	0x00bb
                    00BC    689 _PS0	=	0x00bc
                    00BD    690 _PT2	=	0x00bd
                    00BE    691 _PS1	=	0x00be
                    00C0    692 _RI_1	=	0x00c0
                    00C1    693 _TI_1	=	0x00c1
                    00C2    694 _RB8_1	=	0x00c2
                    00C3    695 _TB8_1	=	0x00c3
                    00C4    696 _REN_1	=	0x00c4
                    00C5    697 _SM2_1	=	0x00c5
                    00C6    698 _SM1_1	=	0x00c6
                    00C7    699 _SM0_1	=	0x00c7
                    00C8    700 _CPRL2	=	0x00c8
                    00C9    701 _CT2	=	0x00c9
                    00CA    702 _TR2	=	0x00ca
                    00CB    703 _EXEN2	=	0x00cb
                    00CC    704 _TCLK	=	0x00cc
                    00CD    705 _RCLK	=	0x00cd
                    00CE    706 _EXF2	=	0x00ce
                    00CF    707 _TF2	=	0x00cf
                    00D0    708 _PF	=	0x00d0
                    00D1    709 _F1	=	0x00d1
                    00D2    710 _OV	=	0x00d2
                    00D3    711 _RS0	=	0x00d3
                    00D4    712 _RS1	=	0x00d4
                    00D5    713 _F0	=	0x00d5
                    00D6    714 _AC	=	0x00d6
                    00D7    715 _CY	=	0x00d7
                    00DB    716 _INT6	=	0x00db
                    00DC    717 _RESI	=	0x00dc
                    00DD    718 _ERESI	=	0x00dd
                    00DF    719 _SMOD1	=	0x00df
                    00E0    720 _ACC0	=	0x00e0
                    00E1    721 _ACC1	=	0x00e1
                    00E2    722 _ACC2	=	0x00e2
                    00E3    723 _ACC3	=	0x00e3
                    00E4    724 _ACC4	=	0x00e4
                    00E5    725 _ACC5	=	0x00e5
                    00E6    726 _ACC6	=	0x00e6
                    00E7    727 _ACC7	=	0x00e7
                    00E8    728 _EUSB	=	0x00e8
                    00E9    729 _EI2C	=	0x00e9
                    00EA    730 _EIEX4	=	0x00ea
                    00EB    731 _EIEX5	=	0x00eb
                    00EC    732 _EIEX6	=	0x00ec
                    00F0    733 _BREG0	=	0x00f0
                    00F1    734 _BREG1	=	0x00f1
                    00F2    735 _BREG2	=	0x00f2
                    00F3    736 _BREG3	=	0x00f3
                    00F4    737 _BREG4	=	0x00f4
                    00F5    738 _BREG5	=	0x00f5
                    00F6    739 _BREG6	=	0x00f6
                    00F7    740 _BREG7	=	0x00f7
                    00F8    741 _PUSB	=	0x00f8
                    00F9    742 _PI2C	=	0x00f9
                    00FA    743 _EIPX4	=	0x00fa
                    00FB    744 _EIPX5	=	0x00fb
                    00FC    745 _EIPX6	=	0x00fc
                            746 ;--------------------------------------------------------
                            747 ; overlayable register banks
                            748 ;--------------------------------------------------------
                            749 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                     750 	.ds 8
                            751 ;--------------------------------------------------------
                            752 ; overlayable bit register bank
                            753 ;--------------------------------------------------------
                            754 	.area BIT_BANK	(REL,OVR,DATA)
   0000                     755 bits:
   0000                     756 	.ds 1
                    8000    757 	b0 = bits[0]
                    8100    758 	b1 = bits[1]
                    8200    759 	b2 = bits[2]
                    8300    760 	b3 = bits[3]
                    8400    761 	b4 = bits[4]
                    8500    762 	b5 = bits[5]
                    8600    763 	b6 = bits[6]
                    8700    764 	b7 = bits[7]
                            765 ;--------------------------------------------------------
                            766 ; internal ram data
                            767 ;--------------------------------------------------------
                            768 	.area DSEG    (DATA)
   0000                     769 _eeprom_select_PARM_2:
   0000                     770 	.ds 1
   0001                     771 _eeprom_select_PARM_3:
   0001                     772 	.ds 1
   0002                     773 _eeprom_read_PARM_2:
   0002                     774 	.ds 2
   0004                     775 _eeprom_read_PARM_3:
   0004                     776 	.ds 1
   0005                     777 _eeprom_write_PARM_2:
   0005                     778 	.ds 2
   0007                     779 _eeprom_write_PARM_3:
   0007                     780 	.ds 1
   0008                     781 _mac_eeprom_read_PARM_2:
   0008                     782 	.ds 1
   0009                     783 _mac_eeprom_read_PARM_3:
   0009                     784 	.ds 1
   000A                     785 _mac_eeprom_write_PARM_2:
   000A                     786 	.ds 1
   000B                     787 _mac_eeprom_write_PARM_3:
   000B                     788 	.ds 1
   000C                     789 _flash_write_PARM_2:
   000C                     790 	.ds 1
   000D                     791 _fpga_send_ep0_oOEB_1_1:
   000D                     792 	.ds 1
                            793 ;--------------------------------------------------------
                            794 ; overlayable items in internal ram 
                            795 ;--------------------------------------------------------
                            796 	.area	OSEG    (OVR,DATA)
                            797 	.area	OSEG    (OVR,DATA)
                            798 	.area	OSEG    (OVR,DATA)
                            799 	.area	OSEG    (OVR,DATA)
                            800 	.area	OSEG    (OVR,DATA)
                            801 	.area	OSEG    (OVR,DATA)
                            802 	.area	OSEG    (OVR,DATA)
                            803 	.area	OSEG    (OVR,DATA)
   0000                     804 _flash_read_PARM_2::
   0000                     805 	.ds 1
                            806 	.area	OSEG    (OVR,DATA)
                            807 	.area	OSEG    (OVR,DATA)
   0000                     808 _spi_write_PARM_2::
   0000                     809 	.ds 1
                            810 	.area	OSEG    (OVR,DATA)
   0000                     811 _sendStringDescriptor_PARM_2::
   0000                     812 	.ds 1
   0001                     813 _sendStringDescriptor_PARM_3::
   0001                     814 	.ds 1
                            815 ;--------------------------------------------------------
                            816 ; Stack segment in internal ram 
                            817 ;--------------------------------------------------------
                            818 	.area	SSEG	(DATA)
   0000                     819 __start__stack:
   0000                     820 	.ds	1
                            821 
                            822 ;--------------------------------------------------------
                            823 ; indirectly addressable internal ram data
                            824 ;--------------------------------------------------------
                            825 	.area ISEG    (DATA)
                            826 ;--------------------------------------------------------
                            827 ; absolute internal ram data
                            828 ;--------------------------------------------------------
                            829 	.area IABS    (ABS,DATA)
                            830 	.area IABS    (ABS,DATA)
                            831 ;--------------------------------------------------------
                            832 ; bit data
                            833 ;--------------------------------------------------------
                            834 	.area BSEG    (BIT)
                            835 ;--------------------------------------------------------
                            836 ; paged external ram data
                            837 ;--------------------------------------------------------
                            838 	.area PSEG    (PAG,XDATA)
                            839 ;--------------------------------------------------------
                            840 ; external ram data
                            841 ;--------------------------------------------------------
                            842 	.area XSEG    (XDATA)
                    E400    843 _GPIF_WAVE_DATA	=	0xe400
                    E400    844 _GPIF_WAVE0_DATA	=	0xe400
                    E420    845 _GPIF_WAVE1_DATA	=	0xe420
                    E440    846 _GPIF_WAVE2_DATA	=	0xe440
                    E460    847 _GPIF_WAVE3_DATA	=	0xe460
                    E50D    848 _GPCR2	=	0xe50d
                    E600    849 _CPUCS	=	0xe600
                    E601    850 _IFCONFIG	=	0xe601
                    E602    851 _PINFLAGSAB	=	0xe602
                    E603    852 _PINFLAGSCD	=	0xe603
                    E604    853 _FIFORESET	=	0xe604
                    E605    854 _BREAKPT	=	0xe605
                    E606    855 _BPADDRH	=	0xe606
                    E607    856 _BPADDRL	=	0xe607
                    E608    857 _UART230	=	0xe608
                    E609    858 _FIFOPINPOLAR	=	0xe609
                    E60A    859 _REVID	=	0xe60a
                    E60B    860 _REVCTL	=	0xe60b
                    E60C    861 _GPIFHOLDAMOUNT	=	0xe60c
                    E610    862 _EP1OUTCFG	=	0xe610
                    E611    863 _EP1INCFG	=	0xe611
                    E612    864 _EP2CFG	=	0xe612
                    E613    865 _EP4CFG	=	0xe613
                    E614    866 _EP6CFG	=	0xe614
                    E615    867 _EP8CFG	=	0xe615
                    E618    868 _EP2FIFOCFG	=	0xe618
                    E619    869 _EP4FIFOCFG	=	0xe619
                    E61A    870 _EP6FIFOCFG	=	0xe61a
                    E61B    871 _EP8FIFOCFG	=	0xe61b
                    E620    872 _EP2AUTOINLENH	=	0xe620
                    E621    873 _EP2AUTOINLENL	=	0xe621
                    E622    874 _EP4AUTOINLENH	=	0xe622
                    E623    875 _EP4AUTOINLENL	=	0xe623
                    E624    876 _EP6AUTOINLENH	=	0xe624
                    E625    877 _EP6AUTOINLENL	=	0xe625
                    E626    878 _EP8AUTOINLENH	=	0xe626
                    E627    879 _EP8AUTOINLENL	=	0xe627
                    E628    880 _ECCCFG	=	0xe628
                    E629    881 _ECCRESET	=	0xe629
                    E62A    882 _ECC1B0	=	0xe62a
                    E62B    883 _ECC1B1	=	0xe62b
                    E62C    884 _ECC1B2	=	0xe62c
                    E62D    885 _ECC2B0	=	0xe62d
                    E62E    886 _ECC2B1	=	0xe62e
                    E62F    887 _ECC2B2	=	0xe62f
                    E630    888 _EP2FIFOPFH	=	0xe630
                    E631    889 _EP2FIFOPFL	=	0xe631
                    E632    890 _EP4FIFOPFH	=	0xe632
                    E633    891 _EP4FIFOPFL	=	0xe633
                    E634    892 _EP6FIFOPFH	=	0xe634
                    E635    893 _EP6FIFOPFL	=	0xe635
                    E636    894 _EP8FIFOPFH	=	0xe636
                    E637    895 _EP8FIFOPFL	=	0xe637
                    E640    896 _EP2ISOINPKTS	=	0xe640
                    E641    897 _EP4ISOINPKTS	=	0xe641
                    E642    898 _EP6ISOINPKTS	=	0xe642
                    E643    899 _EP8ISOINPKTS	=	0xe643
                    E648    900 _INPKTEND	=	0xe648
                    E649    901 _OUTPKTEND	=	0xe649
                    E650    902 _EP2FIFOIE	=	0xe650
                    E651    903 _EP2FIFOIRQ	=	0xe651
                    E652    904 _EP4FIFOIE	=	0xe652
                    E653    905 _EP4FIFOIRQ	=	0xe653
                    E654    906 _EP6FIFOIE	=	0xe654
                    E655    907 _EP6FIFOIRQ	=	0xe655
                    E656    908 _EP8FIFOIE	=	0xe656
                    E657    909 _EP8FIFOIRQ	=	0xe657
                    E658    910 _IBNIE	=	0xe658
                    E659    911 _IBNIRQ	=	0xe659
                    E65A    912 _NAKIE	=	0xe65a
                    E65B    913 _NAKIRQ	=	0xe65b
                    E65C    914 _USBIE	=	0xe65c
                    E65D    915 _USBIRQ	=	0xe65d
                    E65E    916 _EPIE	=	0xe65e
                    E65F    917 _EPIRQ	=	0xe65f
                    E660    918 _GPIFIE	=	0xe660
                    E661    919 _GPIFIRQ	=	0xe661
                    E662    920 _USBERRIE	=	0xe662
                    E663    921 _USBERRIRQ	=	0xe663
                    E664    922 _ERRCNTLIM	=	0xe664
                    E665    923 _CLRERRCNT	=	0xe665
                    E666    924 _INT2IVEC	=	0xe666
                    E667    925 _INT4IVEC	=	0xe667
                    E668    926 _INTSETUP	=	0xe668
                    E670    927 _PORTACFG	=	0xe670
                    E671    928 _PORTCCFG	=	0xe671
                    E672    929 _PORTECFG	=	0xe672
                    E678    930 _I2CS	=	0xe678
                    E679    931 _I2DAT	=	0xe679
                    E67A    932 _I2CTL	=	0xe67a
                    E67B    933 _XAUTODAT1	=	0xe67b
                    E67B    934 _EXTAUTODAT1	=	0xe67b
                    E67C    935 _XAUTODAT2	=	0xe67c
                    E67C    936 _EXTAUTODAT2	=	0xe67c
                    E67D    937 _UDMACRCH	=	0xe67d
                    E67E    938 _UDMACRCL	=	0xe67e
                    E67F    939 _UDMACRCQUALIFIER	=	0xe67f
                    E680    940 _USBCS	=	0xe680
                    E681    941 _SUSPEND	=	0xe681
                    E682    942 _WAKEUPCS	=	0xe682
                    E683    943 _TOGCTL	=	0xe683
                    E684    944 _USBFRAMEH	=	0xe684
                    E685    945 _USBFRAMEL	=	0xe685
                    E686    946 _MICROFRAME	=	0xe686
                    E687    947 _FNADDR	=	0xe687
                    E68A    948 _EP0BCH	=	0xe68a
                    E68B    949 _EP0BCL	=	0xe68b
                    E68D    950 _EP1OUTBC	=	0xe68d
                    E68F    951 _EP1INBC	=	0xe68f
                    E690    952 _EP2BCH	=	0xe690
                    E691    953 _EP2BCL	=	0xe691
                    E694    954 _EP4BCH	=	0xe694
                    E695    955 _EP4BCL	=	0xe695
                    E698    956 _EP6BCH	=	0xe698
                    E699    957 _EP6BCL	=	0xe699
                    E69C    958 _EP8BCH	=	0xe69c
                    E69D    959 _EP8BCL	=	0xe69d
                    E6A0    960 _EP0CS	=	0xe6a0
                    E6A1    961 _EP1OUTCS	=	0xe6a1
                    E6A2    962 _EP1INCS	=	0xe6a2
                    E6A3    963 _EPXCS	=	0xe6a3
                    E6A3    964 _EP2CS	=	0xe6a3
                    E6A4    965 _EP4CS	=	0xe6a4
                    E6A5    966 _EP6CS	=	0xe6a5
                    E6A6    967 _EP8CS	=	0xe6a6
                    E6A7    968 _EP2FIFOFLGS	=	0xe6a7
                    E6A8    969 _EP4FIFOFLGS	=	0xe6a8
                    E6A9    970 _EP6FIFOFLGS	=	0xe6a9
                    E6AA    971 _EP8FIFOFLGS	=	0xe6aa
                    E6AB    972 _EP2FIFOBCH	=	0xe6ab
                    E6AC    973 _EP2FIFOBCL	=	0xe6ac
                    E6AD    974 _EP4FIFOBCH	=	0xe6ad
                    E6AE    975 _EP4FIFOBCL	=	0xe6ae
                    E6AF    976 _EP6FIFOBCH	=	0xe6af
                    E6B0    977 _EP6FIFOBCL	=	0xe6b0
                    E6B1    978 _EP8FIFOBCH	=	0xe6b1
                    E6B2    979 _EP8FIFOBCL	=	0xe6b2
                    E6B3    980 _SUDPTRH	=	0xe6b3
                    E6B4    981 _SUDPTRL	=	0xe6b4
                    E6B5    982 _SUDPTRCTL	=	0xe6b5
                    E6B8    983 _SETUPDAT	=	0xe6b8
                    E6B8    984 _bmRequestType	=	0xe6b8
                    E6B9    985 _bRequest	=	0xe6b9
                    E6BA    986 _wValueL	=	0xe6ba
                    E6BB    987 _wValueH	=	0xe6bb
                    E6BC    988 _wIndexL	=	0xe6bc
                    E6BD    989 _wIndexH	=	0xe6bd
                    E6BE    990 _wLengthL	=	0xe6be
                    E6BF    991 _wLengthH	=	0xe6bf
                    E6C0    992 _GPIFWFSELECT	=	0xe6c0
                    E6C1    993 _GPIFIDLECS	=	0xe6c1
                    E6C2    994 _GPIFIDLECTL	=	0xe6c2
                    E6C3    995 _GPIFCTLCFG	=	0xe6c3
                    E6C4    996 _GPIFADRH	=	0xe6c4
                    E6C5    997 _GPIFADRL	=	0xe6c5
                    E6C6    998 _FLOWSTATE	=	0xe6c6
                    E6C7    999 _FLOWLOGIC	=	0xe6c7
                    E6C8   1000 _FLOWEQ0CTL	=	0xe6c8
                    E6C9   1001 _FLOWEQ1CTL	=	0xe6c9
                    E6CA   1002 _FLOWHOLDOFF	=	0xe6ca
                    E6CB   1003 _FLOWSTB	=	0xe6cb
                    E6CC   1004 _FLOWSTBEDGE	=	0xe6cc
                    E6CD   1005 _FLOWSTBHPERIOD	=	0xe6cd
                    E6CE   1006 _GPIFTCB3	=	0xe6ce
                    E6CF   1007 _GPIFTCB2	=	0xe6cf
                    E6D0   1008 _GPIFTCB1	=	0xe6d0
                    E6D1   1009 _GPIFTCB0	=	0xe6d1
                    E6D2   1010 _EP2GPIFFLGSEL	=	0xe6d2
                    E6D3   1011 _EP2GPIFPFSTOP	=	0xe6d3
                    E6D4   1012 _EP2GPIFTRIG	=	0xe6d4
                    E6DA   1013 _EP4GPIFFLGSEL	=	0xe6da
                    E6DB   1014 _EP4GPIFPFSTOP	=	0xe6db
                    E6DC   1015 _EP4GPIFTRIG	=	0xe6dc
                    E6E2   1016 _EP6GPIFFLGSEL	=	0xe6e2
                    E6E3   1017 _EP6GPIFPFSTOP	=	0xe6e3
                    E6E4   1018 _EP6GPIFTRIG	=	0xe6e4
                    E6EA   1019 _EP8GPIFFLGSEL	=	0xe6ea
                    E6EB   1020 _EP8GPIFPFSTOP	=	0xe6eb
                    E6EC   1021 _EP8GPIFTRIG	=	0xe6ec
                    E6F0   1022 _XGPIFSGLDATH	=	0xe6f0
                    E6F1   1023 _XGPIFSGLDATLX	=	0xe6f1
                    E6F2   1024 _XGPIFSGLDATLNOX	=	0xe6f2
                    E6F3   1025 _GPIFREADYCFG	=	0xe6f3
                    E6F4   1026 _GPIFREADYSTAT	=	0xe6f4
                    E6F5   1027 _GPIFABORT	=	0xe6f5
                    E740   1028 _EP0BUF	=	0xe740
                    E780   1029 _EP1OUTBUF	=	0xe780
                    E7C0   1030 _EP1INBUF	=	0xe7c0
                    F000   1031 _EP2FIFOBUF	=	0xf000
                    F400   1032 _EP4FIFOBUF	=	0xf400
                    F800   1033 _EP6FIFOBUF	=	0xf800
                    FC00   1034 _EP8FIFOBUF	=	0xfc00
                    0003   1035 _INT0VEC_IE0	=	0x0003
                    000B   1036 _INT1VEC_T0	=	0x000b
                    0013   1037 _INT2VEC_IE1	=	0x0013
                    001B   1038 _INT3VEC_T1	=	0x001b
                    0023   1039 _INT4VEC_USART0	=	0x0023
                    002B   1040 _INT5VEC_T2	=	0x002b
                    0033   1041 _INT6VEC_RESUME	=	0x0033
                    003B   1042 _INT7VEC_USART1	=	0x003b
                    0043   1043 _INT8VEC_USB	=	0x0043
                    004B   1044 _INT9VEC_I2C	=	0x004b
                    0053   1045 _INT10VEC_GPIF	=	0x0053
                    005B   1046 _INT11VEC_IE5	=	0x005b
                    0063   1047 _INT12VEC_IE6	=	0x0063
                    0100   1048 _INTVEC_SUDAV	=	0x0100
                    0104   1049 _INTVEC_SOF	=	0x0104
                    0108   1050 _INTVEC_SUTOK	=	0x0108
                    010C   1051 _INTVEC_SUSPEND	=	0x010c
                    0110   1052 _INTVEC_USBRESET	=	0x0110
                    0114   1053 _INTVEC_HISPEED	=	0x0114
                    0118   1054 _INTVEC_EP0ACK	=	0x0118
                    0120   1055 _INTVEC_EP0IN	=	0x0120
                    0124   1056 _INTVEC_EP0OUT	=	0x0124
                    0128   1057 _INTVEC_EP1IN	=	0x0128
                    012C   1058 _INTVEC_EP1OUT	=	0x012c
                    0130   1059 _INTVEC_EP2	=	0x0130
                    0134   1060 _INTVEC_EP4	=	0x0134
                    0138   1061 _INTVEC_EP6	=	0x0138
                    013C   1062 _INTVEC_EP8	=	0x013c
                    0140   1063 _INTVEC_IBN	=	0x0140
                    0148   1064 _INTVEC_EP0PING	=	0x0148
                    014C   1065 _INTVEC_EP1PING	=	0x014c
                    0150   1066 _INTVEC_EP2PING	=	0x0150
                    0154   1067 _INTVEC_EP4PING	=	0x0154
                    0158   1068 _INTVEC_EP6PING	=	0x0158
                    015C   1069 _INTVEC_EP8PING	=	0x015c
                    0160   1070 _INTVEC_ERRLIMIT	=	0x0160
                    0170   1071 _INTVEC_EP2ISOERR	=	0x0170
                    0174   1072 _INTVEC_EP4ISOERR	=	0x0174
                    0178   1073 _INTVEC_EP6ISOERR	=	0x0178
                    017C   1074 _INTVEC_EP8ISOERR	=	0x017c
                    0180   1075 _INTVEC_EP2PF	=	0x0180
                    0184   1076 _INTVEC_EP4PF	=	0x0184
                    0188   1077 _INTVEC_EP6PF	=	0x0188
                    018C   1078 _INTVEC_EP8PF	=	0x018c
                    0190   1079 _INTVEC_EP2EF	=	0x0190
                    0194   1080 _INTVEC_EP4EF	=	0x0194
                    0198   1081 _INTVEC_EP6EF	=	0x0198
                    019C   1082 _INTVEC_EP8EF	=	0x019c
                    01A0   1083 _INTVEC_EP2FF	=	0x01a0
                    01A8   1084 _INTVEC_EP6FF	=	0x01a8
                    01AC   1085 _INTVEC_EP8FF	=	0x01ac
                    01B0   1086 _INTVEC_GPIFDONE	=	0x01b0
                    01B4   1087 _INTVEC_GPIFWF	=	0x01b4
   0000                    1088 _eeprom_addr::
   0000                    1089 	.ds 2
   0002                    1090 _eeprom_write_bytes::
   0002                    1091 	.ds 2
   0004                    1092 _eeprom_write_checksum::
   0004                    1093 	.ds 1
   0005                    1094 _mac_eeprom_addr::
   0005                    1095 	.ds 1
   0006                    1096 _config_data_valid::
   0006                    1097 	.ds 1
   0007                    1098 _flash_enabled::
   0007                    1099 	.ds 1
   0008                    1100 _flash_sector_size::
   0008                    1101 	.ds 2
   000A                    1102 _flash_sectors::
   000A                    1103 	.ds 4
   000E                    1104 _flash_ec::
   000E                    1105 	.ds 1
   000F                    1106 _spi_vendor::
   000F                    1107 	.ds 1
   0010                    1108 _spi_device::
   0010                    1109 	.ds 1
   0011                    1110 _spi_memtype::
   0011                    1111 	.ds 1
   0012                    1112 _spi_erase_cmd::
   0012                    1113 	.ds 1
   0013                    1114 _spi_last_cmd::
   0013                    1115 	.ds 1
   0014                    1116 _spi_buffer::
   0014                    1117 	.ds 4
   0018                    1118 _spi_write_addr_hi::
   0018                    1119 	.ds 2
   001A                    1120 _spi_write_addr_lo::
   001A                    1121 	.ds 1
   001B                    1122 _spi_need_pp::
   001B                    1123 	.ds 1
   001C                    1124 _spi_write_sector::
   001C                    1125 	.ds 2
   001E                    1126 _ep0_read_mode::
   001E                    1127 	.ds 1
   001F                    1128 _ep0_write_mode::
   001F                    1129 	.ds 1
   0020                    1130 _fpga_checksum::
   0020                    1131 	.ds 1
   0021                    1132 _fpga_bytes::
   0021                    1133 	.ds 4
   0025                    1134 _fpga_init_b::
   0025                    1135 	.ds 1
   0026                    1136 _fpga_flash_result::
   0026                    1137 	.ds 1
   0027                    1138 _fpga_conf_initialized::
   0027                    1139 	.ds 1
   0028                    1140 _OOEC::
   0028                    1141 	.ds 1
   0029                    1142 _fpga_first_free_sector_buf_1_1:
   0029                    1143 	.ds 4
   002D                    1144 _fpga_configure_from_flash_init_buf_1_1:
   002D                    1145 	.ds 4
                    006C   1146 _ZTEX_DESCRIPTOR	=	0x006c
                    006D   1147 _ZTEX_DESCRIPTOR_VERSION	=	0x006d
                    006E   1148 _ZTEXID	=	0x006e
                    0072   1149 _PRODUCT_ID	=	0x0072
                    0076   1150 _FW_VERSION	=	0x0076
                    0077   1151 _INTERFACE_VERSION	=	0x0077
                    0078   1152 _INTERFACE_CAPABILITIES	=	0x0078
                    007E   1153 _MODULE_RESERVED	=	0x007e
                    008A   1154 _SN_STRING	=	0x008a
   0031                    1155 _mac_eeprom_init_buf_1_1:
   0031                    1156 	.ds 5
                           1157 ;--------------------------------------------------------
                           1158 ; absolute external ram data
                           1159 ;--------------------------------------------------------
                           1160 	.area XABS    (ABS,XDATA)
                           1161 ;--------------------------------------------------------
                           1162 ; external initialized ram data
                           1163 ;--------------------------------------------------------
                           1164 	.area XISEG   (XDATA)
   0000                    1165 _ep0_payload_remaining::
   0000                    1166 	.ds 2
   0002                    1167 _ep0_payload_transfer::
   0002                    1168 	.ds 1
   0003                    1169 _GPIF_WAVE_DATA_HSFPGA_24MHZ::
   0003                    1170 	.ds 32
   0023                    1171 _GPIF_WAVE_DATA_HSFPGA_12MHZ::
   0023                    1172 	.ds 32
   0043                    1173 _ep0_prev_setup_request::
   0043                    1174 	.ds 1
   0044                    1175 _ep0_vendor_cmd_setup::
   0044                    1176 	.ds 1
   0045                    1177 _ISOFRAME_COUNTER::
   0045                    1178 	.ds 8
                           1179 	.area HOME    (CODE)
                           1180 	.area GSINIT0 (CODE)
                           1181 	.area GSINIT1 (CODE)
                           1182 	.area GSINIT2 (CODE)
                           1183 	.area GSINIT3 (CODE)
                           1184 	.area GSINIT4 (CODE)
                           1185 	.area GSINIT5 (CODE)
                           1186 	.area GSINIT  (CODE)
                           1187 	.area GSFINAL (CODE)
                           1188 	.area CSEG    (CODE)
                           1189 ;--------------------------------------------------------
                           1190 ; interrupt vector 
                           1191 ;--------------------------------------------------------
                           1192 	.area HOME    (CODE)
   0000                    1193 __interrupt_vect:
   0000 02s00r00           1194 	ljmp	__sdcc_gsinit_startup
                           1195 ;--------------------------------------------------------
                           1196 ; global & static initialisations
                           1197 ;--------------------------------------------------------
                           1198 	.area HOME    (CODE)
                           1199 	.area GSINIT  (CODE)
                           1200 	.area GSFINAL (CODE)
                           1201 	.area GSINIT  (CODE)
                           1202 	.globl __sdcc_gsinit_startup
                           1203 	.globl __sdcc_program_startup
                           1204 	.globl __start__stack
                           1205 	.globl __mcs51_genXINIT
                           1206 	.globl __mcs51_genXRAMCLEAR
                           1207 	.globl __mcs51_genRAMCLEAR
                           1208 	.area GSFINAL (CODE)
   0000 02s00r03           1209 	ljmp	__sdcc_program_startup
                           1210 ;--------------------------------------------------------
                           1211 ; Home
                           1212 ;--------------------------------------------------------
                           1213 	.area HOME    (CODE)
                           1214 	.area HOME    (CODE)
   0003                    1215 __sdcc_program_startup:
   0003 12s1CrC0           1216 	lcall	_main
                           1217 ;	return from main will lock up
   0006 80 FE              1218 	sjmp .
                           1219 ;--------------------------------------------------------
                           1220 ; code
                           1221 ;--------------------------------------------------------
                           1222 	.area CSEG    (CODE)
                           1223 ;------------------------------------------------------------
                           1224 ;Allocation info for local variables in function 'abscode_intvec'
                           1225 ;------------------------------------------------------------
                           1226 ;------------------------------------------------------------
                           1227 ;	../../include/ezintavecs.h:92: void abscode_intvec()// _naked
                           1228 ;	-----------------------------------------
                           1229 ;	 function abscode_intvec
                           1230 ;	-----------------------------------------
   0000                    1231 _abscode_intvec:
                    0002   1232 	ar2 = 0x02
                    0003   1233 	ar3 = 0x03
                    0004   1234 	ar4 = 0x04
                    0005   1235 	ar5 = 0x05
                    0006   1236 	ar6 = 0x06
                    0007   1237 	ar7 = 0x07
                    0000   1238 	ar0 = 0x00
                    0001   1239 	ar1 = 0x01
                           1240 ;	../../include/ezintavecs.h:317: ERROR: no line number 317 in file ../../include/ezintavecs.h
                           1241 	
                           1242 	    .area ABSCODE (ABS,CODE)
   0000                    1243 	    .org 0x0000
   0000                    1244 	ENTRY:
   0000 02 02 00           1245 	 ljmp #0x0200
                           1246 ;	# 94 "../../include/ezintavecs.h"
   0003                    1247 	    .org 0x0003
                           1248 ;	# 34 "../../include/ezintavecs.h"
   0003 32                 1249 	 reti
                           1250 ;	# 94 "../../include/ezintavecs.h"
   000B                    1251 	    .org 0x000b
                           1252 ;	# 35 "../../include/ezintavecs.h"
   000B 32                 1253 	 reti
                           1254 ;	# 94 "../../include/ezintavecs.h"
   0013                    1255 	    .org 0x0013
                           1256 ;	# 36 "../../include/ezintavecs.h"
   0013 32                 1257 	 reti
                           1258 ;	# 94 "../../include/ezintavecs.h"
   001B                    1259 	    .org 0x001b
                           1260 ;	# 37 "../../include/ezintavecs.h"
   001B 32                 1261 	 reti
                           1262 ;	# 94 "../../include/ezintavecs.h"
   0023                    1263 	    .org 0x0023
                           1264 ;	# 38 "../../include/ezintavecs.h"
   0023 32                 1265 	 reti
                           1266 ;	# 94 "../../include/ezintavecs.h"
   002B                    1267 	    .org 0x002b
                           1268 ;	# 39 "../../include/ezintavecs.h"
   002B 32                 1269 	 reti
                           1270 ;	# 94 "../../include/ezintavecs.h"
   0033                    1271 	    .org 0x0033
                           1272 ;	# 40 "../../include/ezintavecs.h"
   0033 32                 1273 	 reti
                           1274 ;	# 94 "../../include/ezintavecs.h"
   003B                    1275 	    .org 0x003b
                           1276 ;	# 41 "../../include/ezintavecs.h"
   003B 32                 1277 	 reti
                           1278 ;	# 94 "../../include/ezintavecs.h"
   0043                    1279 	    .org 0x0043
                           1280 ;	# 42 "../../include/ezintavecs.h"
   0043 32                 1281 	 reti
                           1282 ;	# 94 "../../include/ezintavecs.h"
   004B                    1283 	    .org 0x004b
                           1284 ;	# 43 "../../include/ezintavecs.h"
   004B 32                 1285 	 reti
                           1286 ;	# 94 "../../include/ezintavecs.h"
   0053                    1287 	    .org 0x0053
                           1288 ;	# 44 "../../include/ezintavecs.h"
   0053 32                 1289 	 reti
                           1290 ;	# 94 "../../include/ezintavecs.h"
   005B                    1291 	    .org 0x005b
                           1292 ;	# 45 "../../include/ezintavecs.h"
   005B 32                 1293 	 reti
                           1294 ;	# 94 "../../include/ezintavecs.h"
   0063                    1295 	    .org 0x0063
                           1296 ;	# 46 "../../include/ezintavecs.h"
   0063 32                 1297 	 reti
                           1298 ;	# 94 "../../include/ezintavecs.h"
   0100                    1299 	    .org 0x0100
                           1300 ;	# 47 "../../include/ezintavecs.h"
   0100 32                 1301 	 reti
                           1302 ;	# 94 "../../include/ezintavecs.h"
   0104                    1303 	    .org 0x0104
                           1304 ;	# 48 "../../include/ezintavecs.h"
   0104 32                 1305 	 reti
                           1306 ;	# 94 "../../include/ezintavecs.h"
   0108                    1307 	    .org 0x0108
                           1308 ;	# 49 "../../include/ezintavecs.h"
   0108 32                 1309 	 reti
                           1310 ;	# 94 "../../include/ezintavecs.h"
   010C                    1311 	    .org 0x010C
                           1312 ;	# 50 "../../include/ezintavecs.h"
   010C 32                 1313 	 reti
                           1314 ;	# 94 "../../include/ezintavecs.h"
   0110                    1315 	    .org 0x0110
                           1316 ;	# 51 "../../include/ezintavecs.h"
   0110 32                 1317 	 reti
                           1318 ;	# 94 "../../include/ezintavecs.h"
   0114                    1319 	    .org 0x0114
                           1320 ;	# 52 "../../include/ezintavecs.h"
   0114 32                 1321 	 reti
                           1322 ;	# 94 "../../include/ezintavecs.h"
   0118                    1323 	    .org 0x0118
                           1324 ;	# 53 "../../include/ezintavecs.h"
   0118 32                 1325 	 reti
                           1326 ;	# 94 "../../include/ezintavecs.h"
   0120                    1327 	    .org 0x0120
                           1328 ;	# 54 "../../include/ezintavecs.h"
   0120 32                 1329 	 reti
                           1330 ;	# 94 "../../include/ezintavecs.h"
   0124                    1331 	    .org 0x0124
                           1332 ;	# 55 "../../include/ezintavecs.h"
   0124 32                 1333 	 reti
                           1334 ;	# 94 "../../include/ezintavecs.h"
   0128                    1335 	    .org 0x0128
                           1336 ;	# 56 "../../include/ezintavecs.h"
   0128 32                 1337 	 reti
                           1338 ;	# 94 "../../include/ezintavecs.h"
   012C                    1339 	    .org 0x012C
                           1340 ;	# 57 "../../include/ezintavecs.h"
   012C 32                 1341 	 reti
                           1342 ;	# 94 "../../include/ezintavecs.h"
   0130                    1343 	    .org 0x0130
                           1344 ;	# 58 "../../include/ezintavecs.h"
   0130 32                 1345 	 reti
                           1346 ;	# 94 "../../include/ezintavecs.h"
   0134                    1347 	    .org 0x0134
                           1348 ;	# 59 "../../include/ezintavecs.h"
   0134 32                 1349 	 reti
                           1350 ;	# 94 "../../include/ezintavecs.h"
   0138                    1351 	    .org 0x0138
                           1352 ;	# 60 "../../include/ezintavecs.h"
   0138 32                 1353 	 reti
                           1354 ;	# 94 "../../include/ezintavecs.h"
   013C                    1355 	    .org 0x013C
                           1356 ;	# 61 "../../include/ezintavecs.h"
   013C 32                 1357 	 reti
                           1358 ;	# 94 "../../include/ezintavecs.h"
   0140                    1359 	    .org 0x0140
                           1360 ;	# 62 "../../include/ezintavecs.h"
   0140 32                 1361 	 reti
                           1362 ;	# 94 "../../include/ezintavecs.h"
   0148                    1363 	    .org 0x0148
                           1364 ;	# 63 "../../include/ezintavecs.h"
   0148 32                 1365 	 reti
                           1366 ;	# 94 "../../include/ezintavecs.h"
   014C                    1367 	    .org 0x014C
                           1368 ;	# 64 "../../include/ezintavecs.h"
   014C 32                 1369 	 reti
                           1370 ;	# 94 "../../include/ezintavecs.h"
   0150                    1371 	    .org 0x0150
                           1372 ;	# 65 "../../include/ezintavecs.h"
   0150 32                 1373 	 reti
                           1374 ;	# 94 "../../include/ezintavecs.h"
   0154                    1375 	    .org 0x0154
                           1376 ;	# 66 "../../include/ezintavecs.h"
   0154 32                 1377 	 reti
                           1378 ;	# 94 "../../include/ezintavecs.h"
   0158                    1379 	    .org 0x0158
                           1380 ;	# 67 "../../include/ezintavecs.h"
   0158 32                 1381 	 reti
                           1382 ;	# 94 "../../include/ezintavecs.h"
   015C                    1383 	    .org 0x015C
                           1384 ;	# 68 "../../include/ezintavecs.h"
   015C 32                 1385 	 reti
                           1386 ;	# 94 "../../include/ezintavecs.h"
   0160                    1387 	    .org 0x0160
                           1388 ;	# 69 "../../include/ezintavecs.h"
   0160 32                 1389 	 reti
                           1390 ;	# 94 "../../include/ezintavecs.h"
   0170                    1391 	    .org 0x0170
                           1392 ;	# 70 "../../include/ezintavecs.h"
   0170 32                 1393 	 reti
                           1394 ;	# 94 "../../include/ezintavecs.h"
   0174                    1395 	    .org 0x0174
                           1396 ;	# 71 "../../include/ezintavecs.h"
   0174 32                 1397 	 reti
                           1398 ;	# 94 "../../include/ezintavecs.h"
   0178                    1399 	    .org 0x0178
                           1400 ;	# 72 "../../include/ezintavecs.h"
   0178 32                 1401 	 reti
                           1402 ;	# 94 "../../include/ezintavecs.h"
   017C                    1403 	    .org 0x017C
                           1404 ;	# 73 "../../include/ezintavecs.h"
   017C 32                 1405 	 reti
                           1406 ;	# 94 "../../include/ezintavecs.h"
   0180                    1407 	    .org 0x0180
                           1408 ;	# 74 "../../include/ezintavecs.h"
   0180 32                 1409 	 reti
                           1410 ;	# 94 "../../include/ezintavecs.h"
   0184                    1411 	    .org 0x0184
                           1412 ;	# 75 "../../include/ezintavecs.h"
   0184 32                 1413 	 reti
                           1414 ;	# 94 "../../include/ezintavecs.h"
   0188                    1415 	    .org 0x0188
                           1416 ;	# 76 "../../include/ezintavecs.h"
   0188 32                 1417 	 reti
                           1418 ;	# 94 "../../include/ezintavecs.h"
   018C                    1419 	    .org 0x018C
                           1420 ;	# 77 "../../include/ezintavecs.h"
   018C 32                 1421 	 reti
                           1422 ;	# 94 "../../include/ezintavecs.h"
   0190                    1423 	    .org 0x0190
                           1424 ;	# 78 "../../include/ezintavecs.h"
   0190 32                 1425 	 reti
                           1426 ;	# 94 "../../include/ezintavecs.h"
   0194                    1427 	    .org 0x0194
                           1428 ;	# 79 "../../include/ezintavecs.h"
   0194 32                 1429 	 reti
                           1430 ;	# 94 "../../include/ezintavecs.h"
   0198                    1431 	    .org 0x0198
                           1432 ;	# 80 "../../include/ezintavecs.h"
   0198 32                 1433 	 reti
                           1434 ;	# 94 "../../include/ezintavecs.h"
   019C                    1435 	    .org 0x019C
                           1436 ;	# 81 "../../include/ezintavecs.h"
   019C 32                 1437 	 reti
                           1438 ;	# 94 "../../include/ezintavecs.h"
   01A0                    1439 	    .org 0x01A0
                           1440 ;	# 82 "../../include/ezintavecs.h"
   01A0 32                 1441 	 reti
                           1442 ;	# 94 "../../include/ezintavecs.h"
   01A8                    1443 	    .org 0x01A8
                           1444 ;	# 83 "../../include/ezintavecs.h"
   01A8 32                 1445 	 reti
                           1446 ;	# 94 "../../include/ezintavecs.h"
   01AC                    1447 	    .org 0x01AC
                           1448 ;	# 84 "../../include/ezintavecs.h"
   01AC 32                 1449 	 reti
                           1450 ;	# 94 "../../include/ezintavecs.h"
   01B0                    1451 	    .org 0x01B0
                           1452 ;	# 85 "../../include/ezintavecs.h"
   01B0 32                 1453 	 reti
                           1454 ;	# 94 "../../include/ezintavecs.h"
   01B4                    1455 	    .org 0x01B4
                           1456 ;	# 101 "../../include/ezintavecs.h"
   01B4 32                 1457 	 reti
   01B8                    1458 	    .org 0x01b8
   01B8                    1459 	INTVEC_DUMMY:
   01B8 32                 1460 	        reti
                           1461 	    .area CSEG (CODE)
                           1462 	    
   0000 22                 1463 	ret
                           1464 ;------------------------------------------------------------
                           1465 ;Allocation info for local variables in function 'wait'
                           1466 ;------------------------------------------------------------
                           1467 ;ms                        Allocated to registers r2 r3 
                           1468 ;i                         Allocated to registers r6 r7 
                           1469 ;j                         Allocated to registers r4 r5 
                           1470 ;------------------------------------------------------------
                           1471 ;	../../include/ztex-utils.h:78: void wait(WORD short ms) {	  // wait in ms 
                           1472 ;	-----------------------------------------
                           1473 ;	 function wait
                           1474 ;	-----------------------------------------
   0001                    1475 _wait:
   0001 AA 82              1476 	mov	r2,dpl
   0003 AB 83              1477 	mov	r3,dph
                           1478 ;	../../include/ztex-utils.h:80: for (j=0; j<ms; j++) 
   0005 7C 00              1479 	mov	r4,#0x00
   0007 7D 00              1480 	mov	r5,#0x00
   0009                    1481 00104$:
   0009 C3                 1482 	clr	c
   000A EC                 1483 	mov	a,r4
   000B 9A                 1484 	subb	a,r2
   000C ED                 1485 	mov	a,r5
   000D 9B                 1486 	subb	a,r3
   000E 50 14              1487 	jnc	00108$
                           1488 ;	../../include/ztex-utils.h:81: for (i=0; i<1200; i++);
   0010 7E B0              1489 	mov	r6,#0xB0
   0012 7F 04              1490 	mov	r7,#0x04
   0014                    1491 00103$:
   0014 1E                 1492 	dec	r6
   0015 BE FF 01           1493 	cjne	r6,#0xff,00117$
   0018 1F                 1494 	dec	r7
   0019                    1495 00117$:
   0019 EE                 1496 	mov	a,r6
   001A 4F                 1497 	orl	a,r7
   001B 70 F7              1498 	jnz	00103$
                           1499 ;	../../include/ztex-utils.h:80: for (j=0; j<ms; j++) 
   001D 0C                 1500 	inc	r4
   001E BC 00 E8           1501 	cjne	r4,#0x00,00104$
   0021 0D                 1502 	inc	r5
   0022 80 E5              1503 	sjmp	00104$
   0024                    1504 00108$:
   0024 22                 1505 	ret
                           1506 ;------------------------------------------------------------
                           1507 ;Allocation info for local variables in function 'uwait'
                           1508 ;------------------------------------------------------------
                           1509 ;us                        Allocated to registers r2 r3 
                           1510 ;i                         Allocated to registers r6 r7 
                           1511 ;j                         Allocated to registers r4 r5 
                           1512 ;------------------------------------------------------------
                           1513 ;	../../include/ztex-utils.h:88: void uwait(WORD short us) {	  // wait in 10s steps
                           1514 ;	-----------------------------------------
                           1515 ;	 function uwait
                           1516 ;	-----------------------------------------
   0025                    1517 _uwait:
   0025 AA 82              1518 	mov	r2,dpl
   0027 AB 83              1519 	mov	r3,dph
                           1520 ;	../../include/ztex-utils.h:90: for (j=0; j<us; j++) 
   0029 7C 00              1521 	mov	r4,#0x00
   002B 7D 00              1522 	mov	r5,#0x00
   002D                    1523 00104$:
   002D C3                 1524 	clr	c
   002E EC                 1525 	mov	a,r4
   002F 9A                 1526 	subb	a,r2
   0030 ED                 1527 	mov	a,r5
   0031 9B                 1528 	subb	a,r3
   0032 50 14              1529 	jnc	00108$
                           1530 ;	../../include/ztex-utils.h:91: for (i=0; i<10; i++);
   0034 7E 0A              1531 	mov	r6,#0x0A
   0036 7F 00              1532 	mov	r7,#0x00
   0038                    1533 00103$:
   0038 1E                 1534 	dec	r6
   0039 BE FF 01           1535 	cjne	r6,#0xff,00117$
   003C 1F                 1536 	dec	r7
   003D                    1537 00117$:
   003D EE                 1538 	mov	a,r6
   003E 4F                 1539 	orl	a,r7
   003F 70 F7              1540 	jnz	00103$
                           1541 ;	../../include/ztex-utils.h:90: for (j=0; j<us; j++) 
   0041 0C                 1542 	inc	r4
   0042 BC 00 E8           1543 	cjne	r4,#0x00,00104$
   0045 0D                 1544 	inc	r5
   0046 80 E5              1545 	sjmp	00104$
   0048                    1546 00108$:
   0048 22                 1547 	ret
                           1548 ;------------------------------------------------------------
                           1549 ;Allocation info for local variables in function 'MEM_COPY1_int'
                           1550 ;------------------------------------------------------------
                           1551 ;------------------------------------------------------------
                           1552 ;	../../include/ztex-utils.h:99: void MEM_COPY1_int() // __naked 
                           1553 ;	-----------------------------------------
                           1554 ;	 function MEM_COPY1_int
                           1555 ;	-----------------------------------------
   0049                    1556 _MEM_COPY1_int:
                           1557 ;	../../include/ztex-utils.h:110: __endasm;
                           1558 	
   0049                    1559 	020001$:
   0049 75 AF 07           1560 	     mov _AUTOPTRSETUP,#0x07
   004C 90 E6 7B           1561 	     mov dptr,#_XAUTODAT1
   004F E0                 1562 	     movx a,@dptr
   0050 90 E6 7C           1563 	     mov dptr,#_XAUTODAT2
   0053 F0                 1564 	     movx @dptr,a
   0054 DA F3              1565 	     djnz r2, 020001$
   0056 22                 1566 	     ret
                           1567 	 
   0057 22                 1568 	ret
                           1569 ;------------------------------------------------------------
                           1570 ;Allocation info for local variables in function 'i2c_waitWrite'
                           1571 ;------------------------------------------------------------
                           1572 ;i2csbuf                   Allocated to registers r2 
                           1573 ;toc                       Allocated to registers r2 
                           1574 ;------------------------------------------------------------
                           1575 ;	../../include/ztex-eeprom.h:41: BYTE i2c_waitWrite()
                           1576 ;	-----------------------------------------
                           1577 ;	 function i2c_waitWrite
                           1578 ;	-----------------------------------------
   0058                    1579 _i2c_waitWrite:
                           1580 ;	../../include/ztex-eeprom.h:44: for ( toc=0; toc<255 && !(I2CS & bmBIT0); toc++ );
   0058 7A 00              1581 	mov	r2,#0x00
   005A                    1582 00105$:
   005A BA FF 00           1583 	cjne	r2,#0xFF,00116$
   005D                    1584 00116$:
   005D 50 0B              1585 	jnc	00108$
   005F 90 E6 78           1586 	mov	dptr,#_I2CS
   0062 E0                 1587 	movx	a,@dptr
   0063 FB                 1588 	mov	r3,a
   0064 20 E0 03           1589 	jb	acc.0,00108$
   0067 0A                 1590 	inc	r2
   0068 80 F0              1591 	sjmp	00105$
   006A                    1592 00108$:
                           1593 ;	../../include/ztex-eeprom.h:45: i2csbuf = I2CS;
   006A 90 E6 78           1594 	mov	dptr,#_I2CS
   006D E0                 1595 	movx	a,@dptr
                           1596 ;	../../include/ztex-eeprom.h:46: if ( (i2csbuf & bmBIT2) || (!(i2csbuf & bmBIT1)) ) {
   006E FA                 1597 	mov	r2,a
   006F 20 E2 04           1598 	jb	acc.2,00101$
   0072 EA                 1599 	mov	a,r2
   0073 20 E1 0B           1600 	jb	acc.1,00102$
   0076                    1601 00101$:
                           1602 ;	../../include/ztex-eeprom.h:47: I2CS |= bmBIT6;
   0076 90 E6 78           1603 	mov	dptr,#_I2CS
   0079 E0                 1604 	movx	a,@dptr
   007A 44 40              1605 	orl	a,#0x40
   007C F0                 1606 	movx	@dptr,a
                           1607 ;	../../include/ztex-eeprom.h:48: return 1;
   007D 75 82 01           1608 	mov	dpl,#0x01
                           1609 ;	../../include/ztex-eeprom.h:50: return 0;
   0080 22                 1610 	ret
   0081                    1611 00102$:
   0081 75 82 00           1612 	mov	dpl,#0x00
   0084 22                 1613 	ret
                           1614 ;------------------------------------------------------------
                           1615 ;Allocation info for local variables in function 'i2c_waitRead'
                           1616 ;------------------------------------------------------------
                           1617 ;i2csbuf                   Allocated to registers r2 
                           1618 ;toc                       Allocated to registers r2 
                           1619 ;------------------------------------------------------------
                           1620 ;	../../include/ztex-eeprom.h:57: BYTE i2c_waitRead(void)
                           1621 ;	-----------------------------------------
                           1622 ;	 function i2c_waitRead
                           1623 ;	-----------------------------------------
   0085                    1624 _i2c_waitRead:
                           1625 ;	../../include/ztex-eeprom.h:60: for ( toc=0; toc<255 && !(I2CS & bmBIT0); toc++ );
   0085 7A 00              1626 	mov	r2,#0x00
   0087                    1627 00104$:
   0087 BA FF 00           1628 	cjne	r2,#0xFF,00115$
   008A                    1629 00115$:
   008A 50 0B              1630 	jnc	00107$
   008C 90 E6 78           1631 	mov	dptr,#_I2CS
   008F E0                 1632 	movx	a,@dptr
   0090 FB                 1633 	mov	r3,a
   0091 20 E0 03           1634 	jb	acc.0,00107$
   0094 0A                 1635 	inc	r2
   0095 80 F0              1636 	sjmp	00104$
   0097                    1637 00107$:
                           1638 ;	../../include/ztex-eeprom.h:61: i2csbuf = I2CS;
   0097 90 E6 78           1639 	mov	dptr,#_I2CS
   009A E0                 1640 	movx	a,@dptr
                           1641 ;	../../include/ztex-eeprom.h:62: if (i2csbuf & bmBIT2) {
   009B FA                 1642 	mov	r2,a
   009C 30 E2 0B           1643 	jnb	acc.2,00102$
                           1644 ;	../../include/ztex-eeprom.h:63: I2CS |= bmBIT6;
   009F 90 E6 78           1645 	mov	dptr,#_I2CS
   00A2 E0                 1646 	movx	a,@dptr
   00A3 44 40              1647 	orl	a,#0x40
   00A5 F0                 1648 	movx	@dptr,a
                           1649 ;	../../include/ztex-eeprom.h:64: return 1;
   00A6 75 82 01           1650 	mov	dpl,#0x01
                           1651 ;	../../include/ztex-eeprom.h:66: return 0;
   00A9 22                 1652 	ret
   00AA                    1653 00102$:
   00AA 75 82 00           1654 	mov	dpl,#0x00
   00AD 22                 1655 	ret
                           1656 ;------------------------------------------------------------
                           1657 ;Allocation info for local variables in function 'i2c_waitStart'
                           1658 ;------------------------------------------------------------
                           1659 ;toc                       Allocated to registers r2 
                           1660 ;------------------------------------------------------------
                           1661 ;	../../include/ztex-eeprom.h:73: BYTE i2c_waitStart()
                           1662 ;	-----------------------------------------
                           1663 ;	 function i2c_waitStart
                           1664 ;	-----------------------------------------
   00AE                    1665 _i2c_waitStart:
                           1666 ;	../../include/ztex-eeprom.h:76: for ( toc=0; toc<255; toc++ ) {
   00AE 7A 00              1667 	mov	r2,#0x00
   00B0                    1668 00103$:
   00B0 BA FF 00           1669 	cjne	r2,#0xFF,00112$
   00B3                    1670 00112$:
   00B3 50 0F              1671 	jnc	00106$
                           1672 ;	../../include/ztex-eeprom.h:77: if ( ! (I2CS & bmBIT2) )
   00B5 90 E6 78           1673 	mov	dptr,#_I2CS
   00B8 E0                 1674 	movx	a,@dptr
   00B9 FB                 1675 	mov	r3,a
   00BA 20 E2 04           1676 	jb	acc.2,00105$
                           1677 ;	../../include/ztex-eeprom.h:78: return 0;
   00BD 75 82 00           1678 	mov	dpl,#0x00
   00C0 22                 1679 	ret
   00C1                    1680 00105$:
                           1681 ;	../../include/ztex-eeprom.h:76: for ( toc=0; toc<255; toc++ ) {
   00C1 0A                 1682 	inc	r2
   00C2 80 EC              1683 	sjmp	00103$
   00C4                    1684 00106$:
                           1685 ;	../../include/ztex-eeprom.h:80: return 1;
   00C4 75 82 01           1686 	mov	dpl,#0x01
   00C7 22                 1687 	ret
                           1688 ;------------------------------------------------------------
                           1689 ;Allocation info for local variables in function 'i2c_waitStop'
                           1690 ;------------------------------------------------------------
                           1691 ;toc                       Allocated to registers r2 
                           1692 ;------------------------------------------------------------
                           1693 ;	../../include/ztex-eeprom.h:87: BYTE i2c_waitStop()
                           1694 ;	-----------------------------------------
                           1695 ;	 function i2c_waitStop
                           1696 ;	-----------------------------------------
   00C8                    1697 _i2c_waitStop:
                           1698 ;	../../include/ztex-eeprom.h:90: for ( toc=0; toc<255; toc++ ) {
   00C8 7A 00              1699 	mov	r2,#0x00
   00CA                    1700 00103$:
   00CA BA FF 00           1701 	cjne	r2,#0xFF,00112$
   00CD                    1702 00112$:
   00CD 50 0F              1703 	jnc	00106$
                           1704 ;	../../include/ztex-eeprom.h:91: if ( ! (I2CS & bmBIT6) )
   00CF 90 E6 78           1705 	mov	dptr,#_I2CS
   00D2 E0                 1706 	movx	a,@dptr
   00D3 FB                 1707 	mov	r3,a
   00D4 20 E6 04           1708 	jb	acc.6,00105$
                           1709 ;	../../include/ztex-eeprom.h:92: return 0;
   00D7 75 82 00           1710 	mov	dpl,#0x00
   00DA 22                 1711 	ret
   00DB                    1712 00105$:
                           1713 ;	../../include/ztex-eeprom.h:90: for ( toc=0; toc<255; toc++ ) {
   00DB 0A                 1714 	inc	r2
   00DC 80 EC              1715 	sjmp	00103$
   00DE                    1716 00106$:
                           1717 ;	../../include/ztex-eeprom.h:94: return 1;
   00DE 75 82 01           1718 	mov	dpl,#0x01
   00E1 22                 1719 	ret
                           1720 ;------------------------------------------------------------
                           1721 ;Allocation info for local variables in function 'eeprom_select'
                           1722 ;------------------------------------------------------------
                           1723 ;to                        Allocated with name '_eeprom_select_PARM_2'
                           1724 ;stop                      Allocated with name '_eeprom_select_PARM_3'
                           1725 ;addr                      Allocated to registers r2 
                           1726 ;toc                       Allocated to registers 
                           1727 ;------------------------------------------------------------
                           1728 ;	../../include/ztex-eeprom.h:103: BYTE eeprom_select (BYTE addr, BYTE to, BYTE stop ) {
                           1729 ;	-----------------------------------------
                           1730 ;	 function eeprom_select
                           1731 ;	-----------------------------------------
   00E2                    1732 _eeprom_select:
   00E2 AA 82              1733 	mov	r2,dpl
                           1734 ;	../../include/ztex-eeprom.h:105: eeprom_select_start:
   00E4 C3                 1735 	clr	c
   00E5 E4                 1736 	clr	a
   00E6 95*00              1737 	subb	a,_eeprom_select_PARM_2
   00E8 E4                 1738 	clr	a
   00E9 33                 1739 	rlc	a
   00EA FB                 1740 	mov	r3,a
   00EB                    1741 00101$:
                           1742 ;	../../include/ztex-eeprom.h:106: I2CS |= bmBIT7;		// start bit
   00EB 90 E6 78           1743 	mov	dptr,#_I2CS
   00EE E0                 1744 	movx	a,@dptr
   00EF 44 80              1745 	orl	a,#0x80
   00F1 F0                 1746 	movx	@dptr,a
                           1747 ;	../../include/ztex-eeprom.h:107: i2c_waitStart();
   00F2 C0 02              1748 	push	ar2
   00F4 C0 03              1749 	push	ar3
   00F6 12s00rAE           1750 	lcall	_i2c_waitStart
   00F9 D0 03              1751 	pop	ar3
   00FB D0 02              1752 	pop	ar2
                           1753 ;	../../include/ztex-eeprom.h:108: I2DAT = addr;		// select device for writing
   00FD 90 E6 79           1754 	mov	dptr,#_I2DAT
   0100 EA                 1755 	mov	a,r2
   0101 F0                 1756 	movx	@dptr,a
                           1757 ;	../../include/ztex-eeprom.h:109: if ( ! i2c_waitWrite() ) {
   0102 C0 02              1758 	push	ar2
   0104 C0 03              1759 	push	ar3
   0106 12s00r58           1760 	lcall	_i2c_waitWrite
   0109 E5 82              1761 	mov	a,dpl
   010B D0 03              1762 	pop	ar3
   010D D0 02              1763 	pop	ar2
   010F 70 12              1764 	jnz	00107$
                           1765 ;	../../include/ztex-eeprom.h:110: if ( stop ) {
   0111 E5*01              1766 	mov	a,_eeprom_select_PARM_3
   0113 60 0A              1767 	jz	00103$
                           1768 ;	../../include/ztex-eeprom.h:111: I2CS |= bmBIT6;
   0115 90 E6 78           1769 	mov	dptr,#_I2CS
   0118 E0                 1770 	movx	a,@dptr
   0119 44 40              1771 	orl	a,#0x40
   011B F0                 1772 	movx	@dptr,a
                           1773 ;	../../include/ztex-eeprom.h:112: i2c_waitStop();
   011C 12s00rC8           1774 	lcall	_i2c_waitStop
   011F                    1775 00103$:
                           1776 ;	../../include/ztex-eeprom.h:114: return 0;
   011F 75 82 00           1777 	mov	dpl,#0x00
   0122 22                 1778 	ret
   0123                    1779 00107$:
                           1780 ;	../../include/ztex-eeprom.h:116: else if (toc<to) {
   0123 EB                 1781 	mov	a,r3
   0124 60 10              1782 	jz	00108$
                           1783 ;	../../include/ztex-eeprom.h:117: uwait(10);
   0126 90 00 0A           1784 	mov	dptr,#0x000A
   0129 C0 02              1785 	push	ar2
   012B C0 03              1786 	push	ar3
   012D 12s00r25           1787 	lcall	_uwait
   0130 D0 03              1788 	pop	ar3
   0132 D0 02              1789 	pop	ar2
                           1790 ;	../../include/ztex-eeprom.h:118: goto eeprom_select_start;
   0134 80 B5              1791 	sjmp	00101$
   0136                    1792 00108$:
                           1793 ;	../../include/ztex-eeprom.h:120: if ( stop ) {
   0136 E5*01              1794 	mov	a,_eeprom_select_PARM_3
   0138 60 08              1795 	jz	00110$
                           1796 ;	../../include/ztex-eeprom.h:121: I2CS |= bmBIT6;
   013A 90 E6 78           1797 	mov	dptr,#_I2CS
   013D E0                 1798 	movx	a,@dptr
   013E FA                 1799 	mov	r2,a
   013F 44 40              1800 	orl	a,#0x40
   0141 F0                 1801 	movx	@dptr,a
   0142                    1802 00110$:
                           1803 ;	../../include/ztex-eeprom.h:123: return 1;
   0142 75 82 01           1804 	mov	dpl,#0x01
   0145 22                 1805 	ret
                           1806 ;------------------------------------------------------------
                           1807 ;Allocation info for local variables in function 'eeprom_read'
                           1808 ;------------------------------------------------------------
                           1809 ;addr                      Allocated with name '_eeprom_read_PARM_2'
                           1810 ;length                    Allocated with name '_eeprom_read_PARM_3'
                           1811 ;buf                       Allocated to registers r2 r3 
                           1812 ;bytes                     Allocated to registers r4 
                           1813 ;i                         Allocated to registers 
                           1814 ;------------------------------------------------------------
                           1815 ;	../../include/ztex-eeprom.h:131: BYTE eeprom_read ( __xdata BYTE *buf, WORD addr, BYTE length ) { 
                           1816 ;	-----------------------------------------
                           1817 ;	 function eeprom_read
                           1818 ;	-----------------------------------------
   0146                    1819 _eeprom_read:
   0146 AA 82              1820 	mov	r2,dpl
   0148 AB 83              1821 	mov	r3,dph
                           1822 ;	../../include/ztex-eeprom.h:132: BYTE bytes = 0,i;
   014A 7C 00              1823 	mov	r4,#0x00
                           1824 ;	../../include/ztex-eeprom.h:134: if ( length == 0 ) 
   014C E5*04              1825 	mov	a,_eeprom_read_PARM_3
                           1826 ;	../../include/ztex-eeprom.h:135: return 0;
   014E 70 03              1827 	jnz	00102$
   0150 F5 82              1828 	mov	dpl,a
   0152 22                 1829 	ret
   0153                    1830 00102$:
                           1831 ;	../../include/ztex-eeprom.h:137: if ( eeprom_select(EEPROM_ADDR, 100,0) ) 
   0153 75*00 64           1832 	mov	_eeprom_select_PARM_2,#0x64
   0156 75*01 00           1833 	mov	_eeprom_select_PARM_3,#0x00
   0159 75 82 A2           1834 	mov	dpl,#0xA2
   015C C0 02              1835 	push	ar2
   015E C0 03              1836 	push	ar3
   0160 C0 04              1837 	push	ar4
   0162 12s00rE2           1838 	lcall	_eeprom_select
   0165 E5 82              1839 	mov	a,dpl
   0167 D0 04              1840 	pop	ar4
   0169 D0 03              1841 	pop	ar3
   016B D0 02              1842 	pop	ar2
   016D 60 03              1843 	jz	00134$
   016F 02s02r4C           1844 	ljmp	00117$
   0172                    1845 00134$:
                           1846 ;	../../include/ztex-eeprom.h:140: I2DAT = HI(addr);		// write address
   0172 90 E6 79           1847 	mov	dptr,#_I2DAT
   0175 E5*03              1848 	mov	a,(_eeprom_read_PARM_2 + 1)
   0177 F0                 1849 	movx	@dptr,a
                           1850 ;	../../include/ztex-eeprom.h:141: if ( i2c_waitWrite() ) goto eeprom_read_end;
   0178 C0 02              1851 	push	ar2
   017A C0 03              1852 	push	ar3
   017C C0 04              1853 	push	ar4
   017E 12s00r58           1854 	lcall	_i2c_waitWrite
   0181 E5 82              1855 	mov	a,dpl
   0183 D0 04              1856 	pop	ar4
   0185 D0 03              1857 	pop	ar3
   0187 D0 02              1858 	pop	ar2
   0189 60 03              1859 	jz	00135$
   018B 02s02r4C           1860 	ljmp	00117$
   018E                    1861 00135$:
                           1862 ;	../../include/ztex-eeprom.h:142: I2DAT = LO(addr);		// write address
   018E 90 E6 79           1863 	mov	dptr,#_I2DAT
   0191 E5*02              1864 	mov	a,_eeprom_read_PARM_2
   0193 F0                 1865 	movx	@dptr,a
                           1866 ;	../../include/ztex-eeprom.h:143: if ( i2c_waitWrite() ) goto eeprom_read_end;
   0194 C0 02              1867 	push	ar2
   0196 C0 03              1868 	push	ar3
   0198 C0 04              1869 	push	ar4
   019A 12s00r58           1870 	lcall	_i2c_waitWrite
   019D E5 82              1871 	mov	a,dpl
   019F D0 04              1872 	pop	ar4
   01A1 D0 03              1873 	pop	ar3
   01A3 D0 02              1874 	pop	ar2
   01A5 60 03              1875 	jz	00136$
   01A7 02s02r4C           1876 	ljmp	00117$
   01AA                    1877 00136$:
                           1878 ;	../../include/ztex-eeprom.h:144: I2CS |= bmBIT6;
   01AA 90 E6 78           1879 	mov	dptr,#_I2CS
   01AD E0                 1880 	movx	a,@dptr
   01AE 44 40              1881 	orl	a,#0x40
   01B0 F0                 1882 	movx	@dptr,a
                           1883 ;	../../include/ztex-eeprom.h:145: i2c_waitStop();
   01B1 C0 02              1884 	push	ar2
   01B3 C0 03              1885 	push	ar3
   01B5 C0 04              1886 	push	ar4
   01B7 12s00rC8           1887 	lcall	_i2c_waitStop
                           1888 ;	../../include/ztex-eeprom.h:147: I2CS |= bmBIT7;		// start bit
   01BA 90 E6 78           1889 	mov	dptr,#_I2CS
   01BD E0                 1890 	movx	a,@dptr
   01BE 44 80              1891 	orl	a,#0x80
   01C0 F0                 1892 	movx	@dptr,a
                           1893 ;	../../include/ztex-eeprom.h:148: i2c_waitStart();
   01C1 12s00rAE           1894 	lcall	_i2c_waitStart
                           1895 ;	../../include/ztex-eeprom.h:149: I2DAT = EEPROM_ADDR | 1;	// select device for reading
   01C4 90 E6 79           1896 	mov	dptr,#_I2DAT
   01C7 74 A3              1897 	mov	a,#0xA3
   01C9 F0                 1898 	movx	@dptr,a
                           1899 ;	../../include/ztex-eeprom.h:150: if ( i2c_waitWrite() ) goto eeprom_read_end;
   01CA 12s00r58           1900 	lcall	_i2c_waitWrite
   01CD E5 82              1901 	mov	a,dpl
   01CF D0 04              1902 	pop	ar4
   01D1 D0 03              1903 	pop	ar3
   01D3 D0 02              1904 	pop	ar2
   01D5 70 75              1905 	jnz	00117$
                           1906 ;	../../include/ztex-eeprom.h:152: *buf = I2DAT;		// dummy read
   01D7 90 E6 79           1907 	mov	dptr,#_I2DAT
   01DA E0                 1908 	movx	a,@dptr
   01DB 8A 82              1909 	mov	dpl,r2
   01DD 8B 83              1910 	mov	dph,r3
   01DF F0                 1911 	movx	@dptr,a
                           1912 ;	../../include/ztex-eeprom.h:153: if ( i2c_waitRead()) goto eeprom_read_end; 
   01E0 C0 02              1913 	push	ar2
   01E2 C0 03              1914 	push	ar3
   01E4 C0 04              1915 	push	ar4
   01E6 12s00r85           1916 	lcall	_i2c_waitRead
   01E9 E5 82              1917 	mov	a,dpl
   01EB D0 04              1918 	pop	ar4
   01ED D0 03              1919 	pop	ar3
   01EF D0 02              1920 	pop	ar2
   01F1 70 59              1921 	jnz	00117$
   01F3 FD                 1922 	mov	r5,a
   01F4                    1923 00118$:
                           1924 ;	../../include/ztex-eeprom.h:154: for (; bytes<length; bytes++ ) {
   01F4 C3                 1925 	clr	c
   01F5 ED                 1926 	mov	a,r5
   01F6 95*04              1927 	subb	a,_eeprom_read_PARM_3
   01F8 50 2A              1928 	jnc	00121$
                           1929 ;	../../include/ztex-eeprom.h:155: *buf = I2DAT;		// read data
   01FA 90 E6 79           1930 	mov	dptr,#_I2DAT
   01FD E0                 1931 	movx	a,@dptr
   01FE 8A 82              1932 	mov	dpl,r2
   0200 8B 83              1933 	mov	dph,r3
   0202 F0                 1934 	movx	@dptr,a
   0203 A3                 1935 	inc	dptr
   0204 AA 82              1936 	mov	r2,dpl
   0206 AB 83              1937 	mov	r3,dph
                           1938 ;	../../include/ztex-eeprom.h:156: buf++;
                           1939 ;	../../include/ztex-eeprom.h:157: if ( i2c_waitRead()) goto eeprom_read_end; 
   0208 C0 02              1940 	push	ar2
   020A C0 03              1941 	push	ar3
   020C C0 04              1942 	push	ar4
   020E C0 05              1943 	push	ar5
   0210 12s00r85           1944 	lcall	_i2c_waitRead
   0213 E5 82              1945 	mov	a,dpl
   0215 D0 05              1946 	pop	ar5
   0217 D0 04              1947 	pop	ar4
   0219 D0 03              1948 	pop	ar3
   021B D0 02              1949 	pop	ar2
   021D 70 2D              1950 	jnz	00117$
                           1951 ;	../../include/ztex-eeprom.h:154: for (; bytes<length; bytes++ ) {
   021F 0D                 1952 	inc	r5
   0220 8D 04              1953 	mov	ar4,r5
   0222 80 D0              1954 	sjmp	00118$
   0224                    1955 00121$:
                           1956 ;	../../include/ztex-eeprom.h:160: I2CS |= bmBIT5;		// no ACK
   0224 90 E6 78           1957 	mov	dptr,#_I2CS
   0227 E0                 1958 	movx	a,@dptr
   0228 44 20              1959 	orl	a,#0x20
   022A F0                 1960 	movx	@dptr,a
                           1961 ;	../../include/ztex-eeprom.h:161: i = I2DAT;			// dummy read
   022B 90 E6 79           1962 	mov	dptr,#_I2DAT
   022E E0                 1963 	movx	a,@dptr
                           1964 ;	../../include/ztex-eeprom.h:162: if ( i2c_waitRead()) goto eeprom_read_end; 
   022F C0 04              1965 	push	ar4
   0231 12s00r85           1966 	lcall	_i2c_waitRead
   0234 E5 82              1967 	mov	a,dpl
   0236 D0 04              1968 	pop	ar4
   0238 70 12              1969 	jnz	00117$
                           1970 ;	../../include/ztex-eeprom.h:164: I2CS |= bmBIT6;		// stop bit
   023A 90 E6 78           1971 	mov	dptr,#_I2CS
   023D E0                 1972 	movx	a,@dptr
   023E 44 40              1973 	orl	a,#0x40
   0240 F0                 1974 	movx	@dptr,a
                           1975 ;	../../include/ztex-eeprom.h:165: i = I2DAT;			// dummy read
   0241 90 E6 79           1976 	mov	dptr,#_I2DAT
   0244 E0                 1977 	movx	a,@dptr
                           1978 ;	../../include/ztex-eeprom.h:166: i2c_waitStop();
   0245 C0 04              1979 	push	ar4
   0247 12s00rC8           1980 	lcall	_i2c_waitStop
   024A D0 04              1981 	pop	ar4
                           1982 ;	../../include/ztex-eeprom.h:168: eeprom_read_end:
   024C                    1983 00117$:
                           1984 ;	../../include/ztex-eeprom.h:169: return bytes;
   024C 8C 82              1985 	mov	dpl,r4
   024E 22                 1986 	ret
                           1987 ;------------------------------------------------------------
                           1988 ;Allocation info for local variables in function 'eeprom_write'
                           1989 ;------------------------------------------------------------
                           1990 ;addr                      Allocated with name '_eeprom_write_PARM_2'
                           1991 ;length                    Allocated with name '_eeprom_write_PARM_3'
                           1992 ;buf                       Allocated to registers r2 r3 
                           1993 ;bytes                     Allocated to registers r4 
                           1994 ;------------------------------------------------------------
                           1995 ;	../../include/ztex-eeprom.h:178: BYTE eeprom_write ( __xdata BYTE *buf, WORD addr, BYTE length ) {
                           1996 ;	-----------------------------------------
                           1997 ;	 function eeprom_write
                           1998 ;	-----------------------------------------
   024F                    1999 _eeprom_write:
   024F AA 82              2000 	mov	r2,dpl
   0251 AB 83              2001 	mov	r3,dph
                           2002 ;	../../include/ztex-eeprom.h:179: BYTE bytes = 0;
   0253 7C 00              2003 	mov	r4,#0x00
                           2004 ;	../../include/ztex-eeprom.h:181: if ( length == 0 ) 
   0255 E5*07              2005 	mov	a,_eeprom_write_PARM_3
                           2006 ;	../../include/ztex-eeprom.h:182: return 0;
   0257 70 03              2007 	jnz	00102$
   0259 F5 82              2008 	mov	dpl,a
   025B 22                 2009 	ret
   025C                    2010 00102$:
                           2011 ;	../../include/ztex-eeprom.h:184: if ( eeprom_select(EEPROM_ADDR, 100,0) ) 
   025C 75*00 64           2012 	mov	_eeprom_select_PARM_2,#0x64
   025F 75*01 00           2013 	mov	_eeprom_select_PARM_3,#0x00
   0262 75 82 A2           2014 	mov	dpl,#0xA2
   0265 C0 02              2015 	push	ar2
   0267 C0 03              2016 	push	ar3
   0269 C0 04              2017 	push	ar4
   026B 12s00rE2           2018 	lcall	_eeprom_select
   026E E5 82              2019 	mov	a,dpl
   0270 D0 04              2020 	pop	ar4
   0272 D0 03              2021 	pop	ar3
   0274 D0 02              2022 	pop	ar2
   0276 60 03              2023 	jz	00125$
   0278 02s03r0C           2024 	ljmp	00111$
   027B                    2025 00125$:
                           2026 ;	../../include/ztex-eeprom.h:187: I2DAT = HI(addr);          	// write address
   027B 90 E6 79           2027 	mov	dptr,#_I2DAT
   027E E5*06              2028 	mov	a,(_eeprom_write_PARM_2 + 1)
   0280 F0                 2029 	movx	@dptr,a
                           2030 ;	../../include/ztex-eeprom.h:188: if ( i2c_waitWrite() ) goto eeprom_write_end;
   0281 C0 02              2031 	push	ar2
   0283 C0 03              2032 	push	ar3
   0285 C0 04              2033 	push	ar4
   0287 12s00r58           2034 	lcall	_i2c_waitWrite
   028A E5 82              2035 	mov	a,dpl
   028C D0 04              2036 	pop	ar4
   028E D0 03              2037 	pop	ar3
   0290 D0 02              2038 	pop	ar2
   0292 60 03              2039 	jz	00126$
   0294 02s03r0C           2040 	ljmp	00111$
   0297                    2041 00126$:
                           2042 ;	../../include/ztex-eeprom.h:189: I2DAT = LO(addr);          	// write address
   0297 90 E6 79           2043 	mov	dptr,#_I2DAT
   029A E5*05              2044 	mov	a,_eeprom_write_PARM_2
   029C F0                 2045 	movx	@dptr,a
                           2046 ;	../../include/ztex-eeprom.h:190: if ( i2c_waitWrite() ) goto eeprom_write_end;
   029D C0 02              2047 	push	ar2
   029F C0 03              2048 	push	ar3
   02A1 C0 04              2049 	push	ar4
   02A3 12s00r58           2050 	lcall	_i2c_waitWrite
   02A6 E5 82              2051 	mov	a,dpl
   02A8 D0 04              2052 	pop	ar4
   02AA D0 03              2053 	pop	ar3
   02AC D0 02              2054 	pop	ar2
   02AE 70 5C              2055 	jnz	00111$
   02B0 FD                 2056 	mov	r5,a
   02B1                    2057 00112$:
                           2058 ;	../../include/ztex-eeprom.h:192: for (; bytes<length; bytes++ ) {
   02B1 C3                 2059 	clr	c
   02B2 ED                 2060 	mov	a,r5
   02B3 95*07              2061 	subb	a,_eeprom_write_PARM_3
   02B5 50 47              2062 	jnc	00115$
                           2063 ;	../../include/ztex-eeprom.h:193: I2DAT = *buf;         	// write data 
   02B7 8A 82              2064 	mov	dpl,r2
   02B9 8B 83              2065 	mov	dph,r3
   02BB E0                 2066 	movx	a,@dptr
   02BC FE                 2067 	mov	r6,a
   02BD A3                 2068 	inc	dptr
   02BE AA 82              2069 	mov	r2,dpl
   02C0 AB 83              2070 	mov	r3,dph
   02C2 90 E6 79           2071 	mov	dptr,#_I2DAT
   02C5 EE                 2072 	mov	a,r6
   02C6 F0                 2073 	movx	@dptr,a
                           2074 ;	../../include/ztex-eeprom.h:194: eeprom_write_checksum += *buf;
   02C7 90s00r04           2075 	mov	dptr,#_eeprom_write_checksum
   02CA E0                 2076 	movx	a,@dptr
   02CB FF                 2077 	mov	r7,a
   02CC EE                 2078 	mov	a,r6
   02CD 2F                 2079 	add	a,r7
   02CE F0                 2080 	movx	@dptr,a
                           2081 ;	../../include/ztex-eeprom.h:195: buf++;
                           2082 ;	../../include/ztex-eeprom.h:196: eeprom_write_bytes+=1;
   02CF 90s00r02           2083 	mov	dptr,#_eeprom_write_bytes
   02D2 E0                 2084 	movx	a,@dptr
   02D3 FE                 2085 	mov	r6,a
   02D4 A3                 2086 	inc	dptr
   02D5 E0                 2087 	movx	a,@dptr
   02D6 FF                 2088 	mov	r7,a
   02D7 90s00r02           2089 	mov	dptr,#_eeprom_write_bytes
   02DA 74 01              2090 	mov	a,#0x01
   02DC 2E                 2091 	add	a,r6
   02DD F0                 2092 	movx	@dptr,a
   02DE E4                 2093 	clr	a
   02DF 3F                 2094 	addc	a,r7
   02E0 A3                 2095 	inc	dptr
   02E1 F0                 2096 	movx	@dptr,a
                           2097 ;	../../include/ztex-eeprom.h:197: if ( i2c_waitWrite() ) goto eeprom_write_end;
   02E2 C0 02              2098 	push	ar2
   02E4 C0 03              2099 	push	ar3
   02E6 C0 04              2100 	push	ar4
   02E8 C0 05              2101 	push	ar5
   02EA 12s00r58           2102 	lcall	_i2c_waitWrite
   02ED E5 82              2103 	mov	a,dpl
   02EF D0 05              2104 	pop	ar5
   02F1 D0 04              2105 	pop	ar4
   02F3 D0 03              2106 	pop	ar3
   02F5 D0 02              2107 	pop	ar2
   02F7 70 13              2108 	jnz	00111$
                           2109 ;	../../include/ztex-eeprom.h:192: for (; bytes<length; bytes++ ) {
   02F9 0D                 2110 	inc	r5
   02FA 8D 04              2111 	mov	ar4,r5
   02FC 80 B3              2112 	sjmp	00112$
   02FE                    2113 00115$:
                           2114 ;	../../include/ztex-eeprom.h:199: I2CS |= bmBIT6;		// stop bit
   02FE 90 E6 78           2115 	mov	dptr,#_I2CS
   0301 E0                 2116 	movx	a,@dptr
   0302 44 40              2117 	orl	a,#0x40
   0304 F0                 2118 	movx	@dptr,a
                           2119 ;	../../include/ztex-eeprom.h:200: i2c_waitStop();
   0305 C0 04              2120 	push	ar4
   0307 12s00rC8           2121 	lcall	_i2c_waitStop
   030A D0 04              2122 	pop	ar4
                           2123 ;	../../include/ztex-eeprom.h:202: eeprom_write_end:
   030C                    2124 00111$:
                           2125 ;	../../include/ztex-eeprom.h:203: return bytes;
   030C 8C 82              2126 	mov	dpl,r4
   030E 22                 2127 	ret
                           2128 ;------------------------------------------------------------
                           2129 ;Allocation info for local variables in function 'eeprom_read_ep0'
                           2130 ;------------------------------------------------------------
                           2131 ;i                         Allocated to registers r3 
                           2132 ;b                         Allocated to registers r2 
                           2133 ;------------------------------------------------------------
                           2134 ;	../../include/ztex-eeprom.h:209: BYTE eeprom_read_ep0 () { 
                           2135 ;	-----------------------------------------
                           2136 ;	 function eeprom_read_ep0
                           2137 ;	-----------------------------------------
   030F                    2138 _eeprom_read_ep0:
                           2139 ;	../../include/ztex-eeprom.h:211: b = ep0_payload_transfer;
   030F 90s00r02           2140 	mov	dptr,#_ep0_payload_transfer
   0312 E0                 2141 	movx	a,@dptr
   0313 FA                 2142 	mov	r2,a
                           2143 ;	../../include/ztex-eeprom.h:212: i = eeprom_read(EP0BUF, eeprom_addr, b);
   0314 90s00r00           2144 	mov	dptr,#_eeprom_addr
   0317 E0                 2145 	movx	a,@dptr
   0318 F5*02              2146 	mov	_eeprom_read_PARM_2,a
   031A A3                 2147 	inc	dptr
   031B E0                 2148 	movx	a,@dptr
   031C F5*03              2149 	mov	(_eeprom_read_PARM_2 + 1),a
   031E 8A*04              2150 	mov	_eeprom_read_PARM_3,r2
   0320 90 E7 40           2151 	mov	dptr,#_EP0BUF
   0323 C0 02              2152 	push	ar2
   0325 12s01r46           2153 	lcall	_eeprom_read
   0328 AB 82              2154 	mov	r3,dpl
   032A D0 02              2155 	pop	ar2
                           2156 ;	../../include/ztex-eeprom.h:213: eeprom_addr += b;
   032C 7C 00              2157 	mov	r4,#0x00
   032E 90s00r00           2158 	mov	dptr,#_eeprom_addr
   0331 E0                 2159 	movx	a,@dptr
   0332 FD                 2160 	mov	r5,a
   0333 A3                 2161 	inc	dptr
   0334 E0                 2162 	movx	a,@dptr
   0335 FE                 2163 	mov	r6,a
   0336 90s00r00           2164 	mov	dptr,#_eeprom_addr
   0339 EA                 2165 	mov	a,r2
   033A 2D                 2166 	add	a,r5
   033B F0                 2167 	movx	@dptr,a
   033C EC                 2168 	mov	a,r4
   033D 3E                 2169 	addc	a,r6
   033E A3                 2170 	inc	dptr
   033F F0                 2171 	movx	@dptr,a
                           2172 ;	../../include/ztex-eeprom.h:214: return i;
   0340 8B 82              2173 	mov	dpl,r3
   0342 22                 2174 	ret
                           2175 ;------------------------------------------------------------
                           2176 ;Allocation info for local variables in function 'eeprom_write_ep0'
                           2177 ;------------------------------------------------------------
                           2178 ;length                    Allocated to registers r2 
                           2179 ;------------------------------------------------------------
                           2180 ;	../../include/ztex-eeprom.h:230: void eeprom_write_ep0 ( BYTE length ) { 	
                           2181 ;	-----------------------------------------
                           2182 ;	 function eeprom_write_ep0
                           2183 ;	-----------------------------------------
   0343                    2184 _eeprom_write_ep0:
   0343 AA 82              2185 	mov	r2,dpl
                           2186 ;	../../include/ztex-eeprom.h:231: eeprom_write(EP0BUF, eeprom_addr, length);
   0345 90s00r00           2187 	mov	dptr,#_eeprom_addr
   0348 E0                 2188 	movx	a,@dptr
   0349 F5*05              2189 	mov	_eeprom_write_PARM_2,a
   034B A3                 2190 	inc	dptr
   034C E0                 2191 	movx	a,@dptr
   034D F5*06              2192 	mov	(_eeprom_write_PARM_2 + 1),a
   034F 8A*07              2193 	mov	_eeprom_write_PARM_3,r2
   0351 90 E7 40           2194 	mov	dptr,#_EP0BUF
   0354 C0 02              2195 	push	ar2
   0356 12s02r4F           2196 	lcall	_eeprom_write
   0359 D0 02              2197 	pop	ar2
                           2198 ;	../../include/ztex-eeprom.h:232: eeprom_addr += length;
   035B 7B 00              2199 	mov	r3,#0x00
   035D 90s00r00           2200 	mov	dptr,#_eeprom_addr
   0360 E0                 2201 	movx	a,@dptr
   0361 FC                 2202 	mov	r4,a
   0362 A3                 2203 	inc	dptr
   0363 E0                 2204 	movx	a,@dptr
   0364 FD                 2205 	mov	r5,a
   0365 90s00r00           2206 	mov	dptr,#_eeprom_addr
   0368 EA                 2207 	mov	a,r2
   0369 2C                 2208 	add	a,r4
   036A F0                 2209 	movx	@dptr,a
   036B EB                 2210 	mov	a,r3
   036C 3D                 2211 	addc	a,r5
   036D A3                 2212 	inc	dptr
   036E F0                 2213 	movx	@dptr,a
   036F 22                 2214 	ret
                           2215 ;------------------------------------------------------------
                           2216 ;Allocation info for local variables in function 'mac_eeprom_read'
                           2217 ;------------------------------------------------------------
                           2218 ;addr                      Allocated with name '_mac_eeprom_read_PARM_2'
                           2219 ;length                    Allocated with name '_mac_eeprom_read_PARM_3'
                           2220 ;buf                       Allocated to registers r2 r3 
                           2221 ;bytes                     Allocated to registers r4 
                           2222 ;i                         Allocated to registers 
                           2223 ;------------------------------------------------------------
                           2224 ;	../../include/ztex-eeprom.h:272: BYTE mac_eeprom_read ( __xdata BYTE *buf, BYTE addr, BYTE length ) { 
                           2225 ;	-----------------------------------------
                           2226 ;	 function mac_eeprom_read
                           2227 ;	-----------------------------------------
   0370                    2228 _mac_eeprom_read:
   0370 AA 82              2229 	mov	r2,dpl
   0372 AB 83              2230 	mov	r3,dph
                           2231 ;	../../include/ztex-eeprom.h:273: BYTE bytes = 0,i;
   0374 7C 00              2232 	mov	r4,#0x00
                           2233 ;	../../include/ztex-eeprom.h:275: if ( length == 0 ) 
   0376 E5*09              2234 	mov	a,_mac_eeprom_read_PARM_3
                           2235 ;	../../include/ztex-eeprom.h:276: return 0;
   0378 70 03              2236 	jnz	00102$
   037A F5 82              2237 	mov	dpl,a
   037C 22                 2238 	ret
   037D                    2239 00102$:
                           2240 ;	../../include/ztex-eeprom.h:278: if ( eeprom_select(EEPROM_MAC_ADDR, 100,0) ) 
   037D 75*00 64           2241 	mov	_eeprom_select_PARM_2,#0x64
   0380 75*01 00           2242 	mov	_eeprom_select_PARM_3,#0x00
   0383 75 82 A6           2243 	mov	dpl,#0xA6
   0386 C0 02              2244 	push	ar2
   0388 C0 03              2245 	push	ar3
   038A C0 04              2246 	push	ar4
   038C 12s00rE2           2247 	lcall	_eeprom_select
   038F E5 82              2248 	mov	a,dpl
   0391 D0 04              2249 	pop	ar4
   0393 D0 03              2250 	pop	ar3
   0395 D0 02              2251 	pop	ar2
   0397 60 03              2252 	jz	00131$
   0399 02s04r5A           2253 	ljmp	00115$
   039C                    2254 00131$:
                           2255 ;	../../include/ztex-eeprom.h:281: I2DAT = addr;		// write address
   039C 90 E6 79           2256 	mov	dptr,#_I2DAT
   039F E5*08              2257 	mov	a,_mac_eeprom_read_PARM_2
   03A1 F0                 2258 	movx	@dptr,a
                           2259 ;	../../include/ztex-eeprom.h:282: if ( i2c_waitWrite() ) goto mac_eeprom_read_end;
   03A2 C0 02              2260 	push	ar2
   03A4 C0 03              2261 	push	ar3
   03A6 C0 04              2262 	push	ar4
   03A8 12s00r58           2263 	lcall	_i2c_waitWrite
   03AB E5 82              2264 	mov	a,dpl
   03AD D0 04              2265 	pop	ar4
   03AF D0 03              2266 	pop	ar3
   03B1 D0 02              2267 	pop	ar2
   03B3 60 03              2268 	jz	00132$
   03B5 02s04r5A           2269 	ljmp	00115$
   03B8                    2270 00132$:
                           2271 ;	../../include/ztex-eeprom.h:283: I2CS |= bmBIT6;
   03B8 90 E6 78           2272 	mov	dptr,#_I2CS
   03BB E0                 2273 	movx	a,@dptr
   03BC 44 40              2274 	orl	a,#0x40
   03BE F0                 2275 	movx	@dptr,a
                           2276 ;	../../include/ztex-eeprom.h:284: i2c_waitStop();
   03BF C0 02              2277 	push	ar2
   03C1 C0 03              2278 	push	ar3
   03C3 C0 04              2279 	push	ar4
   03C5 12s00rC8           2280 	lcall	_i2c_waitStop
                           2281 ;	../../include/ztex-eeprom.h:286: I2CS |= bmBIT7;		// start bit
   03C8 90 E6 78           2282 	mov	dptr,#_I2CS
   03CB E0                 2283 	movx	a,@dptr
   03CC 44 80              2284 	orl	a,#0x80
   03CE F0                 2285 	movx	@dptr,a
                           2286 ;	../../include/ztex-eeprom.h:287: i2c_waitStart();
   03CF 12s00rAE           2287 	lcall	_i2c_waitStart
                           2288 ;	../../include/ztex-eeprom.h:288: I2DAT = EEPROM_MAC_ADDR | 1;  // select device for reading
   03D2 90 E6 79           2289 	mov	dptr,#_I2DAT
   03D5 74 A7              2290 	mov	a,#0xA7
   03D7 F0                 2291 	movx	@dptr,a
                           2292 ;	../../include/ztex-eeprom.h:289: if ( i2c_waitWrite() ) goto mac_eeprom_read_end;
   03D8 12s00r58           2293 	lcall	_i2c_waitWrite
   03DB E5 82              2294 	mov	a,dpl
   03DD D0 04              2295 	pop	ar4
   03DF D0 03              2296 	pop	ar3
   03E1 D0 02              2297 	pop	ar2
   03E3 70 75              2298 	jnz	00115$
                           2299 ;	../../include/ztex-eeprom.h:291: *buf = I2DAT;		// dummy read
   03E5 90 E6 79           2300 	mov	dptr,#_I2DAT
   03E8 E0                 2301 	movx	a,@dptr
   03E9 8A 82              2302 	mov	dpl,r2
   03EB 8B 83              2303 	mov	dph,r3
   03ED F0                 2304 	movx	@dptr,a
                           2305 ;	../../include/ztex-eeprom.h:292: if ( i2c_waitRead()) goto mac_eeprom_read_end; 
   03EE C0 02              2306 	push	ar2
   03F0 C0 03              2307 	push	ar3
   03F2 C0 04              2308 	push	ar4
   03F4 12s00r85           2309 	lcall	_i2c_waitRead
   03F7 E5 82              2310 	mov	a,dpl
   03F9 D0 04              2311 	pop	ar4
   03FB D0 03              2312 	pop	ar3
   03FD D0 02              2313 	pop	ar2
   03FF 70 59              2314 	jnz	00115$
   0401 FD                 2315 	mov	r5,a
   0402                    2316 00116$:
                           2317 ;	../../include/ztex-eeprom.h:293: for (; bytes<length; bytes++ ) {
   0402 C3                 2318 	clr	c
   0403 ED                 2319 	mov	a,r5
   0404 95*09              2320 	subb	a,_mac_eeprom_read_PARM_3
   0406 50 2A              2321 	jnc	00119$
                           2322 ;	../../include/ztex-eeprom.h:294: *buf = I2DAT;		// read data
   0408 90 E6 79           2323 	mov	dptr,#_I2DAT
   040B E0                 2324 	movx	a,@dptr
   040C 8A 82              2325 	mov	dpl,r2
   040E 8B 83              2326 	mov	dph,r3
   0410 F0                 2327 	movx	@dptr,a
   0411 A3                 2328 	inc	dptr
   0412 AA 82              2329 	mov	r2,dpl
   0414 AB 83              2330 	mov	r3,dph
                           2331 ;	../../include/ztex-eeprom.h:295: buf++;
                           2332 ;	../../include/ztex-eeprom.h:296: if ( i2c_waitRead()) goto mac_eeprom_read_end; 
   0416 C0 02              2333 	push	ar2
   0418 C0 03              2334 	push	ar3
   041A C0 04              2335 	push	ar4
   041C C0 05              2336 	push	ar5
   041E 12s00r85           2337 	lcall	_i2c_waitRead
   0421 E5 82              2338 	mov	a,dpl
   0423 D0 05              2339 	pop	ar5
   0425 D0 04              2340 	pop	ar4
   0427 D0 03              2341 	pop	ar3
   0429 D0 02              2342 	pop	ar2
   042B 70 2D              2343 	jnz	00115$
                           2344 ;	../../include/ztex-eeprom.h:293: for (; bytes<length; bytes++ ) {
   042D 0D                 2345 	inc	r5
   042E 8D 04              2346 	mov	ar4,r5
   0430 80 D0              2347 	sjmp	00116$
   0432                    2348 00119$:
                           2349 ;	../../include/ztex-eeprom.h:299: I2CS |= bmBIT5;		// no ACK
   0432 90 E6 78           2350 	mov	dptr,#_I2CS
   0435 E0                 2351 	movx	a,@dptr
   0436 44 20              2352 	orl	a,#0x20
   0438 F0                 2353 	movx	@dptr,a
                           2354 ;	../../include/ztex-eeprom.h:300: i = I2DAT;			// dummy read
   0439 90 E6 79           2355 	mov	dptr,#_I2DAT
   043C E0                 2356 	movx	a,@dptr
                           2357 ;	../../include/ztex-eeprom.h:301: if ( i2c_waitRead()) goto mac_eeprom_read_end; 
   043D C0 04              2358 	push	ar4
   043F 12s00r85           2359 	lcall	_i2c_waitRead
   0442 E5 82              2360 	mov	a,dpl
   0444 D0 04              2361 	pop	ar4
   0446 70 12              2362 	jnz	00115$
                           2363 ;	../../include/ztex-eeprom.h:303: I2CS |= bmBIT6;		// stop bit
   0448 90 E6 78           2364 	mov	dptr,#_I2CS
   044B E0                 2365 	movx	a,@dptr
   044C 44 40              2366 	orl	a,#0x40
   044E F0                 2367 	movx	@dptr,a
                           2368 ;	../../include/ztex-eeprom.h:304: i = I2DAT;			// dummy read
   044F 90 E6 79           2369 	mov	dptr,#_I2DAT
   0452 E0                 2370 	movx	a,@dptr
                           2371 ;	../../include/ztex-eeprom.h:305: i2c_waitStop();
   0453 C0 04              2372 	push	ar4
   0455 12s00rC8           2373 	lcall	_i2c_waitStop
   0458 D0 04              2374 	pop	ar4
                           2375 ;	../../include/ztex-eeprom.h:307: mac_eeprom_read_end:
   045A                    2376 00115$:
                           2377 ;	../../include/ztex-eeprom.h:308: return bytes;
   045A 8C 82              2378 	mov	dpl,r4
   045C 22                 2379 	ret
                           2380 ;------------------------------------------------------------
                           2381 ;Allocation info for local variables in function 'mac_eeprom_write'
                           2382 ;------------------------------------------------------------
                           2383 ;addr                      Allocated with name '_mac_eeprom_write_PARM_2'
                           2384 ;length                    Allocated with name '_mac_eeprom_write_PARM_3'
                           2385 ;buf                       Allocated to registers r2 r3 
                           2386 ;bytes                     Allocated to registers r4 
                           2387 ;------------------------------------------------------------
                           2388 ;	../../include/ztex-eeprom.h:317: BYTE mac_eeprom_write ( __xdata BYTE *buf, BYTE addr, BYTE length ) {
                           2389 ;	-----------------------------------------
                           2390 ;	 function mac_eeprom_write
                           2391 ;	-----------------------------------------
   045D                    2392 _mac_eeprom_write:
   045D AA 82              2393 	mov	r2,dpl
   045F AB 83              2394 	mov	r3,dph
                           2395 ;	../../include/ztex-eeprom.h:318: BYTE bytes = 0;
   0461 7C 00              2396 	mov	r4,#0x00
                           2397 ;	../../include/ztex-eeprom.h:320: if ( length == 0 ) 
   0463 E5*0B              2398 	mov	a,_mac_eeprom_write_PARM_3
                           2399 ;	../../include/ztex-eeprom.h:321: return 0;
   0465 70 03              2400 	jnz	00102$
   0467 F5 82              2401 	mov	dpl,a
   0469 22                 2402 	ret
   046A                    2403 00102$:
                           2404 ;	../../include/ztex-eeprom.h:323: if ( eeprom_select(EEPROM_MAC_ADDR, 100,0) ) 
   046A 75*00 64           2405 	mov	_eeprom_select_PARM_2,#0x64
   046D 75*01 00           2406 	mov	_eeprom_select_PARM_3,#0x00
   0470 75 82 A6           2407 	mov	dpl,#0xA6
   0473 C0 02              2408 	push	ar2
   0475 C0 03              2409 	push	ar3
   0477 C0 04              2410 	push	ar4
   0479 12s00rE2           2411 	lcall	_eeprom_select
   047C E5 82              2412 	mov	a,dpl
   047E D0 04              2413 	pop	ar4
   0480 D0 03              2414 	pop	ar3
   0482 D0 02              2415 	pop	ar2
   0484 60 03              2416 	jz	00132$
   0486 02s05r4C           2417 	ljmp	00119$
   0489                    2418 00132$:
                           2419 ;	../../include/ztex-eeprom.h:326: I2DAT = addr;          	// write address
   0489 90 E6 79           2420 	mov	dptr,#_I2DAT
   048C E5*0A              2421 	mov	a,_mac_eeprom_write_PARM_2
   048E F0                 2422 	movx	@dptr,a
                           2423 ;	../../include/ztex-eeprom.h:327: if ( i2c_waitWrite() ) goto mac_eeprom_write_end;
   048F C0 02              2424 	push	ar2
   0491 C0 03              2425 	push	ar3
   0493 C0 04              2426 	push	ar4
   0495 12s00r58           2427 	lcall	_i2c_waitWrite
   0498 E5 82              2428 	mov	a,dpl
   049A D0 04              2429 	pop	ar4
   049C D0 03              2430 	pop	ar3
   049E D0 02              2431 	pop	ar2
   04A0 60 03              2432 	jz	00133$
   04A2 02s05r4C           2433 	ljmp	00119$
   04A5                    2434 00133$:
                           2435 ;	../../include/ztex-eeprom.h:329: while ( bytes<length ) {
   04A5 AD*0A              2436 	mov	r5,_mac_eeprom_write_PARM_2
   04A7 7E 00              2437 	mov	r6,#0x00
   04A9                    2438 00116$:
   04A9 C3                 2439 	clr	c
   04AA EE                 2440 	mov	a,r6
   04AB 95*0B              2441 	subb	a,_mac_eeprom_write_PARM_3
   04AD 40 03              2442 	jc	00134$
   04AF 02s05r3E           2443 	ljmp	00118$
   04B2                    2444 00134$:
                           2445 ;	../../include/ztex-eeprom.h:330: I2DAT = *buf;         	// write data 
   04B2 8A 82              2446 	mov	dpl,r2
   04B4 8B 83              2447 	mov	dph,r3
   04B6 E0                 2448 	movx	a,@dptr
   04B7 FF                 2449 	mov	r7,a
   04B8 A3                 2450 	inc	dptr
   04B9 AA 82              2451 	mov	r2,dpl
   04BB AB 83              2452 	mov	r3,dph
   04BD 90 E6 79           2453 	mov	dptr,#_I2DAT
   04C0 EF                 2454 	mov	a,r7
   04C1 F0                 2455 	movx	@dptr,a
                           2456 ;	../../include/ztex-eeprom.h:331: buf++;
                           2457 ;	../../include/ztex-eeprom.h:332: if ( i2c_waitWrite() ) goto mac_eeprom_write_end;
   04C2 C0 02              2458 	push	ar2
   04C4 C0 03              2459 	push	ar3
   04C6 C0 04              2460 	push	ar4
   04C8 C0 05              2461 	push	ar5
   04CA C0 06              2462 	push	ar6
   04CC 12s00r58           2463 	lcall	_i2c_waitWrite
   04CF E5 82              2464 	mov	a,dpl
   04D1 D0 06              2465 	pop	ar6
   04D3 D0 05              2466 	pop	ar5
   04D5 D0 04              2467 	pop	ar4
   04D7 D0 03              2468 	pop	ar3
   04D9 D0 02              2469 	pop	ar2
   04DB 70 6F              2470 	jnz	00119$
                           2471 ;	../../include/ztex-eeprom.h:334: addr++;
   04DD 0D                 2472 	inc	r5
   04DE 8D*0A              2473 	mov	_mac_eeprom_write_PARM_2,r5
                           2474 ;	../../include/ztex-eeprom.h:335: bytes++;
   04E0 0E                 2475 	inc	r6
   04E1 8E 04              2476 	mov	ar4,r6
                           2477 ;	../../include/ztex-eeprom.h:336: if ( ( (addr & 8) == 0 ) && ( bytes<length ) ) {
   04E3 ED                 2478 	mov	a,r5
   04E4 20 E3 C2           2479 	jb	acc.3,00116$
   04E7 C3                 2480 	clr	c
   04E8 EE                 2481 	mov	a,r6
   04E9 95*0B              2482 	subb	a,_mac_eeprom_write_PARM_3
   04EB 50 BC              2483 	jnc	00116$
                           2484 ;	../../include/ztex-eeprom.h:337: I2CS |= bmBIT6;		// stop bit
   04ED 90 E6 78           2485 	mov	dptr,#_I2CS
   04F0 E0                 2486 	movx	a,@dptr
   04F1 44 40              2487 	orl	a,#0x40
   04F3 F0                 2488 	movx	@dptr,a
                           2489 ;	../../include/ztex-eeprom.h:338: i2c_waitStop();
   04F4 C0 02              2490 	push	ar2
   04F6 C0 03              2491 	push	ar3
   04F8 C0 04              2492 	push	ar4
   04FA C0 05              2493 	push	ar5
   04FC C0 06              2494 	push	ar6
   04FE 12s00rC8           2495 	lcall	_i2c_waitStop
                           2496 ;	../../include/ztex-eeprom.h:340: if ( eeprom_select(EEPROM_MAC_ADDR, 100,0) ) 
   0501 75*00 64           2497 	mov	_eeprom_select_PARM_2,#0x64
   0504 75*01 00           2498 	mov	_eeprom_select_PARM_3,#0x00
   0507 75 82 A6           2499 	mov	dpl,#0xA6
   050A 12s00rE2           2500 	lcall	_eeprom_select
   050D E5 82              2501 	mov	a,dpl
   050F D0 06              2502 	pop	ar6
   0511 D0 05              2503 	pop	ar5
   0513 D0 04              2504 	pop	ar4
   0515 D0 03              2505 	pop	ar3
   0517 D0 02              2506 	pop	ar2
   0519 70 31              2507 	jnz	00119$
                           2508 ;	../../include/ztex-eeprom.h:343: I2DAT = addr;          	// write address
   051B 90 E6 79           2509 	mov	dptr,#_I2DAT
   051E ED                 2510 	mov	a,r5
   051F F0                 2511 	movx	@dptr,a
                           2512 ;	../../include/ztex-eeprom.h:344: if ( i2c_waitWrite() ) goto mac_eeprom_write_end;
   0520 C0 02              2513 	push	ar2
   0522 C0 03              2514 	push	ar3
   0524 C0 04              2515 	push	ar4
   0526 C0 05              2516 	push	ar5
   0528 C0 06              2517 	push	ar6
   052A 12s00r58           2518 	lcall	_i2c_waitWrite
   052D E5 82              2519 	mov	a,dpl
   052F D0 06              2520 	pop	ar6
   0531 D0 05              2521 	pop	ar5
   0533 D0 04              2522 	pop	ar4
   0535 D0 03              2523 	pop	ar3
   0537 D0 02              2524 	pop	ar2
   0539 70 11              2525 	jnz	00119$
   053B 02s04rA9           2526 	ljmp	00116$
   053E                    2527 00118$:
                           2528 ;	../../include/ztex-eeprom.h:347: I2CS |= bmBIT6;		// stop bit
   053E 90 E6 78           2529 	mov	dptr,#_I2CS
   0541 E0                 2530 	movx	a,@dptr
   0542 44 40              2531 	orl	a,#0x40
   0544 F0                 2532 	movx	@dptr,a
                           2533 ;	../../include/ztex-eeprom.h:348: i2c_waitStop();
   0545 C0 04              2534 	push	ar4
   0547 12s00rC8           2535 	lcall	_i2c_waitStop
   054A D0 04              2536 	pop	ar4
                           2537 ;	../../include/ztex-eeprom.h:350: mac_eeprom_write_end:
   054C                    2538 00119$:
                           2539 ;	../../include/ztex-eeprom.h:351: mac_eeprom_addr = addr;
   054C 90s00r05           2540 	mov	dptr,#_mac_eeprom_addr
   054F E5*0A              2541 	mov	a,_mac_eeprom_write_PARM_2
   0551 F0                 2542 	movx	@dptr,a
                           2543 ;	../../include/ztex-eeprom.h:352: return bytes;
   0552 8C 82              2544 	mov	dpl,r4
   0554 22                 2545 	ret
                           2546 ;------------------------------------------------------------
                           2547 ;Allocation info for local variables in function 'mac_eeprom_read_ep0'
                           2548 ;------------------------------------------------------------
                           2549 ;i                         Allocated to registers r3 
                           2550 ;b                         Allocated to registers r2 
                           2551 ;------------------------------------------------------------
                           2552 ;	../../include/ztex-eeprom.h:358: BYTE mac_eeprom_read_ep0 () { 
                           2553 ;	-----------------------------------------
                           2554 ;	 function mac_eeprom_read_ep0
                           2555 ;	-----------------------------------------
   0555                    2556 _mac_eeprom_read_ep0:
                           2557 ;	../../include/ztex-eeprom.h:360: b = ep0_payload_transfer;
   0555 90s00r02           2558 	mov	dptr,#_ep0_payload_transfer
   0558 E0                 2559 	movx	a,@dptr
   0559 FA                 2560 	mov	r2,a
                           2561 ;	../../include/ztex-eeprom.h:361: i = mac_eeprom_read(EP0BUF, mac_eeprom_addr, b);
   055A 90s00r05           2562 	mov	dptr,#_mac_eeprom_addr
   055D E0                 2563 	movx	a,@dptr
   055E F5*08              2564 	mov	_mac_eeprom_read_PARM_2,a
   0560 8A*09              2565 	mov	_mac_eeprom_read_PARM_3,r2
   0562 90 E7 40           2566 	mov	dptr,#_EP0BUF
   0565 C0 02              2567 	push	ar2
   0567 12s03r70           2568 	lcall	_mac_eeprom_read
   056A AB 82              2569 	mov	r3,dpl
   056C D0 02              2570 	pop	ar2
                           2571 ;	../../include/ztex-eeprom.h:362: mac_eeprom_addr += b;
   056E 90s00r05           2572 	mov	dptr,#_mac_eeprom_addr
   0571 E0                 2573 	movx	a,@dptr
   0572 FC                 2574 	mov	r4,a
   0573 EA                 2575 	mov	a,r2
   0574 2C                 2576 	add	a,r4
   0575 F0                 2577 	movx	@dptr,a
                           2578 ;	../../include/ztex-eeprom.h:363: return i;
   0576 8B 82              2579 	mov	dpl,r3
   0578 22                 2580 	ret
                           2581 ;------------------------------------------------------------
                           2582 ;Allocation info for local variables in function 'spi_clocks'
                           2583 ;------------------------------------------------------------
                           2584 ;c                         Allocated to registers 
                           2585 ;------------------------------------------------------------
                           2586 ;	../../include/ztex-flash2.h:98: void spi_clocks (BYTE c) {
                           2587 ;	-----------------------------------------
                           2588 ;	 function spi_clocks
                           2589 ;	-----------------------------------------
   0579                    2590 _spi_clocks:
                           2591 ;	../../include/ztex-flash2.h:110: }
                           2592 	
   0579 AA 82              2593 	 mov r2,dpl
   057B                    2594 	010014$:
   057B D2 A6              2595 	        setb _IOC6
   057D 00                 2596 	        nop
   057E 00                 2597 	        nop
   057F 00                 2598 	        nop
   0580 C2 A6              2599 	        clr _IOC6
   0582 DA F7              2600 	 djnz r2,010014$
                           2601 ;	# 109 "../../include/ztex-flash2.h"
   0584 22                 2602 	ret
                           2603 ;------------------------------------------------------------
                           2604 ;Allocation info for local variables in function 'flash_read_byte'
                           2605 ;------------------------------------------------------------
                           2606 ;------------------------------------------------------------
                           2607 ;	../../include/ztex-flash2.h:118: __asm  
                           2608 ;	-----------------------------------------
                           2609 ;	 function flash_read_byte
                           2610 ;	-----------------------------------------
   0585                    2611 _flash_read_byte:
                           2612 ;	../../include/ztex-flash2.h:169: void flash_read(__xdata BYTE *buf, BYTE len) {
                           2613 	
                           2614 	
   0585 A2 A4              2615 	 mov c,_IOC4
                           2616 ;	# 121 "../../include/ztex-flash2.h"
   0587 D2 A6              2617 	        setb _IOC6
   0589 33                 2618 	        rlc a
   058A C2 A6              2619 	        clr _IOC6
                           2620 	
   058C A2 A4              2621 	        mov c,_IOC4
                           2622 ;	# 126 "../../include/ztex-flash2.h"
   058E D2 A6              2623 	        setb _IOC6
   0590 33                 2624 	        rlc a
   0591 C2 A6              2625 	        clr _IOC6
                           2626 	
   0593 A2 A4              2627 	        mov c,_IOC4
                           2628 ;	# 131 "../../include/ztex-flash2.h"
   0595 D2 A6              2629 	        setb _IOC6
   0597 33                 2630 	        rlc a
   0598 C2 A6              2631 	        clr _IOC6
                           2632 	
   059A A2 A4              2633 	        mov c,_IOC4
                           2634 ;	# 136 "../../include/ztex-flash2.h"
   059C D2 A6              2635 	        setb _IOC6
   059E 33                 2636 	        rlc a
   059F C2 A6              2637 	        clr _IOC6
                           2638 	
   05A1 A2 A4              2639 	        mov c,_IOC4
                           2640 ;	# 141 "../../include/ztex-flash2.h"
   05A3 D2 A6              2641 	        setb _IOC6
   05A5 33                 2642 	        rlc a
   05A6 C2 A6              2643 	        clr _IOC6
                           2644 	
   05A8 A2 A4              2645 	        mov c,_IOC4
                           2646 ;	# 146 "../../include/ztex-flash2.h"
   05AA D2 A6              2647 	        setb _IOC6
   05AC 33                 2648 	        rlc a
   05AD C2 A6              2649 	        clr _IOC6
                           2650 	
   05AF A2 A4              2651 	        mov c,_IOC4
                           2652 ;	# 151 "../../include/ztex-flash2.h"
   05B1 D2 A6              2653 	        setb _IOC6
   05B3 33                 2654 	        rlc a
   05B4 C2 A6              2655 	        clr _IOC6
                           2656 	
   05B6 A2 A4              2657 	        mov c,_IOC4
                           2658 ;	# 156 "../../include/ztex-flash2.h"
   05B8 D2 A6              2659 	        setb _IOC6
   05BA 33                 2660 	        rlc a
   05BB C2 A6              2661 	        clr _IOC6
   05BD F5 82              2662 	        mov dpl,a
   05BF 22                 2663 	        ret
                           2664 ;	../../include/ztex-flash2.h:170: *buf;					// this avoids stupid warnings
   05C0 75 82 00           2665 	mov	dpl,#0x00
   05C3 22                 2666 	ret
                           2667 ;------------------------------------------------------------
                           2668 ;Allocation info for local variables in function 'flash_read'
                           2669 ;------------------------------------------------------------
                           2670 ;len                       Allocated with name '_flash_read_PARM_2'
                           2671 ;buf                       Allocated to registers 
                           2672 ;------------------------------------------------------------
                           2673 ;	../../include/ztex-flash2.h:169: void flash_read(__xdata BYTE *buf, BYTE len) {
                           2674 ;	-----------------------------------------
                           2675 ;	 function flash_read
                           2676 ;	-----------------------------------------
   05C4                    2677 _flash_read:
                           2678 ;	../../include/ztex-flash2.h:228: __asm
                           2679 	
                           2680 ;	# 173 "../../include/ztex-flash2.h"
   05C4 AA*00              2681 	 mov r2,_flash_read_PARM_2
   05C6                    2682 	010012$:
                           2683 	
   05C6 A2 A4              2684 	 mov c,_IOC4
                           2685 ;	# 177 "../../include/ztex-flash2.h"
   05C8 D2 A6              2686 	        setb _IOC6
   05CA 33                 2687 	        rlc a
   05CB C2 A6              2688 	        clr _IOC6
                           2689 	
   05CD A2 A4              2690 	        mov c,_IOC4
                           2691 ;	# 182 "../../include/ztex-flash2.h"
   05CF D2 A6              2692 	        setb _IOC6
   05D1 33                 2693 	        rlc a
   05D2 C2 A6              2694 	        clr _IOC6
                           2695 	
   05D4 A2 A4              2696 	        mov c,_IOC4
                           2697 ;	# 187 "../../include/ztex-flash2.h"
   05D6 D2 A6              2698 	        setb _IOC6
   05D8 33                 2699 	        rlc a
   05D9 C2 A6              2700 	        clr _IOC6
                           2701 	
   05DB A2 A4              2702 	        mov c,_IOC4
                           2703 ;	# 192 "../../include/ztex-flash2.h"
   05DD D2 A6              2704 	        setb _IOC6
   05DF 33                 2705 	        rlc a
   05E0 C2 A6              2706 	        clr _IOC6
                           2707 	
   05E2 A2 A4              2708 	        mov c,_IOC4
                           2709 ;	# 197 "../../include/ztex-flash2.h"
   05E4 D2 A6              2710 	        setb _IOC6
   05E6 33                 2711 	        rlc a
   05E7 C2 A6              2712 	        clr _IOC6
                           2713 	
   05E9 A2 A4              2714 	        mov c,_IOC4
                           2715 ;	# 202 "../../include/ztex-flash2.h"
   05EB D2 A6              2716 	        setb _IOC6
   05ED 33                 2717 	        rlc a
   05EE C2 A6              2718 	        clr _IOC6
                           2719 	
   05F0 A2 A4              2720 	        mov c,_IOC4
                           2721 ;	# 207 "../../include/ztex-flash2.h"
   05F2 D2 A6              2722 	        setb _IOC6
   05F4 33                 2723 	        rlc a
   05F5 C2 A6              2724 	        clr _IOC6
                           2725 	
   05F7 A2 A4              2726 	        mov c,_IOC4
                           2727 ;	# 212 "../../include/ztex-flash2.h"
   05F9 D2 A6              2728 	        setb _IOC6
   05FB 33                 2729 	        rlc a
   05FC C2 A6              2730 	        clr _IOC6
                           2731 	
   05FE F0                 2732 	 movx @dptr,a
   05FF A3                 2733 	 inc dptr
   0600 DA C4              2734 	 djnz r2,010012$
   0602 22                 2735 	ret
                           2736 ;------------------------------------------------------------
                           2737 ;Allocation info for local variables in function 'spi_write_byte'
                           2738 ;------------------------------------------------------------
                           2739 ;b                         Allocated to registers 
                           2740 ;------------------------------------------------------------
                           2741 ;	../../include/ztex-flash2.h:235: rlc	a		// 6
                           2742 ;	-----------------------------------------
                           2743 ;	 function spi_write_byte
                           2744 ;	-----------------------------------------
   0603                    2745 _spi_write_byte:
                           2746 ;	../../include/ztex-flash2.h:280: *buf;					// this avoids stupid warnings
                           2747 	
                           2748 ;	# 230 "../../include/ztex-flash2.h"
   0603 E5 82              2749 	 mov a,dpl
   0605 33                 2750 	 rlc a
                           2751 ;	# 232 "../../include/ztex-flash2.h"
                           2752 	
   0606 92 A7              2753 	 mov _IOC7,c
   0608 D2 A6              2754 	        setb _IOC6
   060A 33                 2755 	 rlc a
                           2756 ;	# 236 "../../include/ztex-flash2.h"
   060B C2 A6              2757 	        clr _IOC6
                           2758 	
   060D 92 A7              2759 	 mov _IOC7,c
   060F D2 A6              2760 	        setb _IOC6
   0611 33                 2761 	 rlc a
                           2762 ;	# 241 "../../include/ztex-flash2.h"
   0612 C2 A6              2763 	        clr _IOC6
                           2764 	
   0614 92 A7              2765 	 mov _IOC7,c
   0616 D2 A6              2766 	        setb _IOC6
   0618 33                 2767 	 rlc a
                           2768 ;	# 246 "../../include/ztex-flash2.h"
   0619 C2 A6              2769 	        clr _IOC6
                           2770 	
   061B 92 A7              2771 	 mov _IOC7,c
   061D D2 A6              2772 	        setb _IOC6
   061F 33                 2773 	 rlc a
                           2774 ;	# 251 "../../include/ztex-flash2.h"
   0620 C2 A6              2775 	        clr _IOC6
                           2776 	
   0622 92 A7              2777 	 mov _IOC7,c
   0624 D2 A6              2778 	        setb _IOC6
   0626 33                 2779 	 rlc a
                           2780 ;	# 256 "../../include/ztex-flash2.h"
   0627 C2 A6              2781 	        clr _IOC6
                           2782 	
   0629 92 A7              2783 	 mov _IOC7,c
   062B D2 A6              2784 	        setb _IOC6
   062D 33                 2785 	 rlc a
                           2786 ;	# 261 "../../include/ztex-flash2.h"
   062E C2 A6              2787 	        clr _IOC6
                           2788 	
   0630 92 A7              2789 	 mov _IOC7,c
   0632 D2 A6              2790 	        setb _IOC6
   0634 33                 2791 	 rlc a
                           2792 ;	# 266 "../../include/ztex-flash2.h"
   0635 C2 A6              2793 	        clr _IOC6
                           2794 	
   0637 92 A7              2795 	 mov _IOC7,c
   0639 D2 A6              2796 	        setb _IOC6
   063B 00                 2797 	 nop
   063C C2 A6              2798 	        clr _IOC6
   063E 22                 2799 	ret
                           2800 ;------------------------------------------------------------
                           2801 ;Allocation info for local variables in function 'spi_write'
                           2802 ;------------------------------------------------------------
                           2803 ;len                       Allocated with name '_spi_write_PARM_2'
                           2804 ;buf                       Allocated to registers 
                           2805 ;------------------------------------------------------------
                           2806 ;	../../include/ztex-flash2.h:279: void spi_write(__xdata BYTE *buf, BYTE len) {
                           2807 ;	-----------------------------------------
                           2808 ;	 function spi_write
                           2809 ;	-----------------------------------------
   063F                    2810 _spi_write:
                           2811 ;	../../include/ztex-flash2.h:339: void spi_select() {
                           2812 	
                           2813 ;	# 283 "../../include/ztex-flash2.h"
   063F AA*00              2814 	 mov r2,_flash_read_PARM_2
   0641                    2815 	010013$:
                           2816 ;	# 286 "../../include/ztex-flash2.h"
   0641 E0                 2817 	 movx a,@dptr
   0642 33                 2818 	 rlc a
                           2819 ;	# 288 "../../include/ztex-flash2.h"
                           2820 	
   0643 92 A7              2821 	 mov _IOC7,c
   0645 D2 A6              2822 	        setb _IOC6
   0647 33                 2823 	 rlc a
                           2824 ;	# 292 "../../include/ztex-flash2.h"
   0648 C2 A6              2825 	        clr _IOC6
                           2826 	
   064A 92 A7              2827 	 mov _IOC7,c
   064C D2 A6              2828 	        setb _IOC6
   064E 33                 2829 	 rlc a
                           2830 ;	# 297 "../../include/ztex-flash2.h"
   064F C2 A6              2831 	        clr _IOC6
                           2832 	
   0651 92 A7              2833 	 mov _IOC7,c
   0653 D2 A6              2834 	        setb _IOC6
   0655 33                 2835 	 rlc a
                           2836 ;	# 302 "../../include/ztex-flash2.h"
   0656 C2 A6              2837 	        clr _IOC6
                           2838 	
   0658 92 A7              2839 	 mov _IOC7,c
   065A D2 A6              2840 	        setb _IOC6
   065C 33                 2841 	 rlc a
                           2842 ;	# 307 "../../include/ztex-flash2.h"
   065D C2 A6              2843 	        clr _IOC6
                           2844 	
   065F 92 A7              2845 	 mov _IOC7,c
   0661 D2 A6              2846 	        setb _IOC6
   0663 33                 2847 	 rlc a
                           2848 ;	# 312 "../../include/ztex-flash2.h"
   0664 C2 A6              2849 	        clr _IOC6
                           2850 	
   0666 92 A7              2851 	 mov _IOC7,c
   0668 D2 A6              2852 	        setb _IOC6
   066A 33                 2853 	 rlc a
                           2854 ;	# 317 "../../include/ztex-flash2.h"
   066B C2 A6              2855 	        clr _IOC6
                           2856 	
   066D 92 A7              2857 	 mov _IOC7,c
   066F D2 A6              2858 	        setb _IOC6
   0671 33                 2859 	 rlc a
                           2860 ;	# 322 "../../include/ztex-flash2.h"
   0672 C2 A6              2861 	        clr _IOC6
                           2862 	
   0674 92 A7              2863 	 mov _IOC7,c
   0676 D2 A6              2864 	        setb _IOC6
   0678 A3                 2865 	 inc dptr
   0679 C2 A6              2866 	        clr _IOC6
                           2867 	
   067B DA C4              2868 	 djnz r2,010013$
   067D 22                 2869 	ret
                           2870 ;------------------------------------------------------------
                           2871 ;Allocation info for local variables in function 'spi_select'
                           2872 ;------------------------------------------------------------
                           2873 ;------------------------------------------------------------
                           2874 ;	../../include/ztex-flash2.h:348: // de-select the flash (CS)
                           2875 ;	-----------------------------------------
                           2876 ;	 function spi_select
                           2877 ;	-----------------------------------------
   067E                    2878 _spi_select:
                           2879 ;	../../include/ztex-flash2.h:349: void spi_deselect() {
   067E D2 A5              2880 	setb	_IOC5
                           2881 ;	../../include/ztex-flash2.h:350: SPI_CS = 1;					// CS = 1;
   0680 75 82 08           2882 	mov	dpl,#0x08
   0683 12s05r79           2883 	lcall	_spi_clocks
                           2884 ;	../../include/ztex-flash2.h:342: SPI_CS = 0;
   0686 C2 A5              2885 	clr	_IOC5
   0688 22                 2886 	ret
                           2887 ;------------------------------------------------------------
                           2888 ;Allocation info for local variables in function 'spi_deselect'
                           2889 ;------------------------------------------------------------
                           2890 ;------------------------------------------------------------
                           2891 ;	../../include/ztex-flash2.h:349: void spi_deselect() {
                           2892 ;	-----------------------------------------
                           2893 ;	 function spi_deselect
                           2894 ;	-----------------------------------------
   0689                    2895 _spi_deselect:
                           2896 ;	../../include/ztex-flash2.h:350: SPI_CS = 1;					// CS = 1;
   0689 D2 A5              2897 	setb	_IOC5
                           2898 ;	../../include/ztex-flash2.h:351: spi_clocks(8);				// 8 dummy clocks to finish a previous command
   068B 75 82 08           2899 	mov	dpl,#0x08
   068E 02s05r79           2900 	ljmp	_spi_clocks
                           2901 ;------------------------------------------------------------
                           2902 ;Allocation info for local variables in function 'spi_wait'
                           2903 ;------------------------------------------------------------
                           2904 ;i                         Allocated to registers r2 r3 
                           2905 ;------------------------------------------------------------
                           2906 ;	../../include/ztex-flash2.h:371: BYTE spi_wait() {
                           2907 ;	-----------------------------------------
                           2908 ;	 function spi_wait
                           2909 ;	-----------------------------------------
   0691                    2910 _spi_wait:
                           2911 ;	../../include/ztex-flash2.h:359: spi_last_cmd = $0;
   0691 90s00r13           2912 	mov	dptr,#_spi_last_cmd
   0694 74 05              2913 	mov	a,#0x05
   0696 F0                 2914 	movx	@dptr,a
                           2915 ;	../../include/ztex-flash2.h:360: spi_select();				// select
   0697 12s06r7E           2916 	lcall	_spi_select
                           2917 ;	../../include/ztex-flash2.h:361: spi_write_byte($0);				// CMD 90h
   069A 75 82 05           2918 	mov	dpl,#0x05
   069D 12s06r03           2919 	lcall	_spi_write_byte
                           2920 ;	../../include/ztex-flash2.h:375: for (i=0; (flash_read_byte() & bmBIT0) && i<65535; i++ ) { 
   06A0 7A 00              2921 	mov	r2,#0x00
   06A2 7B 00              2922 	mov	r3,#0x00
   06A4                    2923 00102$:
   06A4 C0 02              2924 	push	ar2
   06A6 C0 03              2925 	push	ar3
   06A8 12s05r85           2926 	lcall	_flash_read_byte
   06AB E5 82              2927 	mov	a,dpl
   06AD D0 03              2928 	pop	ar3
   06AF D0 02              2929 	pop	ar2
   06B1 30 E0 2E           2930 	jnb	acc.0,00105$
   06B4 8A 04              2931 	mov	ar4,r2
   06B6 8B 05              2932 	mov	ar5,r3
   06B8 7E 00              2933 	mov	r6,#0x00
   06BA 7F 00              2934 	mov	r7,#0x00
   06BC C3                 2935 	clr	c
   06BD EC                 2936 	mov	a,r4
   06BE 94 FF              2937 	subb	a,#0xFF
   06C0 ED                 2938 	mov	a,r5
   06C1 94 FF              2939 	subb	a,#0xFF
   06C3 EE                 2940 	mov	a,r6
   06C4 94 00              2941 	subb	a,#0x00
   06C6 EF                 2942 	mov	a,r7
   06C7 64 80              2943 	xrl	a,#0x80
   06C9 94 80              2944 	subb	a,#0x80
   06CB 50 15              2945 	jnc	00105$
                           2946 ;	../../include/ztex-flash2.h:376: spi_clocks(0);				// 256 dummy clocks
   06CD 75 82 00           2947 	mov	dpl,#0x00
   06D0 C0 02              2948 	push	ar2
   06D2 C0 03              2949 	push	ar3
   06D4 12s05r79           2950 	lcall	_spi_clocks
   06D7 D0 03              2951 	pop	ar3
   06D9 D0 02              2952 	pop	ar2
                           2953 ;	../../include/ztex-flash2.h:375: for (i=0; (flash_read_byte() & bmBIT0) && i<65535; i++ ) { 
   06DB 0A                 2954 	inc	r2
   06DC BA 00 C5           2955 	cjne	r2,#0x00,00102$
   06DF 0B                 2956 	inc	r3
   06E0 80 C2              2957 	sjmp	00102$
   06E2                    2958 00105$:
                           2959 ;	../../include/ztex-flash2.h:379: flash_ec = flash_read_byte() & bmBIT0 ? FLASH_EC_TIMEOUT : 0;
   06E2 12s05r85           2960 	lcall	_flash_read_byte
   06E5 E5 82              2961 	mov	a,dpl
   06E7 30 E0 04           2962 	jnb	acc.0,00108$
   06EA 7A 02              2963 	mov	r2,#0x02
   06EC 80 02              2964 	sjmp	00109$
   06EE                    2965 00108$:
   06EE 7A 00              2966 	mov	r2,#0x00
   06F0                    2967 00109$:
   06F0 90s00r0E           2968 	mov	dptr,#_flash_ec
   06F3 EA                 2969 	mov	a,r2
   06F4 F0                 2970 	movx	@dptr,a
                           2971 ;	../../include/ztex-flash2.h:380: spi_deselect();
   06F5 12s06r89           2972 	lcall	_spi_deselect
                           2973 ;	../../include/ztex-flash2.h:381: return flash_ec;
   06F8 90s00r0E           2974 	mov	dptr,#_flash_ec
   06FB E0                 2975 	movx	a,@dptr
   06FC F5 82              2976 	mov	dpl,a
   06FE 22                 2977 	ret
                           2978 ;------------------------------------------------------------
                           2979 ;Allocation info for local variables in function 'flash_read_init'
                           2980 ;------------------------------------------------------------
                           2981 ;s                         Allocated to registers r2 r3 
                           2982 ;------------------------------------------------------------
                           2983 ;	../../include/ztex-flash2.h:391: BYTE flash_read_init(WORD s) {
                           2984 ;	-----------------------------------------
                           2985 ;	 function flash_read_init
                           2986 ;	-----------------------------------------
   06FF                    2987 _flash_read_init:
   06FF AA 82              2988 	mov	r2,dpl
   0701 AB 83              2989 	mov	r3,dph
                           2990 ;	../../include/ztex-flash2.h:400: s = s << ((BYTE)flash_sector_size - 8);     
   0703 20 A5 0A           2991 	jb	_IOC5,00102$
                           2992 ;	../../include/ztex-flash2.h:393: flash_ec = FLASH_EC_PENDING;
   0706 90s00r0E           2993 	mov	dptr,#_flash_ec
   0709 74 04              2994 	mov	a,#0x04
   070B F0                 2995 	movx	@dptr,a
                           2996 ;	../../include/ztex-flash2.h:394: return FLASH_EC_PENDING;		// we interrupted a pending Flash operation
   070C 75 82 04           2997 	mov	dpl,#0x04
   070F 22                 2998 	ret
   0710                    2999 00102$:
                           3000 ;	../../include/ztex-flash2.h:396: if ( spi_wait() ) {
   0710 C0 02              3001 	push	ar2
   0712 C0 03              3002 	push	ar3
   0714 12s06r91           3003 	lcall	_spi_wait
   0717 E5 82              3004 	mov	a,dpl
   0719 D0 03              3005 	pop	ar3
   071B D0 02              3006 	pop	ar2
   071D 60 07              3007 	jz	00104$
                           3008 ;	../../include/ztex-flash2.h:397: return flash_ec;
   071F 90s00r0E           3009 	mov	dptr,#_flash_ec
   0722 E0                 3010 	movx	a,@dptr
   0723 F5 82              3011 	mov	dpl,a
   0725 22                 3012 	ret
   0726                    3013 00104$:
                           3014 ;	../../include/ztex-flash2.h:400: s = s << ((BYTE)flash_sector_size - 8);     
   0726 90s00r08           3015 	mov	dptr,#_flash_sector_size
   0729 E0                 3016 	movx	a,@dptr
   072A FC                 3017 	mov	r4,a
   072B A3                 3018 	inc	dptr
   072C E0                 3019 	movx	a,@dptr
   072D 7D 00              3020 	mov	r5,#0x00
   072F EC                 3021 	mov	a,r4
   0730 24 F8              3022 	add	a,#0xf8
   0732 FC                 3023 	mov	r4,a
   0733 ED                 3024 	mov	a,r5
   0734 34 FF              3025 	addc	a,#0xff
   0736 FD                 3026 	mov	r5,a
   0737 8C F0              3027 	mov	b,r4
   0739 05 F0              3028 	inc	b
   073B 80 06              3029 	sjmp	00112$
   073D                    3030 00111$:
   073D EA                 3031 	mov	a,r2
   073E 2A                 3032 	add	a,r2
   073F FA                 3033 	mov	r2,a
   0740 EB                 3034 	mov	a,r3
   0741 33                 3035 	rlc	a
   0742 FB                 3036 	mov	r3,a
   0743                    3037 00112$:
   0743 D5 F0 F7           3038 	djnz	b,00111$
                           3039 ;	../../include/ztex-flash2.h:359: spi_last_cmd = $0;
   0746 90s00r13           3040 	mov	dptr,#_spi_last_cmd
   0749 74 0B              3041 	mov	a,#0x0B
   074B F0                 3042 	movx	@dptr,a
                           3043 ;	../../include/ztex-flash2.h:360: spi_select();				// select
   074C C0 02              3044 	push	ar2
   074E C0 03              3045 	push	ar3
   0750 12s06r7E           3046 	lcall	_spi_select
                           3047 ;	../../include/ztex-flash2.h:361: spi_write_byte($0);				// CMD 90h
   0753 75 82 0B           3048 	mov	dpl,#0x0B
   0756 12s06r03           3049 	lcall	_spi_write_byte
   0759 D0 03              3050 	pop	ar3
                           3051 ;	../../include/ztex-flash2.h:363: 
   075B 8B 82              3052 	mov	dpl,r3
   075D C0 03              3053 	push	ar3
   075F 12s06r03           3054 	lcall	_spi_write_byte
   0762 D0 03              3055 	pop	ar3
   0764 D0 02              3056 	pop	ar2
                           3057 ;	../../include/ztex-flash2.h:403: spi_write_byte(s & 255);
   0766 8A 82              3058 	mov	dpl,r2
   0768 12s06r03           3059 	lcall	_spi_write_byte
                           3060 ;	../../include/ztex-flash2.h:404: spi_write_byte(0);
   076B 75 82 00           3061 	mov	dpl,#0x00
   076E 12s06r03           3062 	lcall	_spi_write_byte
                           3063 ;	../../include/ztex-flash2.h:405: spi_clocks(8);				// 8 dummy clocks
   0771 75 82 08           3064 	mov	dpl,#0x08
   0774 12s05r79           3065 	lcall	_spi_clocks
                           3066 ;	../../include/ztex-flash2.h:406: return 0;
   0777 75 82 00           3067 	mov	dpl,#0x00
   077A 22                 3068 	ret
                           3069 ;------------------------------------------------------------
                           3070 ;Allocation info for local variables in function 'flash_read_next'
                           3071 ;------------------------------------------------------------
                           3072 ;------------------------------------------------------------
                           3073 ;	../../include/ztex-flash2.h:415: BYTE flash_read_next() {
                           3074 ;	-----------------------------------------
                           3075 ;	 function flash_read_next
                           3076 ;	-----------------------------------------
   077B                    3077 _flash_read_next:
                           3078 ;	../../include/ztex-flash2.h:416: return 0;
   077B 75 82 00           3079 	mov	dpl,#0x00
   077E 22                 3080 	ret
                           3081 ;------------------------------------------------------------
                           3082 ;Allocation info for local variables in function 'flash_read_finish'
                           3083 ;------------------------------------------------------------
                           3084 ;n                         Allocated to registers 
                           3085 ;------------------------------------------------------------
                           3086 ;	../../include/ztex-flash2.h:426: void flash_read_finish(WORD n) {
                           3087 ;	-----------------------------------------
                           3088 ;	 function flash_read_finish
                           3089 ;	-----------------------------------------
   077F                    3090 _flash_read_finish:
                           3091 ;	../../include/ztex-flash2.h:428: spi_deselect();
   077F 02s06r89           3092 	ljmp	_spi_deselect
                           3093 ;------------------------------------------------------------
                           3094 ;Allocation info for local variables in function 'spi_pp'
                           3095 ;------------------------------------------------------------
                           3096 ;------------------------------------------------------------
                           3097 ;	../../include/ztex-flash2.h:435: BYTE spi_pp () {	
                           3098 ;	-----------------------------------------
                           3099 ;	 function spi_pp
                           3100 ;	-----------------------------------------
   0782                    3101 _spi_pp:
                           3102 ;	../../include/ztex-flash2.h:436: spi_deselect();				// finish previous write cmd
   0782 12s06r89           3103 	lcall	_spi_deselect
                           3104 ;	../../include/ztex-flash2.h:438: spi_need_pp = 0;
   0785 90s00r1B           3105 	mov	dptr,#_spi_need_pp
   0788 E4                 3106 	clr	a
   0789 F0                 3107 	movx	@dptr,a
                           3108 ;	../../include/ztex-flash2.h:440: if ( spi_wait() ) {
   078A 12s06r91           3109 	lcall	_spi_wait
   078D E5 82              3110 	mov	a,dpl
   078F 60 07              3111 	jz	00102$
                           3112 ;	../../include/ztex-flash2.h:441: return flash_ec;
   0791 90s00r0E           3113 	mov	dptr,#_flash_ec
   0794 E0                 3114 	movx	a,@dptr
   0795 F5 82              3115 	mov	dpl,a
   0797 22                 3116 	ret
   0798                    3117 00102$:
                           3118 ;	../../include/ztex-flash2.h:359: spi_last_cmd = $0;
   0798 90s00r13           3119 	mov	dptr,#_spi_last_cmd
   079B 74 06              3120 	mov	a,#0x06
   079D F0                 3121 	movx	@dptr,a
                           3122 ;	../../include/ztex-flash2.h:360: spi_select();				// select
   079E 12s06r7E           3123 	lcall	_spi_select
                           3124 ;	../../include/ztex-flash2.h:361: spi_write_byte($0);				// CMD 90h
   07A1 75 82 06           3125 	mov	dpl,#0x06
   07A4 12s06r03           3126 	lcall	_spi_write_byte
                           3127 ;	../../include/ztex-flash2.h:444: spi_deselect();
   07A7 12s06r89           3128 	lcall	_spi_deselect
                           3129 ;	../../include/ztex-flash2.h:359: spi_last_cmd = $0;
   07AA 90s00r13           3130 	mov	dptr,#_spi_last_cmd
   07AD 74 02              3131 	mov	a,#0x02
   07AF F0                 3132 	movx	@dptr,a
                           3133 ;	../../include/ztex-flash2.h:360: spi_select();				// select
   07B0 12s06r7E           3134 	lcall	_spi_select
                           3135 ;	../../include/ztex-flash2.h:361: spi_write_byte($0);				// CMD 90h
   07B3 75 82 02           3136 	mov	dpl,#0x02
   07B6 12s06r03           3137 	lcall	_spi_write_byte
                           3138 ;	../../include/ztex-flash2.h:363: 
   07B9 90s00r18           3139 	mov	dptr,#_spi_write_addr_hi
   07BC E0                 3140 	movx	a,@dptr
   07BD A3                 3141 	inc	dptr
   07BE E0                 3142 	movx	a,@dptr
   07BF F5 82              3143 	mov	dpl,a
   07C1 12s06r03           3144 	lcall	_spi_write_byte
                           3145 ;	../../include/ztex-flash2.h:448: spi_write_byte(spi_write_addr_hi & 255);
   07C4 90s00r18           3146 	mov	dptr,#_spi_write_addr_hi
   07C7 E0                 3147 	movx	a,@dptr
   07C8 FA                 3148 	mov	r2,a
   07C9 A3                 3149 	inc	dptr
   07CA E0                 3150 	movx	a,@dptr
   07CB 8A 82              3151 	mov	dpl,r2
   07CD 12s06r03           3152 	lcall	_spi_write_byte
                           3153 ;	../../include/ztex-flash2.h:449: spi_write_byte(0);
   07D0 75 82 00           3154 	mov	dpl,#0x00
   07D3 12s06r03           3155 	lcall	_spi_write_byte
                           3156 ;	../../include/ztex-flash2.h:450: return 0;
   07D6 75 82 00           3157 	mov	dpl,#0x00
   07D9 22                 3158 	ret
                           3159 ;------------------------------------------------------------
                           3160 ;Allocation info for local variables in function 'flash_write_byte'
                           3161 ;------------------------------------------------------------
                           3162 ;b                         Allocated to registers r2 
                           3163 ;------------------------------------------------------------
                           3164 ;	../../include/ztex-flash2.h:457: BYTE flash_write_byte (BYTE b) {
                           3165 ;	-----------------------------------------
                           3166 ;	 function flash_write_byte
                           3167 ;	-----------------------------------------
   07DA                    3168 _flash_write_byte:
   07DA AA 82              3169 	mov	r2,dpl
                           3170 ;	../../include/ztex-flash2.h:458: if ( spi_need_pp && spi_pp() ) return flash_ec;
   07DC 90s00r1B           3171 	mov	dptr,#_spi_need_pp
   07DF E0                 3172 	movx	a,@dptr
   07E0 FB                 3173 	mov	r3,a
   07E1 60 12              3174 	jz	00102$
   07E3 C0 02              3175 	push	ar2
   07E5 12s07r82           3176 	lcall	_spi_pp
   07E8 E5 82              3177 	mov	a,dpl
   07EA D0 02              3178 	pop	ar2
   07EC 60 07              3179 	jz	00102$
   07EE 90s00r0E           3180 	mov	dptr,#_flash_ec
   07F1 E0                 3181 	movx	a,@dptr
   07F2 F5 82              3182 	mov	dpl,a
   07F4 22                 3183 	ret
   07F5                    3184 00102$:
                           3185 ;	../../include/ztex-flash2.h:459: spi_write_byte(b);
   07F5 8A 82              3186 	mov	dpl,r2
   07F7 12s06r03           3187 	lcall	_spi_write_byte
                           3188 ;	../../include/ztex-flash2.h:460: spi_write_addr_lo++;
   07FA 90s00r1A           3189 	mov	dptr,#_spi_write_addr_lo
   07FD E0                 3190 	movx	a,@dptr
   07FE 90s00r1A           3191 	mov	dptr,#_spi_write_addr_lo
   0801 04                 3192 	inc	a
   0802 F0                 3193 	movx	@dptr,a
                           3194 ;	../../include/ztex-flash2.h:461: if ( spi_write_addr_lo == 0 ) {
   0803 90s00r1A           3195 	mov	dptr,#_spi_write_addr_lo
   0806 E0                 3196 	movx	a,@dptr
   0807 FA                 3197 	mov	r2,a
   0808 70 1C              3198 	jnz	00105$
                           3199 ;	../../include/ztex-flash2.h:462: spi_write_addr_hi++;
   080A 90s00r18           3200 	mov	dptr,#_spi_write_addr_hi
   080D E0                 3201 	movx	a,@dptr
   080E FA                 3202 	mov	r2,a
   080F A3                 3203 	inc	dptr
   0810 E0                 3204 	movx	a,@dptr
   0811 FB                 3205 	mov	r3,a
   0812 90s00r18           3206 	mov	dptr,#_spi_write_addr_hi
   0815 74 01              3207 	mov	a,#0x01
   0817 2A                 3208 	add	a,r2
   0818 F0                 3209 	movx	@dptr,a
   0819 E4                 3210 	clr	a
   081A 3B                 3211 	addc	a,r3
   081B A3                 3212 	inc	dptr
   081C F0                 3213 	movx	@dptr,a
                           3214 ;	../../include/ztex-flash2.h:463: spi_deselect();				// finish write cmd
   081D 12s06r89           3215 	lcall	_spi_deselect
                           3216 ;	../../include/ztex-flash2.h:464: spi_need_pp = 1;
   0820 90s00r1B           3217 	mov	dptr,#_spi_need_pp
   0823 74 01              3218 	mov	a,#0x01
   0825 F0                 3219 	movx	@dptr,a
   0826                    3220 00105$:
                           3221 ;	../../include/ztex-flash2.h:466: return 0;
   0826 75 82 00           3222 	mov	dpl,#0x00
   0829 22                 3223 	ret
                           3224 ;------------------------------------------------------------
                           3225 ;Allocation info for local variables in function 'flash_write'
                           3226 ;------------------------------------------------------------
                           3227 ;len                       Allocated with name '_flash_write_PARM_2'
                           3228 ;buf                       Allocated to registers r2 r3 
                           3229 ;b                         Allocated to registers r4 
                           3230 ;------------------------------------------------------------
                           3231 ;	../../include/ztex-flash2.h:474: BYTE flash_write(__xdata BYTE *buf, BYTE len) {
                           3232 ;	-----------------------------------------
                           3233 ;	 function flash_write
                           3234 ;	-----------------------------------------
   082A                    3235 _flash_write:
   082A AA 82              3236 	mov	r2,dpl
   082C AB 83              3237 	mov	r3,dph
                           3238 ;	../../include/ztex-flash2.h:476: if ( spi_need_pp && spi_pp() ) return flash_ec;
   082E 90s00r1B           3239 	mov	dptr,#_spi_need_pp
   0831 E0                 3240 	movx	a,@dptr
   0832 FC                 3241 	mov	r4,a
   0833 60 16              3242 	jz	00102$
   0835 C0 02              3243 	push	ar2
   0837 C0 03              3244 	push	ar3
   0839 12s07r82           3245 	lcall	_spi_pp
   083C E5 82              3246 	mov	a,dpl
   083E D0 03              3247 	pop	ar3
   0840 D0 02              3248 	pop	ar2
   0842 60 07              3249 	jz	00102$
   0844 90s00r0E           3250 	mov	dptr,#_flash_ec
   0847 E0                 3251 	movx	a,@dptr
   0848 F5 82              3252 	mov	dpl,a
   084A 22                 3253 	ret
   084B                    3254 00102$:
                           3255 ;	../../include/ztex-flash2.h:478: if ( spi_write_addr_lo == 0 ) {
   084B 90s00r1A           3256 	mov	dptr,#_spi_write_addr_lo
   084E E0                 3257 	movx	a,@dptr
   084F FC                 3258 	mov	r4,a
   0850 70 0C              3259 	jnz	00110$
                           3260 ;	../../include/ztex-flash2.h:479: spi_write(buf,len);
   0852 85*0C*00           3261 	mov	_spi_write_PARM_2,_flash_write_PARM_2
   0855 8A 82              3262 	mov	dpl,r2
   0857 8B 83              3263 	mov	dph,r3
   0859 12s06r3F           3264 	lcall	_spi_write
   085C 80 67              3265 	sjmp	00111$
   085E                    3266 00110$:
                           3267 ;	../../include/ztex-flash2.h:482: b = (~spi_write_addr_lo) + 1;
   085E EC                 3268 	mov	a,r4
   085F F4                 3269 	cpl	a
   0860 FC                 3270 	mov	r4,a
   0861 0C                 3271 	inc	r4
                           3272 ;	../../include/ztex-flash2.h:483: if ( len==0 || len>b ) {
   0862 E5*0C              3273 	mov	a,_flash_write_PARM_2
   0864 60 06              3274 	jz	00106$
   0866 C3                 3275 	clr	c
   0867 EC                 3276 	mov	a,r4
   0868 95*0C              3277 	subb	a,_flash_write_PARM_2
   086A 50 4F              3278 	jnc	00107$
   086C                    3279 00106$:
                           3280 ;	../../include/ztex-flash2.h:484: spi_write(buf,b);
   086C 8C*00              3281 	mov	_spi_write_PARM_2,r4
   086E 8A 82              3282 	mov	dpl,r2
   0870 8B 83              3283 	mov	dph,r3
   0872 C0 02              3284 	push	ar2
   0874 C0 03              3285 	push	ar3
   0876 C0 04              3286 	push	ar4
   0878 12s06r3F           3287 	lcall	_spi_write
   087B D0 04              3288 	pop	ar4
   087D D0 03              3289 	pop	ar3
   087F D0 02              3290 	pop	ar2
                           3291 ;	../../include/ztex-flash2.h:485: len-=b;
   0881 E5*0C              3292 	mov	a,_flash_write_PARM_2
   0883 C3                 3293 	clr	c
   0884 9C                 3294 	subb	a,r4
   0885 F5*0C              3295 	mov	_flash_write_PARM_2,a
                           3296 ;	../../include/ztex-flash2.h:486: spi_write_addr_hi++;
   0887 90s00r18           3297 	mov	dptr,#_spi_write_addr_hi
   088A E0                 3298 	movx	a,@dptr
   088B FD                 3299 	mov	r5,a
   088C A3                 3300 	inc	dptr
   088D E0                 3301 	movx	a,@dptr
   088E FE                 3302 	mov	r6,a
   088F 90s00r18           3303 	mov	dptr,#_spi_write_addr_hi
   0892 74 01              3304 	mov	a,#0x01
   0894 2D                 3305 	add	a,r5
   0895 F0                 3306 	movx	@dptr,a
   0896 E4                 3307 	clr	a
   0897 3E                 3308 	addc	a,r6
   0898 A3                 3309 	inc	dptr
   0899 F0                 3310 	movx	@dptr,a
                           3311 ;	../../include/ztex-flash2.h:487: spi_write_addr_lo=0;
   089A 90s00r1A           3312 	mov	dptr,#_spi_write_addr_lo
   089D E4                 3313 	clr	a
   089E F0                 3314 	movx	@dptr,a
                           3315 ;	../../include/ztex-flash2.h:488: buf+=b;
   089F EC                 3316 	mov	a,r4
   08A0 2A                 3317 	add	a,r2
   08A1 FA                 3318 	mov	r2,a
   08A2 E4                 3319 	clr	a
   08A3 3B                 3320 	addc	a,r3
   08A4 FB                 3321 	mov	r3,a
                           3322 ;	../../include/ztex-flash2.h:489: if ( spi_pp() ) return flash_ec;
   08A5 C0 02              3323 	push	ar2
   08A7 C0 03              3324 	push	ar3
   08A9 12s07r82           3325 	lcall	_spi_pp
   08AC E5 82              3326 	mov	a,dpl
   08AE D0 03              3327 	pop	ar3
   08B0 D0 02              3328 	pop	ar2
   08B2 60 07              3329 	jz	00107$
   08B4 90s00r0E           3330 	mov	dptr,#_flash_ec
   08B7 E0                 3331 	movx	a,@dptr
   08B8 F5 82              3332 	mov	dpl,a
   08BA 22                 3333 	ret
   08BB                    3334 00107$:
                           3335 ;	../../include/ztex-flash2.h:491: spi_write(buf,len);
   08BB 85*0C*00           3336 	mov	_spi_write_PARM_2,_flash_write_PARM_2
   08BE 8A 82              3337 	mov	dpl,r2
   08C0 8B 83              3338 	mov	dph,r3
   08C2 12s06r3F           3339 	lcall	_spi_write
   08C5                    3340 00111$:
                           3341 ;	../../include/ztex-flash2.h:494: spi_write_addr_lo+=len;
   08C5 90s00r1A           3342 	mov	dptr,#_spi_write_addr_lo
   08C8 E0                 3343 	movx	a,@dptr
   08C9 FA                 3344 	mov	r2,a
   08CA E5*0C              3345 	mov	a,_flash_write_PARM_2
   08CC 2A                 3346 	add	a,r2
   08CD F0                 3347 	movx	@dptr,a
                           3348 ;	../../include/ztex-flash2.h:496: if ( spi_write_addr_lo == 0 ) {
   08CE 90s00r1A           3349 	mov	dptr,#_spi_write_addr_lo
   08D1 E0                 3350 	movx	a,@dptr
   08D2 FA                 3351 	mov	r2,a
   08D3 70 1C              3352 	jnz	00113$
                           3353 ;	../../include/ztex-flash2.h:497: spi_write_addr_hi++;
   08D5 90s00r18           3354 	mov	dptr,#_spi_write_addr_hi
   08D8 E0                 3355 	movx	a,@dptr
   08D9 FA                 3356 	mov	r2,a
   08DA A3                 3357 	inc	dptr
   08DB E0                 3358 	movx	a,@dptr
   08DC FB                 3359 	mov	r3,a
   08DD 90s00r18           3360 	mov	dptr,#_spi_write_addr_hi
   08E0 74 01              3361 	mov	a,#0x01
   08E2 2A                 3362 	add	a,r2
   08E3 F0                 3363 	movx	@dptr,a
   08E4 E4                 3364 	clr	a
   08E5 3B                 3365 	addc	a,r3
   08E6 A3                 3366 	inc	dptr
   08E7 F0                 3367 	movx	@dptr,a
                           3368 ;	../../include/ztex-flash2.h:498: spi_deselect();				// finish write cmd
   08E8 12s06r89           3369 	lcall	_spi_deselect
                           3370 ;	../../include/ztex-flash2.h:499: spi_need_pp = 1;
   08EB 90s00r1B           3371 	mov	dptr,#_spi_need_pp
   08EE 74 01              3372 	mov	a,#0x01
   08F0 F0                 3373 	movx	@dptr,a
   08F1                    3374 00113$:
                           3375 ;	../../include/ztex-flash2.h:502: return 0;
   08F1 75 82 00           3376 	mov	dpl,#0x00
   08F4 22                 3377 	ret
                           3378 ;------------------------------------------------------------
                           3379 ;Allocation info for local variables in function 'flash_write_init'
                           3380 ;------------------------------------------------------------
                           3381 ;s                         Allocated to registers r2 r3 
                           3382 ;------------------------------------------------------------
                           3383 ;	../../include/ztex-flash2.h:514: BYTE flash_write_init(WORD s) {
                           3384 ;	-----------------------------------------
                           3385 ;	 function flash_write_init
                           3386 ;	-----------------------------------------
   08F5                    3387 _flash_write_init:
   08F5 AA 82              3388 	mov	r2,dpl
   08F7 AB 83              3389 	mov	r3,dph
                           3390 ;	../../include/ztex-flash2.h:515: if ( !SPI_CS ) {
   08F9 20 A5 0A           3391 	jb	_IOC5,00102$
                           3392 ;	../../include/ztex-flash2.h:516: flash_ec = FLASH_EC_PENDING;
   08FC 90s00r0E           3393 	mov	dptr,#_flash_ec
   08FF 74 04              3394 	mov	a,#0x04
   0901 F0                 3395 	movx	@dptr,a
                           3396 ;	../../include/ztex-flash2.h:517: return FLASH_EC_PENDING;		// we interrupted a pending Flash operation
   0902 75 82 04           3397 	mov	dpl,#0x04
   0905 22                 3398 	ret
   0906                    3399 00102$:
                           3400 ;	../../include/ztex-flash2.h:519: if ( spi_wait() ) {
   0906 C0 02              3401 	push	ar2
   0908 C0 03              3402 	push	ar3
   090A 12s06r91           3403 	lcall	_spi_wait
   090D E5 82              3404 	mov	a,dpl
   090F D0 03              3405 	pop	ar3
   0911 D0 02              3406 	pop	ar2
   0913 60 07              3407 	jz	00104$
                           3408 ;	../../include/ztex-flash2.h:520: return flash_ec;
   0915 90s00r0E           3409 	mov	dptr,#_flash_ec
   0918 E0                 3410 	movx	a,@dptr
   0919 F5 82              3411 	mov	dpl,a
   091B 22                 3412 	ret
   091C                    3413 00104$:
                           3414 ;	../../include/ztex-flash2.h:522: spi_write_sector = s;
   091C 90s00r1C           3415 	mov	dptr,#_spi_write_sector
   091F EA                 3416 	mov	a,r2
   0920 F0                 3417 	movx	@dptr,a
   0921 A3                 3418 	inc	dptr
   0922 EB                 3419 	mov	a,r3
   0923 F0                 3420 	movx	@dptr,a
                           3421 ;	../../include/ztex-flash2.h:523: s = s << ((BYTE)flash_sector_size - 8);     
   0924 90s00r08           3422 	mov	dptr,#_flash_sector_size
   0927 E0                 3423 	movx	a,@dptr
   0928 FC                 3424 	mov	r4,a
   0929 A3                 3425 	inc	dptr
   092A E0                 3426 	movx	a,@dptr
   092B 7D 00              3427 	mov	r5,#0x00
   092D EC                 3428 	mov	a,r4
   092E 24 F8              3429 	add	a,#0xf8
   0930 FC                 3430 	mov	r4,a
   0931 ED                 3431 	mov	a,r5
   0932 34 FF              3432 	addc	a,#0xff
   0934 FD                 3433 	mov	r5,a
   0935 8C F0              3434 	mov	b,r4
   0937 05 F0              3435 	inc	b
   0939 80 06              3436 	sjmp	00112$
   093B                    3437 00111$:
   093B EA                 3438 	mov	a,r2
   093C 2A                 3439 	add	a,r2
   093D FA                 3440 	mov	r2,a
   093E EB                 3441 	mov	a,r3
   093F 33                 3442 	rlc	a
   0940 FB                 3443 	mov	r3,a
   0941                    3444 00112$:
   0941 D5 F0 F7           3445 	djnz	b,00111$
                           3446 ;	../../include/ztex-flash2.h:524: spi_write_addr_hi = s;
   0944 90s00r18           3447 	mov	dptr,#_spi_write_addr_hi
   0947 EA                 3448 	mov	a,r2
   0948 F0                 3449 	movx	@dptr,a
   0949 A3                 3450 	inc	dptr
   094A EB                 3451 	mov	a,r3
   094B F0                 3452 	movx	@dptr,a
                           3453 ;	../../include/ztex-flash2.h:525: spi_write_addr_lo = 0;
   094C 90s00r1A           3454 	mov	dptr,#_spi_write_addr_lo
   094F E4                 3455 	clr	a
   0950 F0                 3456 	movx	@dptr,a
                           3457 ;	../../include/ztex-flash2.h:359: spi_last_cmd = $0;
   0951 90s00r13           3458 	mov	dptr,#_spi_last_cmd
   0954 74 06              3459 	mov	a,#0x06
   0956 F0                 3460 	movx	@dptr,a
                           3461 ;	../../include/ztex-flash2.h:360: spi_select();				// select
   0957 C0 02              3462 	push	ar2
   0959 C0 03              3463 	push	ar3
   095B 12s06r7E           3464 	lcall	_spi_select
                           3465 ;	../../include/ztex-flash2.h:361: spi_write_byte($0);				// CMD 90h
   095E 75 82 06           3466 	mov	dpl,#0x06
   0961 12s06r03           3467 	lcall	_spi_write_byte
                           3468 ;	../../include/ztex-flash2.h:528: spi_deselect();
   0964 12s06r89           3469 	lcall	_spi_deselect
                           3470 ;	../../include/ztex-flash2.h:359: spi_last_cmd = $0;
   0967 90s00r12           3471 	mov	dptr,#_spi_erase_cmd
   096A E0                 3472 	movx	a,@dptr
   096B 90s00r13           3473 	mov	dptr,#_spi_last_cmd
   096E F0                 3474 	movx	@dptr,a
                           3475 ;	../../include/ztex-flash2.h:360: spi_select();				// select
   096F 12s06r7E           3476 	lcall	_spi_select
                           3477 ;	../../include/ztex-flash2.h:361: spi_write_byte($0);				// CMD 90h
   0972 90s00r12           3478 	mov	dptr,#_spi_erase_cmd
   0975 E0                 3479 	movx	a,@dptr
   0976 F5 82              3480 	mov	dpl,a
   0978 12s06r03           3481 	lcall	_spi_write_byte
   097B D0 03              3482 	pop	ar3
                           3483 ;	../../include/ztex-flash2.h:363: 
   097D 8B 82              3484 	mov	dpl,r3
   097F C0 03              3485 	push	ar3
   0981 12s06r03           3486 	lcall	_spi_write_byte
   0984 D0 03              3487 	pop	ar3
   0986 D0 02              3488 	pop	ar2
                           3489 ;	../../include/ztex-flash2.h:532: spi_write_byte(s & 255);
   0988 8A 82              3490 	mov	dpl,r2
   098A 12s06r03           3491 	lcall	_spi_write_byte
                           3492 ;	../../include/ztex-flash2.h:533: spi_write_byte(0);
   098D 75 82 00           3493 	mov	dpl,#0x00
   0990 12s06r03           3494 	lcall	_spi_write_byte
                           3495 ;	../../include/ztex-flash2.h:534: spi_deselect();
   0993 12s06r89           3496 	lcall	_spi_deselect
                           3497 ;	../../include/ztex-flash2.h:536: spi_need_pp = 1;
   0996 90s00r1B           3498 	mov	dptr,#_spi_need_pp
   0999 74 01              3499 	mov	a,#0x01
   099B F0                 3500 	movx	@dptr,a
                           3501 ;	../../include/ztex-flash2.h:537: return 0;
   099C 75 82 00           3502 	mov	dpl,#0x00
   099F 22                 3503 	ret
                           3504 ;------------------------------------------------------------
                           3505 ;Allocation info for local variables in function 'flash_write_finish_sector'
                           3506 ;------------------------------------------------------------
                           3507 ;n                         Allocated to registers 
                           3508 ;------------------------------------------------------------
                           3509 ;	../../include/ztex-flash2.h:547: BYTE flash_write_finish_sector (WORD n) {
                           3510 ;	-----------------------------------------
                           3511 ;	 function flash_write_finish_sector
                           3512 ;	-----------------------------------------
   09A0                    3513 _flash_write_finish_sector:
                           3514 ;	../../include/ztex-flash2.h:549: spi_deselect();
   09A0 12s06r89           3515 	lcall	_spi_deselect
                           3516 ;	../../include/ztex-flash2.h:550: return 0;
   09A3 75 82 00           3517 	mov	dpl,#0x00
   09A6 22                 3518 	ret
                           3519 ;------------------------------------------------------------
                           3520 ;Allocation info for local variables in function 'flash_write_finish'
                           3521 ;------------------------------------------------------------
                           3522 ;------------------------------------------------------------
                           3523 ;	../../include/ztex-flash2.h:560: void flash_write_finish () {
                           3524 ;	-----------------------------------------
                           3525 ;	 function flash_write_finish
                           3526 ;	-----------------------------------------
   09A7                    3527 _flash_write_finish:
                           3528 ;	../../include/ztex-flash2.h:561: spi_deselect();
   09A7 02s06r89           3529 	ljmp	_spi_deselect
                           3530 ;------------------------------------------------------------
                           3531 ;Allocation info for local variables in function 'flash_write_next'
                           3532 ;------------------------------------------------------------
                           3533 ;------------------------------------------------------------
                           3534 ;	../../include/ztex-flash2.h:571: BYTE flash_write_next () {
                           3535 ;	-----------------------------------------
                           3536 ;	 function flash_write_next
                           3537 ;	-----------------------------------------
   09AA                    3538 _flash_write_next:
                           3539 ;	../../include/ztex-flash2.h:572: spi_deselect();
   09AA 12s06r89           3540 	lcall	_spi_deselect
                           3541 ;	../../include/ztex-flash2.h:573: return flash_write_init(spi_write_sector+1);
   09AD 90s00r1C           3542 	mov	dptr,#_spi_write_sector
   09B0 E0                 3543 	movx	a,@dptr
   09B1 FA                 3544 	mov	r2,a
   09B2 A3                 3545 	inc	dptr
   09B3 E0                 3546 	movx	a,@dptr
   09B4 FB                 3547 	mov	r3,a
   09B5 8A 82              3548 	mov	dpl,r2
   09B7 8B 83              3549 	mov	dph,r3
   09B9 A3                 3550 	inc	dptr
   09BA 02s08rF5           3551 	ljmp	_flash_write_init
                           3552 ;------------------------------------------------------------
                           3553 ;Allocation info for local variables in function 'flash_init'
                           3554 ;------------------------------------------------------------
                           3555 ;i                         Allocated to registers r2 
                           3556 ;------------------------------------------------------------
                           3557 ;	../../include/ztex-flash2.h:581: void flash_init() {
                           3558 ;	-----------------------------------------
                           3559 ;	 function flash_init
                           3560 ;	-----------------------------------------
   09BD                    3561 _flash_init:
                           3562 ;	../../include/ztex-flash2.h:584: PORTCCFG = 0;
   09BD 90 E6 71           3563 	mov	dptr,#_PORTCCFG
   09C0 E4                 3564 	clr	a
   09C1 F0                 3565 	movx	@dptr,a
                           3566 ;	../../include/ztex-flash2.h:586: flash_enabled = 1;
   09C2 90s00r07           3567 	mov	dptr,#_flash_enabled
   09C5 74 01              3568 	mov	a,#0x01
   09C7 F0                 3569 	movx	@dptr,a
                           3570 ;	../../include/ztex-flash2.h:587: flash_ec = 0;
   09C8 90s00r0E           3571 	mov	dptr,#_flash_ec
   09CB E4                 3572 	clr	a
   09CC F0                 3573 	movx	@dptr,a
                           3574 ;	../../include/ztex-flash2.h:588: flash_sector_size = 0x8010;  // 64 KByte
   09CD 90s00r08           3575 	mov	dptr,#_flash_sector_size
   09D0 74 10              3576 	mov	a,#0x10
   09D2 F0                 3577 	movx	@dptr,a
   09D3 A3                 3578 	inc	dptr
   09D4 74 80              3579 	mov	a,#0x80
   09D6 F0                 3580 	movx	@dptr,a
                           3581 ;	../../include/ztex-flash2.h:589: spi_erase_cmd = 0xd8;
   09D7 90s00r12           3582 	mov	dptr,#_spi_erase_cmd
   09DA 74 D8              3583 	mov	a,#0xD8
   09DC F0                 3584 	movx	@dptr,a
                           3585 ;	../../include/ztex-flash2.h:591: OESPI_OPORT &= ~bmBITSPI_BIT_DO;
   09DD 53 B4 EF           3586 	anl	_OEC,#0xEF
                           3587 ;	../../include/ztex-flash2.h:592: OESPI_PORT |= bmBITSPI_BIT_CS | bmBITSPI_BIT_DI | bmBITSPI_BIT_CLK;
   09E0 43 B4 E0           3588 	orl	_OEC,#0xE0
                           3589 ;	../../include/ztex-flash2.h:593: SPI_CS = 1;
   09E3 D2 A5              3590 	setb	_IOC5
                           3591 ;	../../include/ztex-flash2.h:594: spi_clocks(0);				// 256 clocks
   09E5 75 82 00           3592 	mov	dpl,#0x00
   09E8 12s05r79           3593 	lcall	_spi_clocks
                           3594 ;	../../include/ztex-flash2.h:359: spi_last_cmd = $0;
   09EB 90s00r13           3595 	mov	dptr,#_spi_last_cmd
   09EE 74 90              3596 	mov	a,#0x90
   09F0 F0                 3597 	movx	@dptr,a
                           3598 ;	../../include/ztex-flash2.h:360: spi_select();				// select
   09F1 12s06r7E           3599 	lcall	_spi_select
                           3600 ;	../../include/ztex-flash2.h:361: spi_write_byte($0);				// CMD 90h
   09F4 75 82 90           3601 	mov	dpl,#0x90
   09F7 12s06r03           3602 	lcall	_spi_write_byte
                           3603 ;	../../include/ztex-flash2.h:363: 
   09FA 75 82 18           3604 	mov	dpl,#0x18
   09FD 12s05r79           3605 	lcall	_spi_clocks
                           3606 ;	../../include/ztex-flash2.h:598: spi_device = flash_read_byte();			
   0A00 12s05r85           3607 	lcall	_flash_read_byte
   0A03 E5 82              3608 	mov	a,dpl
   0A05 90s00r10           3609 	mov	dptr,#_spi_device
   0A08 F0                 3610 	movx	@dptr,a
                           3611 ;	../../include/ztex-flash2.h:599: spi_deselect();				// deselect
   0A09 12s06r89           3612 	lcall	_spi_deselect
                           3613 ;	../../include/ztex-flash2.h:359: spi_last_cmd = $0;
   0A0C 90s00r13           3614 	mov	dptr,#_spi_last_cmd
   0A0F 74 9F              3615 	mov	a,#0x9F
   0A11 F0                 3616 	movx	@dptr,a
                           3617 ;	../../include/ztex-flash2.h:360: spi_select();				// select
   0A12 12s06r7E           3618 	lcall	_spi_select
                           3619 ;	../../include/ztex-flash2.h:361: spi_write_byte($0);				// CMD 90h
   0A15 75 82 9F           3620 	mov	dpl,#0x9F
   0A18 12s06r03           3621 	lcall	_spi_write_byte
                           3622 ;	../../include/ztex-flash2.h:363: 
   0A1B 75*00 03           3623 	mov	_flash_read_PARM_2,#0x03
   0A1E 90s00r14           3624 	mov	dptr,#_spi_buffer
   0A21 12s05rC4           3625 	lcall	_flash_read
                           3626 ;	../../include/ztex-flash2.h:364: /* *********************************************************************
   0A24 12s06r89           3627 	lcall	_spi_deselect
                           3628 ;	../../include/ztex-flash2.h:604: if ( spi_buffer[2]<16 || spi_buffer[2]>24 ) {
   0A27 90s00r16           3629 	mov	dptr,#(_spi_buffer + 0x0002)
   0A2A E0                 3630 	movx	a,@dptr
   0A2B FA                 3631 	mov	r2,a
   0A2C BA 10 00           3632 	cjne	r2,#0x10,00109$
   0A2F                    3633 00109$:
   0A2F 40 3D              3634 	jc	00104$
   0A31 EA                 3635 	mov	a,r2
   0A32 24 E7              3636 	add	a,#0xff - 0x18
   0A34 40 38              3637 	jc	00104$
                           3638 ;	../../include/ztex-flash2.h:607: spi_vendor = spi_buffer[0];
   0A36 90s00r14           3639 	mov	dptr,#_spi_buffer
   0A39 E0                 3640 	movx	a,@dptr
   0A3A 90s00r0F           3641 	mov	dptr,#_spi_vendor
   0A3D F0                 3642 	movx	@dptr,a
                           3643 ;	../../include/ztex-flash2.h:608: spi_memtype = spi_buffer[1];
   0A3E 90s00r15           3644 	mov	dptr,#(_spi_buffer + 0x0001)
   0A41 E0                 3645 	movx	a,@dptr
   0A42 90s00r11           3646 	mov	dptr,#_spi_memtype
   0A45 F0                 3647 	movx	@dptr,a
                           3648 ;	../../include/ztex-flash2.h:624: i=spi_buffer[2]-16;
   0A46 EA                 3649 	mov	a,r2
   0A47 24 F0              3650 	add	a,#0xf0
   0A49 FA                 3651 	mov	r2,a
                           3652 ;	../../include/ztex-flash2.h:626: flash_sectors = 1 << i;
   0A4A 8A F0              3653 	mov	b,r2
   0A4C 05 F0              3654 	inc	b
   0A4E 7A 01              3655 	mov	r2,#0x01
   0A50 7B 00              3656 	mov	r3,#0x00
   0A52 80 06              3657 	sjmp	00113$
   0A54                    3658 00112$:
   0A54 EA                 3659 	mov	a,r2
   0A55 2A                 3660 	add	a,r2
   0A56 FA                 3661 	mov	r2,a
   0A57 EB                 3662 	mov	a,r3
   0A58 33                 3663 	rlc	a
   0A59 FB                 3664 	mov	r3,a
   0A5A                    3665 00113$:
   0A5A D5 F0 F7           3666 	djnz	b,00112$
   0A5D 90s00r0A           3667 	mov	dptr,#_flash_sectors
   0A60 EA                 3668 	mov	a,r2
   0A61 F0                 3669 	movx	@dptr,a
   0A62 A3                 3670 	inc	dptr
   0A63 EB                 3671 	mov	a,r3
   0A64 F0                 3672 	movx	@dptr,a
   0A65 EB                 3673 	mov	a,r3
   0A66 33                 3674 	rlc	a
   0A67 95 E0              3675 	subb	a,acc
   0A69 A3                 3676 	inc	dptr
   0A6A F0                 3677 	movx	@dptr,a
   0A6B A3                 3678 	inc	dptr
   0A6C F0                 3679 	movx	@dptr,a
                           3680 ;	../../include/ztex-flash2.h:628: return;
                           3681 ;	../../include/ztex-flash2.h:630: disable:
   0A6D 22                 3682 	ret
   0A6E                    3683 00104$:
                           3684 ;	../../include/ztex-flash2.h:631: flash_enabled = 0;
   0A6E 90s00r07           3685 	mov	dptr,#_flash_enabled
   0A71 E4                 3686 	clr	a
   0A72 F0                 3687 	movx	@dptr,a
                           3688 ;	../../include/ztex-flash2.h:632: flash_ec = FLASH_EC_NOTSUPPORTED;
   0A73 90s00r0E           3689 	mov	dptr,#_flash_ec
   0A76 74 07              3690 	mov	a,#0x07
   0A78 F0                 3691 	movx	@dptr,a
                           3692 ;	../../include/ztex-flash2.h:633: OESPI_PORT &= ~( bmBITSPI_BIT_CS | bmBITSPI_BIT_DI | bmBITSPI_BIT_CLK );
   0A79 53 B4 1F           3693 	anl	_OEC,#0x1F
   0A7C 22                 3694 	ret
                           3695 ;------------------------------------------------------------
                           3696 ;Allocation info for local variables in function 'spi_read_ep0'
                           3697 ;------------------------------------------------------------
                           3698 ;------------------------------------------------------------
                           3699 ;	../../include/ztex-flash2.h:659: void spi_read_ep0 () { 
                           3700 ;	-----------------------------------------
                           3701 ;	 function spi_read_ep0
                           3702 ;	-----------------------------------------
   0A7D                    3703 _spi_read_ep0:
                           3704 ;	../../include/ztex-flash2.h:660: flash_read(EP0BUF, ep0_payload_transfer);
   0A7D 90s00r02           3705 	mov	dptr,#_ep0_payload_transfer
   0A80 E0                 3706 	movx	a,@dptr
   0A81 F5*00              3707 	mov	_flash_read_PARM_2,a
   0A83 90 E7 40           3708 	mov	dptr,#_EP0BUF
   0A86 12s05rC4           3709 	lcall	_flash_read
                           3710 ;	../../include/ztex-flash2.h:661: if ( ep0_read_mode==2 && ep0_payload_remaining==0 ) {
   0A89 90s00r1E           3711 	mov	dptr,#_ep0_read_mode
   0A8C E0                 3712 	movx	a,@dptr
   0A8D FA                 3713 	mov	r2,a
   0A8E BA 02 0E           3714 	cjne	r2,#0x02,00104$
   0A91 90s00r00           3715 	mov	dptr,#_ep0_payload_remaining
   0A94 E0                 3716 	movx	a,@dptr
   0A95 FA                 3717 	mov	r2,a
   0A96 A3                 3718 	inc	dptr
   0A97 E0                 3719 	movx	a,@dptr
   0A98 FB                 3720 	mov	r3,a
   0A99 4A                 3721 	orl	a,r2
   0A9A 70 03              3722 	jnz	00104$
                           3723 ;	../../include/ztex-flash2.h:662: spi_deselect();
   0A9C 02s06r89           3724 	ljmp	_spi_deselect
   0A9F                    3725 00104$:
   0A9F 22                 3726 	ret
                           3727 ;------------------------------------------------------------
                           3728 ;Allocation info for local variables in function 'spi_send_ep0'
                           3729 ;------------------------------------------------------------
                           3730 ;------------------------------------------------------------
                           3731 ;	../../include/ztex-flash2.h:686: void spi_send_ep0 () { 
                           3732 ;	-----------------------------------------
                           3733 ;	 function spi_send_ep0
                           3734 ;	-----------------------------------------
   0AA0                    3735 _spi_send_ep0:
                           3736 ;	../../include/ztex-flash2.h:687: flash_write(EP0BUF, ep0_payload_transfer);
   0AA0 90s00r02           3737 	mov	dptr,#_ep0_payload_transfer
   0AA3 E0                 3738 	movx	a,@dptr
   0AA4 F5*0C              3739 	mov	_flash_write_PARM_2,a
   0AA6 90 E7 40           3740 	mov	dptr,#_EP0BUF
   0AA9 12s08r2A           3741 	lcall	_flash_write
                           3742 ;	../../include/ztex-flash2.h:688: if ( ep0_write_mode==2 && ep0_payload_remaining==0 ) {
   0AAC 90s00r1F           3743 	mov	dptr,#_ep0_write_mode
   0AAF E0                 3744 	movx	a,@dptr
   0AB0 FA                 3745 	mov	r2,a
   0AB1 BA 02 0E           3746 	cjne	r2,#0x02,00104$
   0AB4 90s00r00           3747 	mov	dptr,#_ep0_payload_remaining
   0AB7 E0                 3748 	movx	a,@dptr
   0AB8 FA                 3749 	mov	r2,a
   0AB9 A3                 3750 	inc	dptr
   0ABA E0                 3751 	movx	a,@dptr
   0ABB FB                 3752 	mov	r3,a
   0ABC 4A                 3753 	orl	a,r2
   0ABD 70 03              3754 	jnz	00104$
                           3755 ;	../../include/ztex-flash2.h:689: spi_deselect();
   0ABF 02s06r89           3756 	ljmp	_spi_deselect
   0AC2                    3757 00104$:
   0AC2 22                 3758 	ret
                           3759 ;------------------------------------------------------------
                           3760 ;Allocation info for local variables in function 'reset_fpga'
                           3761 ;------------------------------------------------------------
                           3762 ;------------------------------------------------------------
                           3763 ;	../../include/ztex-fpga6.h:39: static void reset_fpga () {
                           3764 ;	-----------------------------------------
                           3765 ;	 function reset_fpga
                           3766 ;	-----------------------------------------
   0AC3                    3767 _reset_fpga:
                           3768 ;	../../include/ztex-fpga6.h:40: OEE = bmBIT7;
   0AC3 75 B6 80           3769 	mov	_OEE,#0x80
                           3770 ;	../../include/ztex-fpga6.h:41: IOE = 0;
   0AC6 75 B1 00           3771 	mov	_IOE,#0x00
                           3772 ;	../../include/ztex-fpga6.h:42: wait(1);
   0AC9 90 00 01           3773 	mov	dptr,#0x0001
   0ACC 12s00r01           3774 	lcall	_wait
                           3775 ;	../../include/ztex-fpga6.h:43: OEE = 0;
   0ACF 75 B6 00           3776 	mov	_OEE,#0x00
                           3777 ;	../../include/ztex-fpga6.h:44: fpga_conf_initialized = 0;
   0AD2 90s00r27           3778 	mov	dptr,#_fpga_conf_initialized
   0AD5 E4                 3779 	clr	a
   0AD6 F0                 3780 	movx	@dptr,a
   0AD7 22                 3781 	ret
                           3782 ;------------------------------------------------------------
                           3783 ;Allocation info for local variables in function 'init_fpga'
                           3784 ;------------------------------------------------------------
                           3785 ;------------------------------------------------------------
                           3786 ;	../../include/ztex-fpga6.h:50: static void init_fpga () {
                           3787 ;	-----------------------------------------
                           3788 ;	 function init_fpga
                           3789 ;	-----------------------------------------
   0AD8                    3790 _init_fpga:
                           3791 ;	../../include/ztex-fpga6.h:51: if ( (IOE & bmBIT0) == 0 ) {
   0AD8 E5 B1              3792 	mov	a,_IOE
   0ADA 20 E0 0C           3793 	jb	acc.0,00102$
                           3794 ;	../../include/ztex-fpga6.h:53: OEE = bmBIT7;
   0ADD 75 B6 80           3795 	mov	_OEE,#0x80
                           3796 ;	../../include/ztex-fpga6.h:54: IOE = 0;
   0AE0 75 B1 00           3797 	mov	_IOE,#0x00
                           3798 ;	../../include/ztex-fpga6.h:55: wait(1);
   0AE3 90 00 01           3799 	mov	dptr,#0x0001
   0AE6 12s00r01           3800 	lcall	_wait
   0AE9                    3801 00102$:
                           3802 ;	../../include/ztex-fpga6.h:57: OEE = 0;
   0AE9 75 B6 00           3803 	mov	_OEE,#0x00
                           3804 ;	../../include/ztex-fpga6.h:58: fpga_conf_initialized = 0;
   0AEC 90s00r27           3805 	mov	dptr,#_fpga_conf_initialized
   0AEF E4                 3806 	clr	a
   0AF0 F0                 3807 	movx	@dptr,a
   0AF1 22                 3808 	ret
                           3809 ;------------------------------------------------------------
                           3810 ;Allocation info for local variables in function 'init_fpga_configuration'
                           3811 ;------------------------------------------------------------
                           3812 ;k                         Allocated to registers r2 r3 
                           3813 ;------------------------------------------------------------
                           3814 ;	../../include/ztex-fpga6.h:64: static void init_fpga_configuration () {
                           3815 ;	-----------------------------------------
                           3816 ;	 function init_fpga_configuration
                           3817 ;	-----------------------------------------
   0AF2                    3818 _init_fpga_configuration:
                           3819 ;	../../include/ztex-fpga6.h:69: IFCONFIG = bmBIT7;
   0AF2 90 E6 01           3820 	mov	dptr,#_IFCONFIG
   0AF5 74 80              3821 	mov	a,#0x80
   0AF7 F0                 3822 	movx	@dptr,a
                           3823 ;	../../include/ezregs.h:46: __endasm;
                           3824 	
   0AF8 00                 3825 	 nop
   0AF9 00                 3826 	 nop
   0AFA 00                 3827 	 nop
   0AFB 00                 3828 	 nop
                           3829 	    
                           3830 ;	../../include/ztex-fpga6.h:71: PORTCCFG = 0;
   0AFC 90 E6 71           3831 	mov	dptr,#_PORTCCFG
                           3832 ;	../../include/ztex-fpga6.h:72: PORTECFG = 0;
   0AFF E4                 3833 	clr	a
   0B00 F0                 3834 	movx	@dptr,a
   0B01 90 E6 72           3835 	mov	dptr,#_PORTECFG
   0B04 F0                 3836 	movx	@dptr,a
                           3837 ;	../../include/ztex-fpga6.h:74: OOEC = OEC;
   0B05 90s00r28           3838 	mov	dptr,#_OOEC
   0B08 E5 B4              3839 	mov	a,_OEC
   0B0A F0                 3840 	movx	@dptr,a
                           3841 ;	../../include/ztex-fpga6.h:75: fpga_conf_initialized = 123;
   0B0B 90s00r27           3842 	mov	dptr,#_fpga_conf_initialized
   0B0E 74 7B              3843 	mov	a,#0x7B
   0B10 F0                 3844 	movx	@dptr,a
                           3845 ;	../../include/ztex-fpga6.h:77: OEC &= ~( bmBIT7 | bmBIT4);		// in: MOSI, MISO
   0B11 53 B4 6F           3846 	anl	_OEC,#0x6F
                           3847 ;	../../include/ztex-fpga6.h:78: OEC |= bmBIT6;               	// out: CCLK
   0B14 43 B4 40           3848 	orl	_OEC,#0x40
                           3849 ;	../../include/ztex-fpga6.h:79: IOC6 = 1;
   0B17 D2 A6              3850 	setb	_IOC6
                           3851 ;	../../include/ztex-fpga6.h:83: OEE = bmBIT3 | bmBIT4 | bmBIT7 | bmBIT2 | bmBIT5;
   0B19 75 B6 BC           3852 	mov	_OEE,#0xBC
                           3853 ;	../../include/ztex-fpga6.h:84: IOE = bmBIT3;
   0B1C 75 B1 08           3854 	mov	_IOE,#0x08
                           3855 ;	../../include/ztex-fpga6.h:86: wait(2);
   0B1F 90 00 02           3856 	mov	dptr,#0x0002
   0B22 12s00r01           3857 	lcall	_wait
                           3858 ;	../../include/ztex-fpga6.h:87: IOE = bmBIT3 | bmBIT7;		// ready for configuration
   0B25 75 B1 88           3859 	mov	_IOE,#0x88
                           3860 ;	../../include/ztex-fpga6.h:88: IOC6 = 0;
   0B28 C2 A6              3861 	clr	_IOC6
                           3862 ;	../../include/ztex-fpga6.h:91: while (!(IOE & bmBIT1) && k<65535)
   0B2A 7A 00              3863 	mov	r2,#0x00
   0B2C 7B 00              3864 	mov	r3,#0x00
   0B2E                    3865 00102$:
   0B2E E5 B1              3866 	mov	a,_IOE
   0B30 20 E1 20           3867 	jb	acc.1,00104$
   0B33 8A 04              3868 	mov	ar4,r2
   0B35 8B 05              3869 	mov	ar5,r3
   0B37 7E 00              3870 	mov	r6,#0x00
   0B39 7F 00              3871 	mov	r7,#0x00
   0B3B C3                 3872 	clr	c
   0B3C EC                 3873 	mov	a,r4
   0B3D 94 FF              3874 	subb	a,#0xFF
   0B3F ED                 3875 	mov	a,r5
   0B40 94 FF              3876 	subb	a,#0xFF
   0B42 EE                 3877 	mov	a,r6
   0B43 94 00              3878 	subb	a,#0x00
   0B45 EF                 3879 	mov	a,r7
   0B46 64 80              3880 	xrl	a,#0x80
   0B48 94 80              3881 	subb	a,#0x80
   0B4A 50 07              3882 	jnc	00104$
                           3883 ;	../../include/ztex-fpga6.h:92: k++;
   0B4C 0A                 3884 	inc	r2
   0B4D BA 00 DE           3885 	cjne	r2,#0x00,00102$
   0B50 0B                 3886 	inc	r3
   0B51 80 DB              3887 	sjmp	00102$
   0B53                    3888 00104$:
                           3889 ;	../../include/ztex-fpga6.h:94: fpga_init_b = (IOE & bmBIT1) ? 200 : 100;
   0B53 E5 B1              3890 	mov	a,_IOE
   0B55 30 E1 04           3891 	jnb	acc.1,00107$
   0B58 7A C8              3892 	mov	r2,#0xC8
   0B5A 80 02              3893 	sjmp	00108$
   0B5C                    3894 00107$:
   0B5C 7A 64              3895 	mov	r2,#0x64
   0B5E                    3896 00108$:
   0B5E 90s00r25           3897 	mov	dptr,#_fpga_init_b
   0B61 EA                 3898 	mov	a,r2
   0B62 F0                 3899 	movx	@dptr,a
                           3900 ;	../../include/ztex-fpga6.h:95: fpga_bytes = 0;
   0B63 90s00r21           3901 	mov	dptr,#_fpga_bytes
   0B66 E4                 3902 	clr	a
   0B67 F0                 3903 	movx	@dptr,a
   0B68 A3                 3904 	inc	dptr
   0B69 F0                 3905 	movx	@dptr,a
   0B6A A3                 3906 	inc	dptr
   0B6B F0                 3907 	movx	@dptr,a
   0B6C A3                 3908 	inc	dptr
   0B6D F0                 3909 	movx	@dptr,a
                           3910 ;	../../include/ztex-fpga6.h:96: fpga_checksum = 0;
   0B6E 90s00r20           3911 	mov	dptr,#_fpga_checksum
   0B71 E4                 3912 	clr	a
   0B72 F0                 3913 	movx	@dptr,a
   0B73 22                 3914 	ret
                           3915 ;------------------------------------------------------------
                           3916 ;Allocation info for local variables in function 'post_fpga_config'
                           3917 ;------------------------------------------------------------
                           3918 ;------------------------------------------------------------
                           3919 ;	../../include/ztex-fpga6.h:102: static void post_fpga_config () {
                           3920 ;	-----------------------------------------
                           3921 ;	 function post_fpga_config
                           3922 ;	-----------------------------------------
   0B74                    3923 _post_fpga_config:
                           3924 ;	../../include/ztex-fpga6.h:104: }
   0B74 22                 3925 	ret
                           3926 ;------------------------------------------------------------
                           3927 ;Allocation info for local variables in function 'finish_fpga_configuration'
                           3928 ;------------------------------------------------------------
                           3929 ;w                         Allocated to registers r2 
                           3930 ;------------------------------------------------------------
                           3931 ;	../../include/ztex-fpga6.h:109: static void finish_fpga_configuration () {
                           3932 ;	-----------------------------------------
                           3933 ;	 function finish_fpga_configuration
                           3934 ;	-----------------------------------------
   0B75                    3935 _finish_fpga_configuration:
                           3936 ;	../../include/ztex-fpga6.h:111: fpga_init_b += (IOE & bmBIT1) ? 22 : 11;
   0B75 E5 B1              3937 	mov	a,_IOE
   0B77 30 E1 04           3938 	jnb	acc.1,00109$
   0B7A 7A 16              3939 	mov	r2,#0x16
   0B7C 80 02              3940 	sjmp	00110$
   0B7E                    3941 00109$:
   0B7E 7A 0B              3942 	mov	r2,#0x0B
   0B80                    3943 00110$:
   0B80 90s00r25           3944 	mov	dptr,#_fpga_init_b
   0B83 E0                 3945 	movx	a,@dptr
   0B84 FB                 3946 	mov	r3,a
   0B85 EA                 3947 	mov	a,r2
   0B86 2B                 3948 	add	a,r3
   0B87 F0                 3949 	movx	@dptr,a
                           3950 ;	../../include/ztex-fpga6.h:113: for ( w=0; w<64; w++ ) {
   0B88 7A 00              3951 	mov	r2,#0x00
   0B8A                    3952 00103$:
   0B8A BA 40 00           3953 	cjne	r2,#0x40,00117$
   0B8D                    3954 00117$:
   0B8D 50 07              3955 	jnc	00106$
                           3956 ;	../../include/ztex-fpga6.h:114: IOC6 = 1; IOC6 = 0; 
   0B8F D2 A6              3957 	setb	_IOC6
   0B91 C2 A6              3958 	clr	_IOC6
                           3959 ;	../../include/ztex-fpga6.h:113: for ( w=0; w<64; w++ ) {
   0B93 0A                 3960 	inc	r2
   0B94 80 F4              3961 	sjmp	00103$
   0B96                    3962 00106$:
                           3963 ;	../../include/ztex-fpga6.h:116: IOE |= bmBIT2;		// CSI = 1
   0B96 43 B1 04           3964 	orl	_IOE,#0x04
                           3965 ;	../../include/ztex-fpga6.h:117: IOC6 = 1; IOC6 = 0;
   0B99 D2 A6              3966 	setb	_IOC6
   0B9B C2 A6              3967 	clr	_IOC6
                           3968 ;	../../include/ztex-fpga6.h:118: IOC6 = 1; IOC6 = 0;
   0B9D D2 A6              3969 	setb	_IOC6
   0B9F C2 A6              3970 	clr	_IOC6
                           3971 ;	../../include/ztex-fpga6.h:119: IOC6 = 1; IOC6 = 0;
   0BA1 D2 A6              3972 	setb	_IOC6
   0BA3 C2 A6              3973 	clr	_IOC6
                           3974 ;	../../include/ztex-fpga6.h:120: IOC6 = 1; IOC6 = 0;
   0BA5 D2 A6              3975 	setb	_IOC6
   0BA7 C2 A6              3976 	clr	_IOC6
                           3977 ;	../../include/ztex-fpga6.h:122: OEE = 0;
   0BA9 75 B6 00           3978 	mov	_OEE,#0x00
                           3979 ;	../../include/ztex-fpga6.h:123: OEC = OOEC;
   0BAC 90s00r28           3980 	mov	dptr,#_OOEC
   0BAF E0                 3981 	movx	a,@dptr
   0BB0 F5 B4              3982 	mov	_OEC,a
                           3983 ;	../../include/ztex-fpga6.h:124: if ( IOE & bmBIT0 )  {
   0BB2 E5 B1              3984 	mov	a,_IOE
   0BB4 30 E0 03           3985 	jnb	acc.0,00107$
                           3986 ;	../../include/ztex-fpga6.h:125: post_fpga_config();
   0BB7 02s0Br74           3987 	ljmp	_post_fpga_config
   0BBA                    3988 00107$:
   0BBA 22                 3989 	ret
                           3990 ;------------------------------------------------------------
                           3991 ;Allocation info for local variables in function 'fpga_send_ep0'
                           3992 ;------------------------------------------------------------
                           3993 ;oOEB                      Allocated with name '_fpga_send_ep0_oOEB_1_1'
                           3994 ;------------------------------------------------------------
                           3995 ;	../../include/ztex-fpga6.h:160: void fpga_send_ep0() {			// send FPGA configuration data
                           3996 ;	-----------------------------------------
                           3997 ;	 function fpga_send_ep0
                           3998 ;	-----------------------------------------
   0BBB                    3999 _fpga_send_ep0:
                           4000 ;	../../include/ztex-fpga6.h:162: oOEB = OEB;
   0BBB 85 B3*0D           4001 	mov	_fpga_send_ep0_oOEB_1_1,_OEB
                           4002 ;	../../include/ztex-fpga6.h:163: OEB = 255;
   0BBE 75 B3 FF           4003 	mov	_OEB,#0xFF
                           4004 ;	../../include/ztex-fpga6.h:164: fpga_bytes += ep0_payload_transfer;
   0BC1 90s00r02           4005 	mov	dptr,#_ep0_payload_transfer
   0BC4 E0                 4006 	movx	a,@dptr
   0BC5 FB                 4007 	mov	r3,a
   0BC6 90s00r21           4008 	mov	dptr,#_fpga_bytes
   0BC9 E0                 4009 	movx	a,@dptr
   0BCA FC                 4010 	mov	r4,a
   0BCB A3                 4011 	inc	dptr
   0BCC E0                 4012 	movx	a,@dptr
   0BCD FD                 4013 	mov	r5,a
   0BCE A3                 4014 	inc	dptr
   0BCF E0                 4015 	movx	a,@dptr
   0BD0 FE                 4016 	mov	r6,a
   0BD1 A3                 4017 	inc	dptr
   0BD2 E0                 4018 	movx	a,@dptr
   0BD3 FF                 4019 	mov	r7,a
   0BD4 78 00              4020 	mov	r0,#0x00
   0BD6 79 00              4021 	mov	r1,#0x00
   0BD8 7A 00              4022 	mov	r2,#0x00
   0BDA 90s00r21           4023 	mov	dptr,#_fpga_bytes
   0BDD EB                 4024 	mov	a,r3
   0BDE 2C                 4025 	add	a,r4
   0BDF F0                 4026 	movx	@dptr,a
   0BE0 E8                 4027 	mov	a,r0
   0BE1 3D                 4028 	addc	a,r5
   0BE2 A3                 4029 	inc	dptr
   0BE3 F0                 4030 	movx	@dptr,a
   0BE4 E9                 4031 	mov	a,r1
   0BE5 3E                 4032 	addc	a,r6
   0BE6 A3                 4033 	inc	dptr
   0BE7 F0                 4034 	movx	@dptr,a
   0BE8 EA                 4035 	mov	a,r2
   0BE9 3F                 4036 	addc	a,r7
   0BEA A3                 4037 	inc	dptr
   0BEB F0                 4038 	movx	@dptr,a
                           4039 ;	../../include/ztex-fpga6.h:192: OEB = oOEB;
                           4040 	
   0BEC 90 E6 8B           4041 	 mov dptr,#_EP0BCL
   0BEF E0                 4042 	 movx a,@dptr
   0BF0 60 22              4043 	 jz 010000$
   0BF2 FA                 4044 	   mov r2,a
   0BF3 75 9B 40           4045 	 mov _AUTOPTRL1,#(_EP0BUF)
   0BF6 75 9A E7           4046 	 mov _AUTOPTRH1,#(_EP0BUF >> 8)
   0BF9 75 AF 07           4047 	 mov _AUTOPTRSETUP,#0x07
   0BFC 90s00r20           4048 	 mov dptr,#_fpga_checksum
   0BFF E0                 4049 	 movx a,@dptr
   0C00 F9                 4050 	 mov r1,a
   0C01 90 E6 7B           4051 	 mov dptr,#_XAUTODAT1
   0C04                    4052 	010001$:
   0C04 E0                 4053 	 movx a,@dptr
   0C05 F5 90              4054 	 mov _IOB,a
   0C07 D2 A6              4055 	 setb _IOC6
   0C09 29                 4056 	 add a,r1
   0C0A F9                 4057 	 mov r1,a
   0C0B C2 A6              4058 	 clr _IOC6
   0C0D DA F5              4059 	 djnz r2, 010001$
                           4060 ;	# 185 "../../include/ztex-fpga6.h"
                           4061 	
   0C0F 90s00r20           4062 	 mov dptr,#_fpga_checksum
   0C12 E9                 4063 	 mov a,r1
   0C13 F0                 4064 	 movx @dptr,a
                           4065 	
   0C14                    4066 	010000$:
                           4067 	     
                           4068 ;	../../include/ztex-fpga6.h:193: if ( EP0BCL<64 ) {
   0C14 85*0D B3           4069 	mov	_OEB,_fpga_send_ep0_oOEB_1_1
                           4070 ;	../../include/ztex-fpga6.h:194: finish_fpga_configuration();
   0C17 90 E6 8B           4071 	mov	dptr,#_EP0BCL
   0C1A E0                 4072 	movx	a,@dptr
   0C1B FA                 4073 	mov	r2,a
   0C1C BA 40 00           4074 	cjne	r2,#0x40,00106$
   0C1F                    4075 00106$:
   0C1F 50 03              4076 	jnc	00103$
                           4077 ;	../../include/ztex-fpga6.h:195: } 
   0C21 02s0Br75           4078 	ljmp	_finish_fpga_configuration
   0C24                    4079 00103$:
   0C24 22                 4080 	ret
                           4081 ;------------------------------------------------------------
                           4082 ;Allocation info for local variables in function 'init_cpld_fpga_configuration'
                           4083 ;------------------------------------------------------------
                           4084 ;------------------------------------------------------------
                           4085 ;	../../include/ztex-fpga6.h:249: void init_cpld_fpga_configuration() {
                           4086 ;	-----------------------------------------
                           4087 ;	 function init_cpld_fpga_configuration
                           4088 ;	-----------------------------------------
   0C25                    4089 _init_cpld_fpga_configuration:
                           4090 ;	../../include/ztex-fpga6.h:250: IFCONFIG = bmBIT7 | bmBIT6 | bmBIT5 | 2;	// Internal source, 48MHz, GPIF
   0C25 90 E6 01           4091 	mov	dptr,#_IFCONFIG
   0C28 74 E2              4092 	mov	a,#0xE2
   0C2A F0                 4093 	movx	@dptr,a
                           4094 ;	../../include/ztex-fpga6.h:252: GPIFREADYCFG = 0; //bmBIT7 | bmBIT6 | bmBIT5;
   0C2B 90 E6 F3           4095 	mov	dptr,#_GPIFREADYCFG
                           4096 ;	../../include/ztex-fpga6.h:253: GPIFCTLCFG = 0x0; 
                           4097 ;	../../include/ztex-fpga6.h:254: GPIFIDLECS = 0;
   0C2E E4                 4098 	clr	a
   0C2F F0                 4099 	movx	@dptr,a
   0C30 90 E6 C3           4100 	mov	dptr,#_GPIFCTLCFG
   0C33 F0                 4101 	movx	@dptr,a
   0C34 90 E6 C1           4102 	mov	dptr,#_GPIFIDLECS
   0C37 F0                 4103 	movx	@dptr,a
                           4104 ;	../../include/ztex-fpga6.h:255: GPIFIDLECTL = 4;
   0C38 90 E6 C2           4105 	mov	dptr,#_GPIFIDLECTL
   0C3B 74 04              4106 	mov	a,#0x04
   0C3D F0                 4107 	movx	@dptr,a
                           4108 ;	../../include/ztex-fpga6.h:256: GPIFWFSELECT = 0x4E;
   0C3E 90 E6 C0           4109 	mov	dptr,#_GPIFWFSELECT
   0C41 74 4E              4110 	mov	a,#0x4E
   0C43 F0                 4111 	movx	@dptr,a
                           4112 ;	../../include/ztex-fpga6.h:257: GPIFREADYSTAT = 0;
   0C44 90 E6 F4           4113 	mov	dptr,#_GPIFREADYSTAT
   0C47 E4                 4114 	clr	a
   0C48 F0                 4115 	movx	@dptr,a
                           4116 ;	../../include/ztex-utils.h:121: AUTOPTRL1=LO(&($0));
   0C49 75 9Br03           4117 	mov	_AUTOPTRL1,#_GPIF_WAVE_DATA_HSFPGA_24MHZ
                           4118 ;	../../include/ztex-utils.h:122: AUTOPTRH1=HI(&($0));
   0C4C 7Ar03              4119 	mov	r2,#_GPIF_WAVE_DATA_HSFPGA_24MHZ
   0C4E 7Bs00              4120 	mov	r3,#(_GPIF_WAVE_DATA_HSFPGA_24MHZ >> 8)
   0C50 8B 9A              4121 	mov	_AUTOPTRH1,r3
                           4122 ;	../../include/ztex-utils.h:123: AUTOPTRL2=LO(&($1));
   0C52 75 9E 60           4123 	mov	_AUTOPTRL2,#0x60
                           4124 ;	../../include/ztex-utils.h:124: AUTOPTRH2=HI(&($1));
   0C55 75 9D E4           4125 	mov	_AUTOPTRH2,#0xE4
                           4126 ;	../../include/ztex-utils.h:130: __endasm; 
                           4127 	
   0C58 C0 02              4128 	  push ar2
   0C5A 7A 20              4129 	    mov r2,#(32);
   0C5C 12s00r49           4130 	  lcall _MEM_COPY1_int
   0C5F D0 02              4131 	  pop ar2
                           4132 	        
                           4133 ;	../../include/ztex-fpga6.h:261: FLOWSTATE = 0;
   0C61 90 E6 C6           4134 	mov	dptr,#_FLOWSTATE
   0C64 E4                 4135 	clr	a
   0C65 F0                 4136 	movx	@dptr,a
                           4137 ;	../../include/ztex-fpga6.h:262: FLOWLOGIC = 0x10;
   0C66 90 E6 C7           4138 	mov	dptr,#_FLOWLOGIC
   0C69 74 10              4139 	mov	a,#0x10
   0C6B F0                 4140 	movx	@dptr,a
                           4141 ;	../../include/ztex-fpga6.h:263: FLOWEQ0CTL = 0;
   0C6C 90 E6 C8           4142 	mov	dptr,#_FLOWEQ0CTL
                           4143 ;	../../include/ztex-fpga6.h:264: FLOWEQ1CTL = 0;
                           4144 ;	../../include/ztex-fpga6.h:265: FLOWHOLDOFF = 0;
                           4145 ;	../../include/ztex-fpga6.h:266: FLOWSTB = 0;
   0C6F E4                 4146 	clr	a
   0C70 F0                 4147 	movx	@dptr,a
   0C71 90 E6 C9           4148 	mov	dptr,#_FLOWEQ1CTL
   0C74 F0                 4149 	movx	@dptr,a
   0C75 90 E6 CA           4150 	mov	dptr,#_FLOWHOLDOFF
   0C78 F0                 4151 	movx	@dptr,a
   0C79 90 E6 CB           4152 	mov	dptr,#_FLOWSTB
   0C7C F0                 4153 	movx	@dptr,a
                           4154 ;	../../include/ztex-fpga6.h:267: FLOWSTBEDGE = 0;
   0C7D 90 E6 CC           4155 	mov	dptr,#_FLOWSTBEDGE
                           4156 ;	../../include/ztex-fpga6.h:268: FLOWSTBHPERIOD = 0;
   0C80 E4                 4157 	clr	a
   0C81 F0                 4158 	movx	@dptr,a
   0C82 90 E6 CD           4159 	mov	dptr,#_FLOWSTBHPERIOD
   0C85 F0                 4160 	movx	@dptr,a
                           4161 ;	../../include/ztex-fpga6.h:270: REVCTL = 0x1;				// reset fifo
   0C86 90 E6 0B           4162 	mov	dptr,#_REVCTL
   0C89 74 01              4163 	mov	a,#0x01
   0C8B F0                 4164 	movx	@dptr,a
                           4165 ;	../../include/ezregs.h:46: __endasm;
                           4166 	
   0C8C 00                 4167 	 nop
   0C8D 00                 4168 	 nop
   0C8E 00                 4169 	 nop
   0C8F 00                 4170 	 nop
                           4171 	    
                           4172 ;	../../include/ztex-fpga6.h:272: FIFORESET = 0x80;
   0C90 90 E6 04           4173 	mov	dptr,#_FIFORESET
   0C93 74 80              4174 	mov	a,#0x80
   0C95 F0                 4175 	movx	@dptr,a
                           4176 ;	../../include/ezregs.h:46: __endasm;
                           4177 	
   0C96 00                 4178 	 nop
   0C97 00                 4179 	 nop
   0C98 00                 4180 	 nop
   0C99 00                 4181 	 nop
                           4182 	    
                           4183 ;	../../include/ztex-fpga6.h:274: FIFORESET = HS_FPGA_CONF_EP;
   0C9A 90 E6 04           4184 	mov	dptr,#_FIFORESET
   0C9D 74 02              4185 	mov	a,#0x02
   0C9F F0                 4186 	movx	@dptr,a
                           4187 ;	../../include/ezregs.h:46: __endasm;
                           4188 	
   0CA0 00                 4189 	 nop
   0CA1 00                 4190 	 nop
   0CA2 00                 4191 	 nop
   0CA3 00                 4192 	 nop
                           4193 	    
                           4194 ;	../../include/ztex-fpga6.h:276: FIFORESET = 0x0;
   0CA4 90 E6 04           4195 	mov	dptr,#_FIFORESET
   0CA7 E4                 4196 	clr	a
   0CA8 F0                 4197 	movx	@dptr,a
                           4198 ;	../../include/ezregs.h:46: __endasm;
                           4199 	
   0CA9 00                 4200 	 nop
   0CAA 00                 4201 	 nop
   0CAB 00                 4202 	 nop
   0CAC 00                 4203 	 nop
                           4204 	    
                           4205 ;	../../include/ztex-fpga6.h:279: EPHS_FPGA_CONF_EPFIFOCFG = 0;		// config fifo
   0CAD 90 E6 18           4206 	mov	dptr,#_EP2FIFOCFG
   0CB0 E4                 4207 	clr	a
   0CB1 F0                 4208 	movx	@dptr,a
                           4209 ;	../../include/ezregs.h:46: __endasm;
                           4210 	
   0CB2 00                 4211 	 nop
   0CB3 00                 4212 	 nop
   0CB4 00                 4213 	 nop
   0CB5 00                 4214 	 nop
                           4215 	    
                           4216 ;	../../include/ztex-fpga6.h:281: EPHS_FPGA_CONF_EPFIFOCFG = bmBIT4 | 0;
   0CB6 90 E6 18           4217 	mov	dptr,#_EP2FIFOCFG
   0CB9 74 10              4218 	mov	a,#0x10
   0CBB F0                 4219 	movx	@dptr,a
                           4220 ;	../../include/ezregs.h:46: __endasm;
                           4221 	
   0CBC 00                 4222 	 nop
   0CBD 00                 4223 	 nop
   0CBE 00                 4224 	 nop
   0CBF 00                 4225 	 nop
                           4226 	    
                           4227 ;	../../include/ztex-fpga6.h:283: EPHS_FPGA_CONF_EPGPIFFLGSEL = 1;
   0CC0 90 E6 D2           4228 	mov	dptr,#_EP2GPIFFLGSEL
   0CC3 74 01              4229 	mov	a,#0x01
   0CC5 F0                 4230 	movx	@dptr,a
                           4231 ;	../../include/ezregs.h:46: __endasm;
                           4232 	
   0CC6 00                 4233 	 nop
   0CC7 00                 4234 	 nop
   0CC8 00                 4235 	 nop
   0CC9 00                 4236 	 nop
                           4237 	    
                           4238 ;	../../include/ztex-fpga6.h:286: GPIFTCB3 = 1;				// abort after at least 14*65536 transactions
   0CCA 90 E6 CE           4239 	mov	dptr,#_GPIFTCB3
   0CCD 74 01              4240 	mov	a,#0x01
   0CCF F0                 4241 	movx	@dptr,a
                           4242 ;	../../include/ezregs.h:46: __endasm;
                           4243 	
   0CD0 00                 4244 	 nop
   0CD1 00                 4245 	 nop
   0CD2 00                 4246 	 nop
   0CD3 00                 4247 	 nop
                           4248 	    
                           4249 ;	../../include/ztex-fpga6.h:288: GPIFTCB2 = 0;
   0CD4 90 E6 CF           4250 	mov	dptr,#_GPIFTCB2
   0CD7 E4                 4251 	clr	a
   0CD8 F0                 4252 	movx	@dptr,a
                           4253 ;	../../include/ezregs.h:46: __endasm;
                           4254 	
   0CD9 00                 4255 	 nop
   0CDA 00                 4256 	 nop
   0CDB 00                 4257 	 nop
   0CDC 00                 4258 	 nop
                           4259 	    
                           4260 ;	../../include/ztex-fpga6.h:290: GPIFTCB1 = 0;
   0CDD 90 E6 D0           4261 	mov	dptr,#_GPIFTCB1
   0CE0 E4                 4262 	clr	a
   0CE1 F0                 4263 	movx	@dptr,a
                           4264 ;	../../include/ezregs.h:46: __endasm;
                           4265 	
   0CE2 00                 4266 	 nop
   0CE3 00                 4267 	 nop
   0CE4 00                 4268 	 nop
   0CE5 00                 4269 	 nop
                           4270 	    
                           4271 ;	../../include/ztex-fpga6.h:292: GPIFTCB0 = 0;
   0CE6 90 E6 D1           4272 	mov	dptr,#_GPIFTCB0
   0CE9 E4                 4273 	clr	a
   0CEA F0                 4274 	movx	@dptr,a
                           4275 ;	../../include/ezregs.h:46: __endasm;
                           4276 	
   0CEB 00                 4277 	 nop
   0CEC 00                 4278 	 nop
   0CED 00                 4279 	 nop
   0CEE 00                 4280 	 nop
                           4281 	    
                           4282 ;	../../include/ztex-fpga6.h:295: EPHS_FPGA_CONF_EPGPIFTRIG = 0xff;		// arm fifos
   0CEF 90 E6 D4           4283 	mov	dptr,#_EP2GPIFTRIG
   0CF2 74 FF              4284 	mov	a,#0xFF
   0CF4 F0                 4285 	movx	@dptr,a
                           4286 ;	../../include/ezregs.h:46: __endasm;
                           4287 	
   0CF5 00                 4288 	 nop
   0CF6 00                 4289 	 nop
   0CF7 00                 4290 	 nop
   0CF8 00                 4291 	 nop
                           4292 	    
                           4293 ;	../../include/ztex-fpga6.h:298: OEC &= ~bmBIT6;				// disable CCLK output
   0CF9 53 B4 BF           4294 	anl	_OEC,#0xBF
                           4295 ;	../../include/ztex-fpga6.h:299: IOE = bmBIT4 | bmBIT7;		        // HS config mode
   0CFC 75 B1 90           4296 	mov	_IOE,#0x90
   0CFF 22                 4297 	ret
                           4298 ;------------------------------------------------------------
                           4299 ;Allocation info for local variables in function 'fpga_configure_from_flash'
                           4300 ;------------------------------------------------------------
                           4301 ;force                     Allocated to registers r2 
                           4302 ;c                         Allocated to registers r2 
                           4303 ;i                         Allocated to registers r3 r4 
                           4304 ;------------------------------------------------------------
                           4305 ;	../../include/ztex-fpga6.h:351: BYTE fpga_configure_from_flash( BYTE force) {
                           4306 ;	-----------------------------------------
                           4307 ;	 function fpga_configure_from_flash
                           4308 ;	-----------------------------------------
   0D00                    4309 _fpga_configure_from_flash:
                           4310 ;	../../include/ztex-fpga6.h:355: if ( ( force == 0 ) && ( IOE & bmBIT0 ) ) {
   0D00 E5 82              4311 	mov	a,dpl
   0D02 FA                 4312 	mov	r2,a
   0D03 70 0F              4313 	jnz	00102$
   0D05 E5 B1              4314 	mov	a,_IOE
   0D07 30 E0 0A           4315 	jnb	acc.0,00102$
                           4316 ;	../../include/ztex-fpga6.h:356: fpga_flash_result = 1;
   0D0A 90s00r26           4317 	mov	dptr,#_fpga_flash_result
   0D0D 74 01              4318 	mov	a,#0x01
   0D0F F0                 4319 	movx	@dptr,a
                           4320 ;	../../include/ztex-fpga6.h:357: return 1;
   0D10 75 82 01           4321 	mov	dpl,#0x01
   0D13 22                 4322 	ret
   0D14                    4323 00102$:
                           4324 ;	../../include/ztex-fpga6.h:360: fpga_flash_result = 0;
   0D14 90s00r26           4325 	mov	dptr,#_fpga_flash_result
   0D17 E4                 4326 	clr	a
   0D18 F0                 4327 	movx	@dptr,a
                           4328 ;	../../include/ztex-fpga6.h:362: c = OESPI_PORT;
   0D19 AA B4              4329 	mov	r2,_OEC
                           4330 ;	../../include/ztex-fpga6.h:363: OESPI_PORT &= ~( bmBITSPI_BIT_CS | bmBITSPI_BIT_DI | bmBITSPI_BIT_CLK );	// disable SPI outputs
   0D1B 53 B4 1F           4331 	anl	_OEC,#0x1F
                           4332 ;	../../include/ztex-fpga6.h:371: OEE = bmBIT3 | bmBIT4 | bmBIT7;
   0D1E 75 B6 98           4333 	mov	_OEE,#0x98
                           4334 ;	../../include/ztex-fpga6.h:372: IOE = 0;
   0D21 75 B1 00           4335 	mov	_IOE,#0x00
                           4336 ;	../../include/ztex-fpga6.h:373: wait(1);
   0D24 90 00 01           4337 	mov	dptr,#0x0001
   0D27 C0 02              4338 	push	ar2
   0D29 12s00r01           4339 	lcall	_wait
                           4340 ;	../../include/ztex-fpga6.h:374: IOE = bmBIT7;
   0D2C 75 B1 80           4341 	mov	_IOE,#0x80
                           4342 ;	../../include/ztex-fpga6.h:377: wait(10);
   0D2F 90 00 0A           4343 	mov	dptr,#0x000A
   0D32 12s00r01           4344 	lcall	_wait
   0D35 D0 02              4345 	pop	ar2
                           4346 ;	../../include/ztex-fpga6.h:378: for (i=0; (IOE & bmBIT1) && (SPI_CS==0) && i<10000; i++ ) { 
   0D37 7B 00              4347 	mov	r3,#0x00
   0D39 7C 00              4348 	mov	r4,#0x00
   0D3B                    4349 00109$:
   0D3B E5 B1              4350 	mov	a,_IOE
   0D3D 30 E1 25           4351 	jnb	acc.1,00112$
   0D40 20 A5 22           4352 	jb	_IOC5,00112$
   0D43 C3                 4353 	clr	c
   0D44 EB                 4354 	mov	a,r3
   0D45 94 10              4355 	subb	a,#0x10
   0D47 EC                 4356 	mov	a,r4
   0D48 94 27              4357 	subb	a,#0x27
   0D4A 50 19              4358 	jnc	00112$
                           4359 ;	../../include/ztex-fpga6.h:379: wait(1);
   0D4C 90 00 01           4360 	mov	dptr,#0x0001
   0D4F C0 02              4361 	push	ar2
   0D51 C0 03              4362 	push	ar3
   0D53 C0 04              4363 	push	ar4
   0D55 12s00r01           4364 	lcall	_wait
   0D58 D0 04              4365 	pop	ar4
   0D5A D0 03              4366 	pop	ar3
   0D5C D0 02              4367 	pop	ar2
                           4368 ;	../../include/ztex-fpga6.h:378: for (i=0; (IOE & bmBIT1) && (SPI_CS==0) && i<10000; i++ ) { 
   0D5E 0B                 4369 	inc	r3
   0D5F BB 00 D9           4370 	cjne	r3,#0x00,00109$
   0D62 0C                 4371 	inc	r4
   0D63 80 D6              4372 	sjmp	00109$
   0D65                    4373 00112$:
                           4374 ;	../../include/ztex-fpga6.h:382: wait(1);
   0D65 90 00 01           4375 	mov	dptr,#0x0001
   0D68 C0 02              4376 	push	ar2
   0D6A 12s00r01           4377 	lcall	_wait
   0D6D D0 02              4378 	pop	ar2
                           4379 ;	../../include/ztex-fpga6.h:384: if ( IOE & bmBIT0 )  {
   0D6F E5 B1              4380 	mov	a,_IOE
   0D71 30 E0 09           4381 	jnb	acc.0,00105$
                           4382 ;	../../include/ztex-fpga6.h:385: post_fpga_config();
   0D74 C0 02              4383 	push	ar2
   0D76 12s0Br74           4384 	lcall	_post_fpga_config
   0D79 D0 02              4385 	pop	ar2
   0D7B 80 13              4386 	sjmp	00106$
   0D7D                    4387 00105$:
                           4388 ;	../../include/ztex-fpga6.h:388: IOE =  bmBIT3 | bmBIT4;	// leave master SPI config mode
   0D7D 75 B1 18           4389 	mov	_IOE,#0x18
                           4390 ;	../../include/ztex-fpga6.h:389: wait(1);
   0D80 90 00 01           4391 	mov	dptr,#0x0001
   0D83 C0 02              4392 	push	ar2
   0D85 12s00r01           4393 	lcall	_wait
   0D88 D0 02              4394 	pop	ar2
                           4395 ;	../../include/ztex-fpga6.h:390: fpga_flash_result = 4;
   0D8A 90s00r26           4396 	mov	dptr,#_fpga_flash_result
   0D8D 74 04              4397 	mov	a,#0x04
   0D8F F0                 4398 	movx	@dptr,a
   0D90                    4399 00106$:
                           4400 ;	../../include/ztex-fpga6.h:392: OEE = 0;
   0D90 75 B6 00           4401 	mov	_OEE,#0x00
                           4402 ;	../../include/ztex-fpga6.h:394: OESPI_PORT = c;
   0D93 8A B4              4403 	mov	_OEC,r2
                           4404 ;	../../include/ztex-fpga6.h:395: SPI_CS = 1;
   0D95 D2 A5              4405 	setb	_IOC5
                           4406 ;	../../include/ztex-fpga6.h:397: return fpga_flash_result;
   0D97 90s00r26           4407 	mov	dptr,#_fpga_flash_result
   0D9A E0                 4408 	movx	a,@dptr
   0D9B F5 82              4409 	mov	dpl,a
   0D9D 22                 4410 	ret
                           4411 ;------------------------------------------------------------
                           4412 ;Allocation info for local variables in function 'fpga_first_free_sector'
                           4413 ;------------------------------------------------------------
                           4414 ;i                         Allocated to registers r2 
                           4415 ;j                         Allocated to registers r3 
                           4416 ;buf                       Allocated with name '_fpga_first_free_sector_buf_1_1'
                           4417 ;------------------------------------------------------------
                           4418 ;	../../include/ztex-fpga-flash2.h:31: WORD fpga_first_free_sector() {
                           4419 ;	-----------------------------------------
                           4420 ;	 function fpga_first_free_sector
                           4421 ;	-----------------------------------------
   0D9E                    4422 _fpga_first_free_sector:
                           4423 ;	../../include/ztex-fpga-flash2.h:36: if ( config_data_valid ) {
   0D9E 90s00r06           4424 	mov	dptr,#_config_data_valid
   0DA1 E0                 4425 	movx	a,@dptr
   0DA2 FA                 4426 	mov	r2,a
   0DA3 60 56              4427 	jz	00104$
                           4428 ;	../../include/ztex-fpga-flash2.h:37: mac_eeprom_read ( (__xdata BYTE*) buf, 26, 4 );		// read actual and max bitstream size 
   0DA5 75*08 1A           4429 	mov	_mac_eeprom_read_PARM_2,#0x1A
   0DA8 75*09 04           4430 	mov	_mac_eeprom_read_PARM_3,#0x04
   0DAB 90s00r29           4431 	mov	dptr,#_fpga_first_free_sector_buf_1_1
   0DAE 12s03r70           4432 	lcall	_mac_eeprom_read
                           4433 ;	../../include/ztex-fpga-flash2.h:38: if ( buf[1] != 0 ) {
   0DB1 90s00r2B           4434 	mov	dptr,#(_fpga_first_free_sector_buf_1_1 + 0x0002)
   0DB4 E0                 4435 	movx	a,@dptr
   0DB5 FA                 4436 	mov	r2,a
   0DB6 A3                 4437 	inc	dptr
   0DB7 E0                 4438 	movx	a,@dptr
   0DB8 FB                 4439 	mov	r3,a
   0DB9 4A                 4440 	orl	a,r2
   0DBA 60 3F              4441 	jz	00104$
                           4442 ;	../../include/ztex-fpga-flash2.h:39: return ( ( ( buf[1] > buf[0] ? buf[1] : buf[0] ) - 1 ) >> ((flash_sector_size & 255) - 12) ) + 1;
   0DBC 90s00r29           4443 	mov	dptr,#_fpga_first_free_sector_buf_1_1
   0DBF E0                 4444 	movx	a,@dptr
   0DC0 FC                 4445 	mov	r4,a
   0DC1 A3                 4446 	inc	dptr
   0DC2 E0                 4447 	movx	a,@dptr
   0DC3 FD                 4448 	mov	r5,a
   0DC4 C3                 4449 	clr	c
   0DC5 EC                 4450 	mov	a,r4
   0DC6 9A                 4451 	subb	a,r2
   0DC7 ED                 4452 	mov	a,r5
   0DC8 9B                 4453 	subb	a,r3
   0DC9 40 04              4454 	jc	00115$
   0DCB 8C 02              4455 	mov	ar2,r4
   0DCD 8D 03              4456 	mov	ar3,r5
   0DCF                    4457 00115$:
   0DCF 1A                 4458 	dec	r2
   0DD0 BA FF 01           4459 	cjne	r2,#0xff,00127$
   0DD3 1B                 4460 	dec	r3
   0DD4                    4461 00127$:
   0DD4 90s00r08           4462 	mov	dptr,#_flash_sector_size
   0DD7 E0                 4463 	movx	a,@dptr
   0DD8 FC                 4464 	mov	r4,a
   0DD9 A3                 4465 	inc	dptr
   0DDA E0                 4466 	movx	a,@dptr
   0DDB 7D 00              4467 	mov	r5,#0x00
   0DDD EC                 4468 	mov	a,r4
   0DDE 24 F4              4469 	add	a,#0xf4
   0DE0 FC                 4470 	mov	r4,a
   0DE1 ED                 4471 	mov	a,r5
   0DE2 34 FF              4472 	addc	a,#0xff
   0DE4 FD                 4473 	mov	r5,a
   0DE5 8C F0              4474 	mov	b,r4
   0DE7 05 F0              4475 	inc	b
   0DE9 80 07              4476 	sjmp	00129$
   0DEB                    4477 00128$:
   0DEB C3                 4478 	clr	c
   0DEC EB                 4479 	mov	a,r3
   0DED 13                 4480 	rrc	a
   0DEE FB                 4481 	mov	r3,a
   0DEF EA                 4482 	mov	a,r2
   0DF0 13                 4483 	rrc	a
   0DF1 FA                 4484 	mov	r2,a
   0DF2                    4485 00129$:
   0DF2 D5 F0 F6           4486 	djnz	b,00128$
   0DF5 8A 82              4487 	mov	dpl,r2
   0DF7 8B 83              4488 	mov	dph,r3
   0DF9 A3                 4489 	inc	dptr
   0DFA 22                 4490 	ret
   0DFB                    4491 00104$:
                           4492 ;	../../include/ztex-fpga-flash2.h:42: #endif    
   0DFB 90 00 00           4493 	mov	dptr,#0x0000
   0DFE 12s06rFF           4494 	lcall	_flash_read_init
                           4495 ;	../../include/ztex-fpga-flash2.h:44: for ( i=0; i<8 && flash_read_byte()==fpga_flash_boot_id[i]; i++ );
   0E01 7A 00              4496 	mov	r2,#0x00
   0E03                    4497 00108$:
   0E03 BA 08 00           4498 	cjne	r2,#0x08,00130$
   0E06                    4499 00130$:
   0E06 50 16              4500 	jnc	00111$
   0E08 C0 02              4501 	push	ar2
   0E0A 12s05r85           4502 	lcall	_flash_read_byte
   0E0D AB 82              4503 	mov	r3,dpl
   0E0F D0 02              4504 	pop	ar2
   0E11 EA                 4505 	mov	a,r2
   0E12 90s00r00           4506 	mov	dptr,#_fpga_flash_boot_id
   0E15 93                 4507 	movc	a,@a+dptr
   0E16 FC                 4508 	mov	r4,a
   0E17 EB                 4509 	mov	a,r3
   0E18 B5 04 03           4510 	cjne	a,ar4,00111$
   0E1B 0A                 4511 	inc	r2
   0E1C 80 E5              4512 	sjmp	00108$
   0E1E                    4513 00111$:
                           4514 ;	../../include/ztex-fpga-flash2.h:45: if ( i != 8 ) {
   0E1E BA 08 02           4515 	cjne	r2,#0x08,00134$
   0E21 80 1A              4516 	sjmp	00106$
   0E23                    4517 00134$:
                           4518 ;	../../include/ztex-fpga-flash2.h:46: flash_read_finish(flash_sector_size - i);	// dummy-read the rest of the sector + finish read opration
   0E23 7B 00              4519 	mov	r3,#0x00
   0E25 90s00r08           4520 	mov	dptr,#_flash_sector_size
   0E28 E0                 4521 	movx	a,@dptr
   0E29 FC                 4522 	mov	r4,a
   0E2A A3                 4523 	inc	dptr
   0E2B E0                 4524 	movx	a,@dptr
   0E2C FD                 4525 	mov	r5,a
   0E2D EC                 4526 	mov	a,r4
   0E2E C3                 4527 	clr	c
   0E2F 9A                 4528 	subb	a,r2
   0E30 F5 82              4529 	mov	dpl,a
   0E32 ED                 4530 	mov	a,r5
   0E33 9B                 4531 	subb	a,r3
   0E34 F5 83              4532 	mov	dph,a
   0E36 12s07r7F           4533 	lcall	_flash_read_finish
                           4534 ;	../../include/ztex-fpga-flash2.h:47: return 0;
   0E39 90 00 00           4535 	mov	dptr,#0x0000
   0E3C 22                 4536 	ret
   0E3D                    4537 00106$:
                           4538 ;	../../include/ztex-fpga-flash2.h:49: i=flash_read_byte();
   0E3D 12s05r85           4539 	lcall	_flash_read_byte
   0E40 AA 82              4540 	mov	r2,dpl
                           4541 ;	../../include/ztex-fpga-flash2.h:50: j=flash_read_byte();
   0E42 C0 02              4542 	push	ar2
   0E44 12s05r85           4543 	lcall	_flash_read_byte
   0E47 AB 82              4544 	mov	r3,dpl
                           4545 ;	../../include/ztex-fpga-flash2.h:51: flash_read_finish(flash_sector_size - 10);		// dummy-read the rest of the sector + finish read opration
   0E49 90s00r08           4546 	mov	dptr,#_flash_sector_size
   0E4C E0                 4547 	movx	a,@dptr
   0E4D FC                 4548 	mov	r4,a
   0E4E A3                 4549 	inc	dptr
   0E4F E0                 4550 	movx	a,@dptr
   0E50 FD                 4551 	mov	r5,a
   0E51 EC                 4552 	mov	a,r4
   0E52 24 F6              4553 	add	a,#0xf6
   0E54 F5 82              4554 	mov	dpl,a
   0E56 ED                 4555 	mov	a,r5
   0E57 34 FF              4556 	addc	a,#0xff
   0E59 F5 83              4557 	mov	dph,a
   0E5B C0 03              4558 	push	ar3
   0E5D 12s07r7F           4559 	lcall	_flash_read_finish
   0E60 D0 03              4560 	pop	ar3
   0E62 D0 02              4561 	pop	ar2
                           4562 ;	../../include/ztex-fpga-flash2.h:53: return (i | (j<<8))+1;
   0E64 8B 04              4563 	mov	ar4,r3
   0E66 E4                 4564 	clr	a
   0E67 FB                 4565 	mov	r3,a
   0E68 FD                 4566 	mov	r5,a
   0E69 EA                 4567 	mov	a,r2
   0E6A 42 03              4568 	orl	ar3,a
   0E6C ED                 4569 	mov	a,r5
   0E6D 42 04              4570 	orl	ar4,a
   0E6F 8B 82              4571 	mov	dpl,r3
   0E71 8C 83              4572 	mov	dph,r4
   0E73 A3                 4573 	inc	dptr
   0E74 22                 4574 	ret
                           4575 ;------------------------------------------------------------
                           4576 ;Allocation info for local variables in function 'fpga_configure_from_flash_init'
                           4577 ;------------------------------------------------------------
                           4578 ;i                         Allocated to registers r2 
                           4579 ;buf                       Allocated with name '_fpga_configure_from_flash_init_buf_1_1'
                           4580 ;------------------------------------------------------------
                           4581 ;	../../include/ztex-fpga-flash2.h:60: BYTE fpga_configure_from_flash_init() {
                           4582 ;	-----------------------------------------
                           4583 ;	 function fpga_configure_from_flash_init
                           4584 ;	-----------------------------------------
   0E75                    4585 _fpga_configure_from_flash_init:
                           4586 ;	../../include/ztex-fpga-flash2.h:66: if ( config_data_valid ) {
   0E75 90s00r06           4587 	mov	dptr,#_config_data_valid
   0E78 E0                 4588 	movx	a,@dptr
   0E79 FA                 4589 	mov	r2,a
   0E7A 60 2F              4590 	jz	00106$
                           4591 ;	../../include/ztex-fpga-flash2.h:67: mac_eeprom_read ( (__xdata BYTE*) buf, 26, 4 );		// read actual and max bitstream size 
   0E7C 75*08 1A           4592 	mov	_mac_eeprom_read_PARM_2,#0x1A
   0E7F 75*09 04           4593 	mov	_mac_eeprom_read_PARM_3,#0x04
   0E82 90s00r2D           4594 	mov	dptr,#_fpga_configure_from_flash_init_buf_1_1
   0E85 12s03r70           4595 	lcall	_mac_eeprom_read
                           4596 ;	../../include/ztex-fpga-flash2.h:68: if ( buf[1] != 0 ) {
   0E88 90s00r2F           4597 	mov	dptr,#(_fpga_configure_from_flash_init_buf_1_1 + 0x0002)
   0E8B E0                 4598 	movx	a,@dptr
   0E8C FA                 4599 	mov	r2,a
   0E8D A3                 4600 	inc	dptr
   0E8E E0                 4601 	movx	a,@dptr
   0E8F FB                 4602 	mov	r3,a
   0E90 4A                 4603 	orl	a,r2
   0E91 60 18              4604 	jz	00106$
                           4605 ;	../../include/ztex-fpga-flash2.h:69: if ( buf[0] == 0 ) {
   0E93 90s00r2D           4606 	mov	dptr,#_fpga_configure_from_flash_init_buf_1_1
   0E96 E0                 4607 	movx	a,@dptr
   0E97 FA                 4608 	mov	r2,a
   0E98 A3                 4609 	inc	dptr
   0E99 E0                 4610 	movx	a,@dptr
   0E9A FB                 4611 	mov	r3,a
   0E9B 4A                 4612 	orl	a,r2
   0E9C 60 03              4613 	jz	00140$
   0E9E 02s0Fr38           4614 	ljmp	00113$
   0EA1                    4615 00140$:
                           4616 ;	../../include/ztex-fpga-flash2.h:70: return fpga_flash_result = 3;
   0EA1 90s00r26           4617 	mov	dptr,#_fpga_flash_result
   0EA4 74 03              4618 	mov	a,#0x03
   0EA6 F0                 4619 	movx	@dptr,a
   0EA7 75 82 03           4620 	mov	dpl,#0x03
   0EAA 22                 4621 	ret
                           4622 ;	../../include/ztex-fpga-flash2.h:73: goto flash_config;
   0EAB                    4623 00106$:
                           4624 ;	../../include/ztex-fpga-flash2.h:80: if ( flash_read_init( 0 ) )		// prepare reading sector 0
   0EAB 90 00 00           4625 	mov	dptr,#0x0000
   0EAE 12s06rFF           4626 	lcall	_flash_read_init
   0EB1 E5 82              4627 	mov	a,dpl
   0EB3 60 0A              4628 	jz	00132$
                           4629 ;	../../include/ztex-fpga-flash2.h:81: return fpga_flash_result = 2;
   0EB5 90s00r26           4630 	mov	dptr,#_fpga_flash_result
   0EB8 74 02              4631 	mov	a,#0x02
   0EBA F0                 4632 	movx	@dptr,a
   0EBB 75 82 02           4633 	mov	dpl,#0x02
   0EBE 22                 4634 	ret
                           4635 ;	../../include/ztex-fpga-flash2.h:82: for ( i=0; i<8 && flash_read_byte()==fpga_flash_boot_id[i]; i++ );
   0EBF                    4636 00132$:
   0EBF 7A 00              4637 	mov	r2,#0x00
   0EC1                    4638 00120$:
   0EC1 BA 08 00           4639 	cjne	r2,#0x08,00142$
   0EC4                    4640 00142$:
   0EC4 50 16              4641 	jnc	00123$
   0EC6 C0 02              4642 	push	ar2
   0EC8 12s05r85           4643 	lcall	_flash_read_byte
   0ECB AB 82              4644 	mov	r3,dpl
   0ECD D0 02              4645 	pop	ar2
   0ECF EA                 4646 	mov	a,r2
   0ED0 90s00r00           4647 	mov	dptr,#_fpga_flash_boot_id
   0ED3 93                 4648 	movc	a,@a+dptr
   0ED4 FC                 4649 	mov	r4,a
   0ED5 EB                 4650 	mov	a,r3
   0ED6 B5 04 03           4651 	cjne	a,ar4,00123$
   0ED9 0A                 4652 	inc	r2
   0EDA 80 E5              4653 	sjmp	00120$
   0EDC                    4654 00123$:
                           4655 ;	../../include/ztex-fpga-flash2.h:83: if ( i != 8 ) {
   0EDC BA 08 02           4656 	cjne	r2,#0x08,00146$
   0EDF 80 20              4657 	sjmp	00110$
   0EE1                    4658 00146$:
                           4659 ;	../../include/ztex-fpga-flash2.h:84: flash_read_finish(flash_sector_size - i);	// dummy-read the rest of the sector + finish read opration
   0EE1 7B 00              4660 	mov	r3,#0x00
   0EE3 90s00r08           4661 	mov	dptr,#_flash_sector_size
   0EE6 E0                 4662 	movx	a,@dptr
   0EE7 FC                 4663 	mov	r4,a
   0EE8 A3                 4664 	inc	dptr
   0EE9 E0                 4665 	movx	a,@dptr
   0EEA FD                 4666 	mov	r5,a
   0EEB EC                 4667 	mov	a,r4
   0EEC C3                 4668 	clr	c
   0EED 9A                 4669 	subb	a,r2
   0EEE F5 82              4670 	mov	dpl,a
   0EF0 ED                 4671 	mov	a,r5
   0EF1 9B                 4672 	subb	a,r3
   0EF2 F5 83              4673 	mov	dph,a
   0EF4 12s07r7F           4674 	lcall	_flash_read_finish
                           4675 ;	../../include/ztex-fpga-flash2.h:85: return fpga_flash_result = 3;
   0EF7 90s00r26           4676 	mov	dptr,#_fpga_flash_result
   0EFA 74 03              4677 	mov	a,#0x03
   0EFC F0                 4678 	movx	@dptr,a
   0EFD 75 82 03           4679 	mov	dpl,#0x03
   0F00 22                 4680 	ret
   0F01                    4681 00110$:
                           4682 ;	../../include/ztex-fpga-flash2.h:87: i = flash_read_byte();
   0F01 12s05r85           4683 	lcall	_flash_read_byte
   0F04 AA 82              4684 	mov	r2,dpl
                           4685 ;	../../include/ztex-fpga-flash2.h:88: i |= flash_read_byte();
   0F06 C0 02              4686 	push	ar2
   0F08 12s05r85           4687 	lcall	_flash_read_byte
   0F0B AB 82              4688 	mov	r3,dpl
   0F0D D0 02              4689 	pop	ar2
   0F0F EB                 4690 	mov	a,r3
   0F10 42 02              4691 	orl	ar2,a
                           4692 ;	../../include/ztex-fpga-flash2.h:89: flash_read_finish(flash_sector_size - 10);		// dummy-read the rest of the sector + finish read opration
   0F12 90s00r08           4693 	mov	dptr,#_flash_sector_size
   0F15 E0                 4694 	movx	a,@dptr
   0F16 FB                 4695 	mov	r3,a
   0F17 A3                 4696 	inc	dptr
   0F18 E0                 4697 	movx	a,@dptr
   0F19 FC                 4698 	mov	r4,a
   0F1A EB                 4699 	mov	a,r3
   0F1B 24 F6              4700 	add	a,#0xf6
   0F1D F5 82              4701 	mov	dpl,a
   0F1F EC                 4702 	mov	a,r4
   0F20 34 FF              4703 	addc	a,#0xff
   0F22 F5 83              4704 	mov	dph,a
   0F24 C0 02              4705 	push	ar2
   0F26 12s07r7F           4706 	lcall	_flash_read_finish
   0F29 D0 02              4707 	pop	ar2
                           4708 ;	../../include/ztex-fpga-flash2.h:90: if ( i==0 )
   0F2B EA                 4709 	mov	a,r2
   0F2C 70 0A              4710 	jnz	00113$
                           4711 ;	../../include/ztex-fpga-flash2.h:91: return fpga_flash_result = 3;
   0F2E 90s00r26           4712 	mov	dptr,#_fpga_flash_result
   0F31 74 03              4713 	mov	a,#0x03
   0F33 F0                 4714 	movx	@dptr,a
   0F34 75 82 03           4715 	mov	dpl,#0x03
                           4716 ;	../../include/ztex-fpga-flash2.h:93: flash_config:
   0F37 22                 4717 	ret
   0F38                    4718 00113$:
                           4719 ;	../../include/ztex-fpga-flash2.h:94: fpga_flash_result = fpga_configure_from_flash(0);
   0F38 75 82 00           4720 	mov	dpl,#0x00
   0F3B 12s0Dr00           4721 	lcall	_fpga_configure_from_flash
   0F3E AA 82              4722 	mov	r2,dpl
   0F40 90s00r26           4723 	mov	dptr,#_fpga_flash_result
   0F43 EA                 4724 	mov	a,r2
   0F44 F0                 4725 	movx	@dptr,a
                           4726 ;	../../include/ztex-fpga-flash2.h:95: if ( fpga_flash_result == 1 ) {
   0F45 BA 01 05           4727 	cjne	r2,#0x01,00117$
                           4728 ;	../../include/ztex-fpga-flash2.h:96: post_fpga_config();
   0F48 12s0Br74           4729 	lcall	_post_fpga_config
   0F4B 80 0F              4730 	sjmp	00118$
   0F4D                    4731 00117$:
                           4732 ;	../../include/ztex-fpga-flash2.h:98: else if ( fpga_flash_result == 4 ) {
   0F4D BA 04 0C           4733 	cjne	r2,#0x04,00118$
                           4734 ;	../../include/ztex-fpga-flash2.h:99: fpga_flash_result = fpga_configure_from_flash(0);	// up to two tries
   0F50 75 82 00           4735 	mov	dpl,#0x00
   0F53 12s0Dr00           4736 	lcall	_fpga_configure_from_flash
   0F56 E5 82              4737 	mov	a,dpl
   0F58 90s00r26           4738 	mov	dptr,#_fpga_flash_result
   0F5B F0                 4739 	movx	@dptr,a
   0F5C                    4740 00118$:
                           4741 ;	../../include/ztex-fpga-flash2.h:101: return fpga_flash_result;
   0F5C 90s00r26           4742 	mov	dptr,#_fpga_flash_result
   0F5F E0                 4743 	movx	a,@dptr
   0F60 F5 82              4744 	mov	dpl,a
   0F62 22                 4745 	ret
                           4746 ;------------------------------------------------------------
                           4747 ;Allocation info for local variables in function 'abscode_identity'
                           4748 ;------------------------------------------------------------
                           4749 ;------------------------------------------------------------
                           4750 ;	../../include/ztex-descriptors.h:129: void abscode_identity()// _naked
                           4751 ;	-----------------------------------------
                           4752 ;	 function abscode_identity
                           4753 ;	-----------------------------------------
   0F63                    4754 _abscode_identity:
                           4755 ;	../../include/ztex-descriptors.h:183: + 64
                           4756 	
                           4757 	    .area ABSCODE (ABS,CODE)
                           4758 	
   006C                    4759 	    .org 0x06c
   006C 28                 4760 	    .db 40
                           4761 	
   006D                    4762 	    .org _ZTEX_DESCRIPTOR_VERSION
   006D 01                 4763 	    .db 1
                           4764 	
   006E                    4765 	    .org _ZTEXID
   006E 5A 54 45 58        4766 	    .ascii "ZTEX"
                           4767 	
   0072                    4768 	    .org _PRODUCT_ID
   0072 0A                 4769 	    .db 10
   0073 11                 4770 	    .db 17
   0074 00                 4771 	    .db 0
   0075 00                 4772 	    .db 0
                           4773 	
   0076                    4774 	    .org _FW_VERSION
   0076 00                 4775 	    .db 0
                           4776 	
   0077                    4777 	    .org _INTERFACE_VERSION
   0077 01                 4778 	    .db 1
                           4779 	
   0078                    4780 	    .org _INTERFACE_CAPABILITIES
                           4781 ;	# 183 "../../include/ztex-descriptors.h"
   0078 67                 4782 	    .db 0 + 1 + 2 + 4 + 32 + 64
                           4783 ;	# 189 "../../include/ztex-descriptors.h"
   0079 00                 4784 	    .db 0
   007A 00                 4785 	    .db 0
   007B 00                 4786 	    .db 0
   007C 00                 4787 	    .db 0
   007D 00                 4788 	    .db 0
                           4789 	
   007E                    4790 	    .org _MODULE_RESERVED
   007E 00                 4791 	    .db 0
   007F 00                 4792 	    .db 0
   0080 00                 4793 	    .db 0
   0081 00                 4794 	    .db 0
   0082 00                 4795 	    .db 0
   0083 00                 4796 	    .db 0
   0084 00                 4797 	    .db 0
   0085 00                 4798 	    .db 0
   0086 00                 4799 	    .db 0
   0087 00                 4800 	    .db 0
   0088 00                 4801 	    .db 0
   0089 00                 4802 	    .db 0
                           4803 	
   008A                    4804 	    .org _SN_STRING
   008A 30 30 30 30 30 30  4805 	    .ascii "0000000000"
        30 30 30 30
                           4806 	
                           4807 	    .area CSEG (CODE)
                           4808 	    
   0F63 22                 4809 	ret
                           4810 ;------------------------------------------------------------
                           4811 ;Allocation info for local variables in function 'resetToggleData'
                           4812 ;------------------------------------------------------------
                           4813 ;------------------------------------------------------------
                           4814 ;	../../include/ztex-isr.h:34: static void resetToggleData () {
                           4815 ;	-----------------------------------------
                           4816 ;	 function resetToggleData
                           4817 ;	-----------------------------------------
   0F64                    4818 _resetToggleData:
                           4819 ;	../../include/ztex-isr.h:45: TOGCTL = 0;				// EP0 out
                           4820 ;	../../include/ztex-isr.h:46: TOGCTL = 0 | bmBIT5;
                           4821 ;	../../include/ztex-isr.h:47: TOGCTL = 0x10;			// EP0 in
                           4822 ;	../../include/ztex-isr.h:48: TOGCTL = 0x10 | bmBIT5;
   0F64 90 E6 83           4823 	mov	dptr,#_TOGCTL
   0F67 E4                 4824 	clr	a
   0F68 F0                 4825 	movx	@dptr,a
   0F69 74 20              4826 	mov	a,#0x20
   0F6B F0                 4827 	movx	@dptr,a
   0F6C 74 10              4828 	mov	a,#0x10
   0F6E F0                 4829 	movx	@dptr,a
   0F6F 74 30              4830 	mov	a,#0x30
   0F71 F0                 4831 	movx	@dptr,a
                           4832 ;	../../include/ztex-isr.h:49: #ifeq[EP1OUT_DIR][OUT]
                           4833 ;	../../include/ztex-isr.h:51: TOGCTL = 1 | bmBIT5;
                           4834 ;	../../include/ztex-isr.h:52: #endif    
                           4835 ;	../../include/ztex-isr.h:55: TOGCTL = 0x11 | bmBIT5;
   0F72 90 E6 83           4836 	mov	dptr,#_TOGCTL
   0F75 74 01              4837 	mov	a,#0x01
   0F77 F0                 4838 	movx	@dptr,a
   0F78 74 21              4839 	mov	a,#0x21
   0F7A F0                 4840 	movx	@dptr,a
   0F7B 74 11              4841 	mov	a,#0x11
   0F7D F0                 4842 	movx	@dptr,a
   0F7E 74 31              4843 	mov	a,#0x31
   0F80 F0                 4844 	movx	@dptr,a
                           4845 ;	../../include/ztex-isr.h:36: #ifeq[EP$0_DIR][OUT]
                           4846 ;	../../include/ztex-isr.h:38: TOGCTL = $0 | bmBIT5;
   0F81 90 E6 83           4847 	mov	dptr,#_TOGCTL
   0F84 74 02              4848 	mov	a,#0x02
   0F86 F0                 4849 	movx	@dptr,a
   0F87 74 22              4850 	mov	a,#0x22
   0F89 F0                 4851 	movx	@dptr,a
   0F8A 22                 4852 	ret
                           4853 ;------------------------------------------------------------
                           4854 ;Allocation info for local variables in function 'sendStringDescriptor'
                           4855 ;------------------------------------------------------------
                           4856 ;hiAddr                    Allocated with name '_sendStringDescriptor_PARM_2'
                           4857 ;size                      Allocated with name '_sendStringDescriptor_PARM_3'
                           4858 ;loAddr                    Allocated to registers r2 
                           4859 ;i                         Allocated to registers r2 
                           4860 ;------------------------------------------------------------
                           4861 ;	../../include/ztex-isr.h:68: static void sendStringDescriptor (BYTE loAddr, BYTE hiAddr, BYTE size)
                           4862 ;	-----------------------------------------
                           4863 ;	 function sendStringDescriptor
                           4864 ;	-----------------------------------------
   0F8B                    4865 _sendStringDescriptor:
   0F8B AA 82              4866 	mov	r2,dpl
                           4867 ;	../../include/ztex-isr.h:71: if ( size > 31) size = 31;
   0F8D E5*01              4868 	mov	a,_sendStringDescriptor_PARM_3
   0F8F 24 E0              4869 	add	a,#0xff - 0x1F
   0F91 50 03              4870 	jnc	00102$
   0F93 75*01 1F           4871 	mov	_sendStringDescriptor_PARM_3,#0x1F
   0F96                    4872 00102$:
                           4873 ;	../../include/ztex-isr.h:72: if (SETUPDAT[7] == 0 && SETUPDAT[6]<size ) size = SETUPDAT[6];
   0F96 90 E6 BF           4874 	mov	dptr,#(_SETUPDAT + 0x0007)
   0F99 E0                 4875 	movx	a,@dptr
   0F9A 70 10              4876 	jnz	00104$
   0F9C 90 E6 BE           4877 	mov	dptr,#(_SETUPDAT + 0x0006)
   0F9F E0                 4878 	movx	a,@dptr
   0FA0 FB                 4879 	mov	r3,a
   0FA1 C3                 4880 	clr	c
   0FA2 95*01              4881 	subb	a,_sendStringDescriptor_PARM_3
   0FA4 50 06              4882 	jnc	00104$
   0FA6 90 E6 BE           4883 	mov	dptr,#(_SETUPDAT + 0x0006)
   0FA9 E0                 4884 	movx	a,@dptr
   0FAA F5*01              4885 	mov	_sendStringDescriptor_PARM_3,a
   0FAC                    4886 00104$:
                           4887 ;	../../include/ztex-isr.h:73: AUTOPTRSETUP = 7;
   0FAC 75 AF 07           4888 	mov	_AUTOPTRSETUP,#0x07
                           4889 ;	../../include/ztex-isr.h:74: AUTOPTRL1 = loAddr;
   0FAF 8A 9B              4890 	mov	_AUTOPTRL1,r2
                           4891 ;	../../include/ztex-isr.h:75: AUTOPTRH1 = hiAddr;
   0FB1 85*00 9A           4892 	mov	_AUTOPTRH1,_sendStringDescriptor_PARM_2
                           4893 ;	../../include/ztex-isr.h:76: AUTOPTRL2 = (BYTE)(((unsigned short)(&EP0BUF))+1);
   0FB4 75 9E 41           4894 	mov	_AUTOPTRL2,#0x41
                           4895 ;	../../include/ztex-isr.h:77: AUTOPTRH2 = (BYTE)((((unsigned short)(&EP0BUF))+1) >> 8);
   0FB7 75 9D E7           4896 	mov	_AUTOPTRH2,#0xE7
                           4897 ;	../../include/ztex-isr.h:78: XAUTODAT2 = 3;
   0FBA 90 E6 7C           4898 	mov	dptr,#_XAUTODAT2
   0FBD 74 03              4899 	mov	a,#0x03
   0FBF F0                 4900 	movx	@dptr,a
                           4901 ;	../../include/ztex-isr.h:79: for (i=0; i<size; i++) {
   0FC0 7A 00              4902 	mov	r2,#0x00
   0FC2                    4903 00106$:
   0FC2 C3                 4904 	clr	c
   0FC3 EA                 4905 	mov	a,r2
   0FC4 95*01              4906 	subb	a,_sendStringDescriptor_PARM_3
   0FC6 50 11              4907 	jnc	00109$
                           4908 ;	../../include/ztex-isr.h:80: XAUTODAT2 = XAUTODAT1;
   0FC8 90 E6 7B           4909 	mov	dptr,#_XAUTODAT1
   0FCB E0                 4910 	movx	a,@dptr
   0FCC FB                 4911 	mov	r3,a
   0FCD 90 E6 7C           4912 	mov	dptr,#_XAUTODAT2
   0FD0 F0                 4913 	movx	@dptr,a
                           4914 ;	../../include/ztex-isr.h:81: XAUTODAT2 = 0;
   0FD1 90 E6 7C           4915 	mov	dptr,#_XAUTODAT2
   0FD4 E4                 4916 	clr	a
   0FD5 F0                 4917 	movx	@dptr,a
                           4918 ;	../../include/ztex-isr.h:79: for (i=0; i<size; i++) {
   0FD6 0A                 4919 	inc	r2
   0FD7 80 E9              4920 	sjmp	00106$
   0FD9                    4921 00109$:
                           4922 ;	../../include/ztex-isr.h:83: i = (size+1) << 1;
   0FD9 E5*01              4923 	mov	a,_sendStringDescriptor_PARM_3
   0FDB 04                 4924 	inc	a
                           4925 ;	../../include/ztex-isr.h:84: EP0BUF[0] = i;
   0FDC 25 E0              4926 	add	a,acc
   0FDE FA                 4927 	mov	r2,a
   0FDF 90 E7 40           4928 	mov	dptr,#_EP0BUF
   0FE2 F0                 4929 	movx	@dptr,a
                           4930 ;	../../include/ztex-isr.h:85: EP0BUF[1] = 3;
   0FE3 90 E7 41           4931 	mov	dptr,#(_EP0BUF + 0x0001)
   0FE6 74 03              4932 	mov	a,#0x03
   0FE8 F0                 4933 	movx	@dptr,a
                           4934 ;	../../include/ztex-isr.h:86: EP0BCH = 0;
   0FE9 90 E6 8A           4935 	mov	dptr,#_EP0BCH
   0FEC E4                 4936 	clr	a
   0FED F0                 4937 	movx	@dptr,a
                           4938 ;	../../include/ztex-isr.h:87: EP0BCL = i;
   0FEE 90 E6 8B           4939 	mov	dptr,#_EP0BCL
   0FF1 EA                 4940 	mov	a,r2
   0FF2 F0                 4941 	movx	@dptr,a
   0FF3 22                 4942 	ret
                           4943 ;------------------------------------------------------------
                           4944 ;Allocation info for local variables in function 'ep0_payload_update'
                           4945 ;------------------------------------------------------------
                           4946 ;------------------------------------------------------------
                           4947 ;	../../include/ztex-isr.h:93: static void ep0_payload_update() {
                           4948 ;	-----------------------------------------
                           4949 ;	 function ep0_payload_update
                           4950 ;	-----------------------------------------
   0FF4                    4951 _ep0_payload_update:
                           4952 ;	../../include/ztex-isr.h:94: ep0_payload_transfer = ( ep0_payload_remaining > 64 ) ? 64 : ep0_payload_remaining;
   0FF4 90s00r00           4953 	mov	dptr,#_ep0_payload_remaining
   0FF7 E0                 4954 	movx	a,@dptr
   0FF8 FA                 4955 	mov	r2,a
   0FF9 A3                 4956 	inc	dptr
   0FFA E0                 4957 	movx	a,@dptr
   0FFB FB                 4958 	mov	r3,a
   0FFC C3                 4959 	clr	c
   0FFD 74 40              4960 	mov	a,#0x40
   0FFF 9A                 4961 	subb	a,r2
   1000 E4                 4962 	clr	a
   1001 9B                 4963 	subb	a,r3
   1002 50 06              4964 	jnc	00103$
   1004 7C 40              4965 	mov	r4,#0x40
   1006 7D 00              4966 	mov	r5,#0x00
   1008 80 04              4967 	sjmp	00104$
   100A                    4968 00103$:
   100A 8A 04              4969 	mov	ar4,r2
   100C 8B 05              4970 	mov	ar5,r3
   100E                    4971 00104$:
   100E 90s00r02           4972 	mov	dptr,#_ep0_payload_transfer
   1011 EC                 4973 	mov	a,r4
   1012 F0                 4974 	movx	@dptr,a
                           4975 ;	../../include/ztex-isr.h:95: ep0_payload_remaining -= ep0_payload_transfer;
   1013 7D 00              4976 	mov	r5,#0x00
   1015 90s00r00           4977 	mov	dptr,#_ep0_payload_remaining
   1018 EA                 4978 	mov	a,r2
   1019 C3                 4979 	clr	c
   101A 9C                 4980 	subb	a,r4
   101B F0                 4981 	movx	@dptr,a
   101C EB                 4982 	mov	a,r3
   101D 9D                 4983 	subb	a,r5
   101E A3                 4984 	inc	dptr
   101F F0                 4985 	movx	@dptr,a
   1020 22                 4986 	ret
                           4987 ;------------------------------------------------------------
                           4988 ;Allocation info for local variables in function 'ep0_vendor_cmd_su'
                           4989 ;------------------------------------------------------------
                           4990 ;------------------------------------------------------------
                           4991 ;	../../include/ztex-isr.h:102: static void ep0_vendor_cmd_su() {
                           4992 ;	-----------------------------------------
                           4993 ;	 function ep0_vendor_cmd_su
                           4994 ;	-----------------------------------------
   1021                    4995 _ep0_vendor_cmd_su:
                           4996 ;	../../include/ztex-isr.h:103: switch ( ep0_prev_setup_request ) {
   1021 90s00r43           4997 	mov	dptr,#_ep0_prev_setup_request
   1024 E0                 4998 	movx	a,@dptr
   1025 FA                 4999 	mov	r2,a
   1026 BA 31 03           5000 	cjne	r2,#0x31,00127$
   1029 02s10rB5           5001 	ljmp	00107$
   102C                    5002 00127$:
   102C BA 32 03           5003 	cjne	r2,#0x32,00128$
   102F 02s10rB8           5004 	ljmp	00108$
   1032                    5005 00128$:
   1032 BA 34 03           5006 	cjne	r2,#0x34,00129$
   1035 02s10rC4           5007 	ljmp	00111$
   1038                    5008 00129$:
   1038 BA 35 03           5009 	cjne	r2,#0x35,00130$
   103B 02s10rD7           5010 	ljmp	00112$
   103E                    5011 00130$:
   103E BA 39 02           5012 	cjne	r2,#0x39,00131$
   1041 80 0D              5013 	sjmp	00101$
   1043                    5014 00131$:
   1043 BA 3C 02           5015 	cjne	r2,#0x3C,00132$
   1046 80 2C              5016 	sjmp	00102$
   1048                    5017 00132$:
   1048 BA 42 02           5018 	cjne	r2,#0x42,00133$
   104B 80 30              5019 	sjmp	00103$
   104D                    5020 00133$:
   104D 02s10rF6           5021 	ljmp	00113$
                           5022 ;	../../include/ztex-conf.h:123: case $0:			
   1050                    5023 00101$:
                           5024 ;	../../include/ztex-eeprom.h:236: eeprom_write_checksum = 0;
   1050 90s00r04           5025 	mov	dptr,#_eeprom_write_checksum
                           5026 ;	../../include/ztex-eeprom.h:237: eeprom_write_bytes = 0;
   1053 E4                 5027 	clr	a
   1054 F0                 5028 	movx	@dptr,a
   1055 90s00r02           5029 	mov	dptr,#_eeprom_write_bytes
   1058 F0                 5030 	movx	@dptr,a
   1059 A3                 5031 	inc	dptr
   105A F0                 5032 	movx	@dptr,a
                           5033 ;	../../include/ztex-eeprom.h:238: eeprom_addr =  ( SETUPDAT[3] << 8) | SETUPDAT[2];	// Address
   105B 90 E6 BB           5034 	mov	dptr,#(_SETUPDAT + 0x0003)
   105E E0                 5035 	movx	a,@dptr
   105F FB                 5036 	mov	r3,a
   1060 7A 00              5037 	mov	r2,#0x00
   1062 90 E6 BA           5038 	mov	dptr,#(_SETUPDAT + 0x0002)
   1065 E0                 5039 	movx	a,@dptr
   1066 FC                 5040 	mov	r4,a
   1067 7D 00              5041 	mov	r5,#0x00
   1069 90s00r00           5042 	mov	dptr,#_eeprom_addr
   106C EC                 5043 	mov	a,r4
   106D 4A                 5044 	orl	a,r2
   106E F0                 5045 	movx	@dptr,a
   106F ED                 5046 	mov	a,r5
   1070 4B                 5047 	orl	a,r3
   1071 A3                 5048 	inc	dptr
   1072 F0                 5049 	movx	@dptr,a
                           5050 ;	../../include/ztex-conf.h:125: break;
   1073 22                 5051 	ret
                           5052 ;	../../include/ztex-conf.h:123: case $0:			
   1074                    5053 00102$:
                           5054 ;	../../include/ztex-conf.h:125: break;
   1074 90 E6 BA           5055 	mov	dptr,#(_SETUPDAT + 0x0002)
   1077 E0                 5056 	movx	a,@dptr
   1078 90s00r05           5057 	mov	dptr,#_mac_eeprom_addr
   107B F0                 5058 	movx	@dptr,a
   107C 22                 5059 	ret
                           5060 ;	../../include/ztex-conf.h:123: case $0:			
   107D                    5061 00103$:
                           5062 ;	../../include/ztex-flash2.h:694: ep0_write_mode = SETUPDAT[5];
   107D 90 E6 BD           5063 	mov	dptr,#(_SETUPDAT + 0x0005)
   1080 E0                 5064 	movx	a,@dptr
   1081 FA                 5065 	mov	r2,a
   1082 90s00r1F           5066 	mov	dptr,#_ep0_write_mode
   1085 F0                 5067 	movx	@dptr,a
                           5068 ;	../../include/ztex-flash2.h:695: if ( (ep0_write_mode == 0) && flash_write_init((SETUPDAT[3] << 8) | SETUPDAT[2]) ) {
   1086 EA                 5069 	mov	a,r2
   1087 60 01              5070 	jz	00134$
   1089 22                 5071 	ret
   108A                    5072 00134$:
   108A 90 E6 BB           5073 	mov	dptr,#(_SETUPDAT + 0x0003)
   108D E0                 5074 	movx	a,@dptr
   108E FB                 5075 	mov	r3,a
   108F 7A 00              5076 	mov	r2,#0x00
   1091 90 E6 BA           5077 	mov	dptr,#(_SETUPDAT + 0x0002)
   1094 E0                 5078 	movx	a,@dptr
   1095 7D 00              5079 	mov	r5,#0x00
   1097 4A                 5080 	orl	a,r2
   1098 F5 82              5081 	mov	dpl,a
   109A ED                 5082 	mov	a,r5
   109B 4B                 5083 	orl	a,r3
   109C F5 83              5084 	mov	dph,a
   109E 12s08rF5           5085 	lcall	_flash_write_init
   10A1 E5 82              5086 	mov	a,dpl
   10A3 70 01              5087 	jnz	00135$
   10A5 22                 5088 	ret
   10A6                    5089 00135$:
                           5090 ;	../../include/ztex-conf.h:137: EP0CS |= 0x01;	// set stall
   10A6 90 E6 A0           5091 	mov	dptr,#_EP0CS
   10A9 E0                 5092 	movx	a,@dptr
   10AA 44 01              5093 	orl	a,#0x01
   10AC F0                 5094 	movx	@dptr,a
                           5095 ;	../../include/ztex-conf.h:138: ep0_payload_remaining = 0;
   10AD 90s00r00           5096 	mov	dptr,#_ep0_payload_remaining
   10B0 E4                 5097 	clr	a
   10B1 F0                 5098 	movx	@dptr,a
   10B2 A3                 5099 	inc	dptr
   10B3 F0                 5100 	movx	@dptr,a
                           5101 ;	../../include/ztex-conf.h:139: break;
   10B4 22                 5102 	ret
                           5103 ;	../../include/ztex-conf.h:123: case $0:			
   10B5                    5104 00107$:
                           5105 ;	../../include/ztex-conf.h:124: $1
                           5106 ;	../../include/ztex-conf.h:125: break;
   10B5 02s0ArC3           5107 	ljmp	_reset_fpga
                           5108 ;	../../include/ztex-conf.h:123: case $0:			
   10B8                    5109 00108$:
                           5110 ;	../../include/ztex-fpga6.h:199: if ( fpga_conf_initialized != 123 )
   10B8 90s00r27           5111 	mov	dptr,#_fpga_conf_initialized
   10BB E0                 5112 	movx	a,@dptr
   10BC FA                 5113 	mov	r2,a
   10BD BA 7B 01           5114 	cjne	r2,#0x7B,00136$
   10C0 22                 5115 	ret
   10C1                    5116 00136$:
                           5117 ;	../../include/ztex-fpga6.h:200: init_fpga_configuration();
                           5118 ;	../../include/ztex-conf.h:125: break;
   10C1 02s0ArF2           5119 	ljmp	_init_fpga_configuration
                           5120 ;	../../include/ztex-conf.h:123: case $0:			
   10C4                    5121 00111$:
                           5122 ;	../../include/ztex-fpga6.h:304: init_fpga_configuration();
   10C4 12s0ArF2           5123 	lcall	_init_fpga_configuration
                           5124 ;	../../include/ztex-fpga6.h:306: EPHS_FPGA_CONF_EPCS &= ~bmBIT0;		// clear stall bit
   10C7 90 E6 A3           5125 	mov	dptr,#_EP2CS
   10CA E0                 5126 	movx	a,@dptr
   10CB 54 FE              5127 	anl	a,#0xFE
   10CD F0                 5128 	movx	@dptr,a
                           5129 ;	../../include/ztex-fpga6.h:308: GPIFABORT = 0xFF;				// abort pendig 
   10CE 90 E6 F5           5130 	mov	dptr,#_GPIFABORT
   10D1 74 FF              5131 	mov	a,#0xFF
   10D3 F0                 5132 	movx	@dptr,a
                           5133 ;	../../include/ztex-fpga6.h:310: init_cpld_fpga_configuration();
                           5134 ;	../../include/ztex-conf.h:125: break;
   10D4 02s0Cr25           5135 	ljmp	_init_cpld_fpga_configuration
                           5136 ;	../../include/ztex-conf.h:123: case $0:			
   10D7                    5137 00112$:
                           5138 ;	../../include/ztex-fpga6.h:319: IOE = bmBIT3 | bmBIT7;		
   10D7 75 B1 88           5139 	mov	_IOE,#0x88
                           5140 ;	../../include/ztex-fpga6.h:320: OEC |= bmBIT6;               	// out: CCLK
   10DA 43 B4 40           5141 	orl	_OEC,#0x40
                           5142 ;	../../include/ztex-fpga6.h:322: GPIFABORT = 0xFF;
   10DD 90 E6 F5           5143 	mov	dptr,#_GPIFABORT
   10E0 74 FF              5144 	mov	a,#0xFF
   10E2 F0                 5145 	movx	@dptr,a
                           5146 ;	../../include/ezregs.h:46: __endasm;
                           5147 	
   10E3 00                 5148 	 nop
   10E4 00                 5149 	 nop
   10E5 00                 5150 	 nop
   10E6 00                 5151 	 nop
                           5152 	    
                           5153 ;	../../include/ztex-fpga6.h:324: IFCONFIG &= 0xf0;
   10E7 90 E6 01           5154 	mov	dptr,#_IFCONFIG
   10EA E0                 5155 	movx	a,@dptr
   10EB FA                 5156 	mov	r2,a
   10EC 54 F0              5157 	anl	a,#0xF0
   10EE F0                 5158 	movx	@dptr,a
                           5159 ;	../../include/ezregs.h:46: __endasm;
                           5160 	
   10EF 00                 5161 	 nop
   10F0 00                 5162 	 nop
   10F1 00                 5163 	 nop
   10F2 00                 5164 	 nop
                           5165 	    
                           5166 ;	../../include/ztex-fpga6.h:327: finish_fpga_configuration();
                           5167 ;	../../include/ztex-conf.h:125: break;
                           5168 ;	../../include/ztex-isr.h:105: default:
   10F3 02s0Br75           5169 	ljmp	_finish_fpga_configuration
   10F6                    5170 00113$:
                           5171 ;	../../include/ztex-isr.h:106: EP0CS |= 0x01;			// set stall, unknown request
   10F6 90 E6 A0           5172 	mov	dptr,#_EP0CS
   10F9 E0                 5173 	movx	a,@dptr
   10FA 44 01              5174 	orl	a,#0x01
   10FC F0                 5175 	movx	@dptr,a
                           5176 ;	../../include/ztex-isr.h:107: }
   10FD 22                 5177 	ret
                           5178 ;------------------------------------------------------------
                           5179 ;Allocation info for local variables in function 'SUDAV_ISR'
                           5180 ;------------------------------------------------------------
                           5181 ;a                         Allocated to registers r2 
                           5182 ;------------------------------------------------------------
                           5183 ;	../../include/ztex-isr.h:113: static void SUDAV_ISR () __interrupt
                           5184 ;	-----------------------------------------
                           5185 ;	 function SUDAV_ISR
                           5186 ;	-----------------------------------------
   10FE                    5187 _SUDAV_ISR:
   10FE C0*00              5188 	push	bits
   1100 C0 E0              5189 	push	acc
   1102 C0 F0              5190 	push	b
   1104 C0 82              5191 	push	dpl
   1106 C0 83              5192 	push	dph
   1108 C0 02              5193 	push	(0+2)
   110A C0 03              5194 	push	(0+3)
   110C C0 04              5195 	push	(0+4)
   110E C0 05              5196 	push	(0+5)
   1110 C0 06              5197 	push	(0+6)
   1112 C0 07              5198 	push	(0+7)
   1114 C0 00              5199 	push	(0+0)
   1116 C0 01              5200 	push	(0+1)
   1118 C0 D0              5201 	push	psw
   111A 75 D0 00           5202 	mov	psw,#0x00
                           5203 ;	../../include/ztex-isr.h:116: ep0_prev_setup_request = bRequest;
   111D 90 E6 B9           5204 	mov	dptr,#_bRequest
   1120 E0                 5205 	movx	a,@dptr
   1121 FA                 5206 	mov	r2,a
   1122 90s00r43           5207 	mov	dptr,#_ep0_prev_setup_request
   1125 F0                 5208 	movx	@dptr,a
                           5209 ;	../../include/ztex-isr.h:117: SUDPTRCTL = 1;
   1126 90 E6 B5           5210 	mov	dptr,#_SUDPTRCTL
   1129 74 01              5211 	mov	a,#0x01
   112B F0                 5212 	movx	@dptr,a
                           5213 ;	../../include/ztex-isr.h:120: switch ( bRequest ) {
   112C 90 E6 B9           5214 	mov	dptr,#_bRequest
   112F E0                 5215 	movx	a,@dptr
   1130 FA                 5216 	mov  r2,a
   1131 24 F3              5217 	add	a,#0xff - 0x0C
   1133 50 03              5218 	jnc	00240$
   1135 02s14rB4           5219 	ljmp	00160$
   1138                    5220 00240$:
   1138 EA                 5221 	mov	a,r2
   1139 2A                 5222 	add	a,r2
   113A 2A                 5223 	add	a,r2
   113B 90s11r3F           5224 	mov	dptr,#00241$
   113E 73                 5225 	jmp	@a+dptr
   113F                    5226 00241$:
   113F 02s11r66           5227 	ljmp	00101$
   1142 02s12r1A           5228 	ljmp	00112$
   1145 02s14rB4           5229 	ljmp	00160$
   1148 02s12r97           5230 	ljmp	00122$
   114B 02s14rB4           5231 	ljmp	00160$
   114E 02s14rB4           5232 	ljmp	00160$
   1151 02s13r2F           5233 	ljmp	00132$
   1154 02s14r4A           5234 	ljmp	00152$
   1157 02s14r4C           5235 	ljmp	00153$
   115A 02s14r5D           5236 	ljmp	00154$
   115D 02s14r62           5237 	ljmp	00155$
   1160 02s14r73           5238 	ljmp	00156$
   1163 02s14r78           5239 	ljmp	00157$
                           5240 ;	../../include/ztex-isr.h:121: case 0x00:	// get status 
   1166                    5241 00101$:
                           5242 ;	../../include/ztex-isr.h:122: switch(SETUPDAT[0]) {
   1166 90 E6 B8           5243 	mov	dptr,#_SETUPDAT
   1169 E0                 5244 	movx	a,@dptr
   116A FA                 5245 	mov	r2,a
   116B BA 80 02           5246 	cjne	r2,#0x80,00242$
   116E 80 0D              5247 	sjmp	00102$
   1170                    5248 00242$:
   1170 BA 81 02           5249 	cjne	r2,#0x81,00243$
   1173 80 1E              5250 	sjmp	00103$
   1175                    5251 00243$:
   1175 BA 82 02           5252 	cjne	r2,#0x82,00244$
   1178 80 2F              5253 	sjmp	00104$
   117A                    5254 00244$:
   117A 02s14rB4           5255 	ljmp	00160$
                           5256 ;	../../include/ztex-isr.h:123: case 0x80:  		// self powered and remote 
   117D                    5257 00102$:
                           5258 ;	../../include/ztex-isr.h:124: EP0BUF[0] = 0;	// not self-powered, no remote wakeup
   117D 90 E7 40           5259 	mov	dptr,#_EP0BUF
                           5260 ;	../../include/ztex-isr.h:125: EP0BUF[1] = 0;
                           5261 ;	../../include/ztex-isr.h:126: EP0BCH = 0;
   1180 E4                 5262 	clr	a
   1181 F0                 5263 	movx	@dptr,a
   1182 90 E7 41           5264 	mov	dptr,#(_EP0BUF + 0x0001)
   1185 F0                 5265 	movx	@dptr,a
   1186 90 E6 8A           5266 	mov	dptr,#_EP0BCH
   1189 F0                 5267 	movx	@dptr,a
                           5268 ;	../../include/ztex-isr.h:127: EP0BCL = 2;
   118A 90 E6 8B           5269 	mov	dptr,#_EP0BCL
   118D 74 02              5270 	mov	a,#0x02
   118F F0                 5271 	movx	@dptr,a
                           5272 ;	../../include/ztex-isr.h:128: break;
   1190 02s14rB4           5273 	ljmp	00160$
                           5274 ;	../../include/ztex-isr.h:129: case 0x81:		// interface (reserved)
   1193                    5275 00103$:
                           5276 ;	../../include/ztex-isr.h:130: EP0BUF[0] = 0; 	// always return zeros
   1193 90 E7 40           5277 	mov	dptr,#_EP0BUF
                           5278 ;	../../include/ztex-isr.h:131: EP0BUF[1] = 0;
                           5279 ;	../../include/ztex-isr.h:132: EP0BCH = 0;
   1196 E4                 5280 	clr	a
   1197 F0                 5281 	movx	@dptr,a
   1198 90 E7 41           5282 	mov	dptr,#(_EP0BUF + 0x0001)
   119B F0                 5283 	movx	@dptr,a
   119C 90 E6 8A           5284 	mov	dptr,#_EP0BCH
   119F F0                 5285 	movx	@dptr,a
                           5286 ;	../../include/ztex-isr.h:133: EP0BCL = 2;
   11A0 90 E6 8B           5287 	mov	dptr,#_EP0BCL
   11A3 74 02              5288 	mov	a,#0x02
   11A5 F0                 5289 	movx	@dptr,a
                           5290 ;	../../include/ztex-isr.h:134: break;
   11A6 02s14rB4           5291 	ljmp	00160$
                           5292 ;	../../include/ztex-isr.h:135: case 0x82:	
   11A9                    5293 00104$:
                           5294 ;	../../include/ztex-isr.h:136: switch ( SETUPDAT[4] ) {
   11A9 90 E6 BC           5295 	mov	dptr,#(_SETUPDAT + 0x0004)
   11AC E0                 5296 	movx	a,@dptr
   11AD FA                 5297 	mov	r2,a
   11AE 60 0F              5298 	jz	00106$
   11B0 BA 01 02           5299 	cjne	r2,#0x01,00246$
   11B3 80 19              5300 	sjmp	00107$
   11B5                    5301 00246$:
   11B5 BA 80 02           5302 	cjne	r2,#0x80,00247$
   11B8 80 05              5303 	sjmp	00106$
   11BA                    5304 00247$:
                           5305 ;	../../include/ztex-isr.h:138: case 0x80 :
   11BA BA 81 2F           5306 	cjne	r2,#0x81,00109$
   11BD 80 1E              5307 	sjmp	00108$
   11BF                    5308 00106$:
                           5309 ;	../../include/ztex-isr.h:139: EP0BUF[0] = EP0CS & bmBIT0;
   11BF 90 E6 A0           5310 	mov	dptr,#_EP0CS
   11C2 E0                 5311 	movx	a,@dptr
   11C3 FA                 5312 	mov	r2,a
   11C4 53 02 01           5313 	anl	ar2,#0x01
   11C7 90 E7 40           5314 	mov	dptr,#_EP0BUF
   11CA EA                 5315 	mov	a,r2
   11CB F0                 5316 	movx	@dptr,a
                           5317 ;	../../include/ztex-isr.h:140: break;
                           5318 ;	../../include/ztex-isr.h:141: case 0x01 :
   11CC 80 3A              5319 	sjmp	00110$
   11CE                    5320 00107$:
                           5321 ;	../../include/ztex-isr.h:142: EP0BUF[0] = EP1OUTCS & bmBIT0;
   11CE 90 E6 A1           5322 	mov	dptr,#_EP1OUTCS
   11D1 E0                 5323 	movx	a,@dptr
   11D2 FA                 5324 	mov	r2,a
   11D3 53 02 01           5325 	anl	ar2,#0x01
   11D6 90 E7 40           5326 	mov	dptr,#_EP0BUF
   11D9 EA                 5327 	mov	a,r2
   11DA F0                 5328 	movx	@dptr,a
                           5329 ;	../../include/ztex-isr.h:143: break;
                           5330 ;	../../include/ztex-isr.h:144: case 0x81 :
   11DB 80 2B              5331 	sjmp	00110$
   11DD                    5332 00108$:
                           5333 ;	../../include/ztex-isr.h:145: EP0BUF[0] = EP1INCS & bmBIT0;
   11DD 90 E6 A2           5334 	mov	dptr,#_EP1INCS
   11E0 E0                 5335 	movx	a,@dptr
   11E1 FA                 5336 	mov	r2,a
   11E2 53 02 01           5337 	anl	ar2,#0x01
   11E5 90 E7 40           5338 	mov	dptr,#_EP0BUF
   11E8 EA                 5339 	mov	a,r2
   11E9 F0                 5340 	movx	@dptr,a
                           5341 ;	../../include/ztex-isr.h:146: break;
                           5342 ;	../../include/ztex-isr.h:147: default:
   11EA 80 1C              5343 	sjmp	00110$
   11EC                    5344 00109$:
                           5345 ;	../../include/ztex-isr.h:148: EP0BUF[0] = EPXCS[ ((SETUPDAT[4] >> 1)-1) & 3 ] & bmBIT0;
   11EC 90 E6 BC           5346 	mov	dptr,#(_SETUPDAT + 0x0004)
   11EF E0                 5347 	movx	a,@dptr
   11F0 C3                 5348 	clr	c
   11F1 13                 5349 	rrc	a
   11F2 14                 5350 	dec	a
   11F3 54 03              5351 	anl	a,#0x03
   11F5 24 A3              5352 	add	a,#_EPXCS
   11F7 F5 82              5353 	mov	dpl,a
   11F9 E4                 5354 	clr	a
   11FA 34 E6              5355 	addc	a,#(_EPXCS >> 8)
   11FC F5 83              5356 	mov	dph,a
   11FE E0                 5357 	movx	a,@dptr
   11FF FA                 5358 	mov	r2,a
   1200 53 02 01           5359 	anl	ar2,#0x01
   1203 90 E7 40           5360 	mov	dptr,#_EP0BUF
   1206 EA                 5361 	mov	a,r2
   1207 F0                 5362 	movx	@dptr,a
                           5363 ;	../../include/ztex-isr.h:150: }
   1208                    5364 00110$:
                           5365 ;	../../include/ztex-isr.h:151: EP0BUF[1] = 0;
   1208 90 E7 41           5366 	mov	dptr,#(_EP0BUF + 0x0001)
                           5367 ;	../../include/ztex-isr.h:152: EP0BCH = 0;
   120B E4                 5368 	clr	a
   120C F0                 5369 	movx	@dptr,a
   120D 90 E6 8A           5370 	mov	dptr,#_EP0BCH
   1210 F0                 5371 	movx	@dptr,a
                           5372 ;	../../include/ztex-isr.h:153: EP0BCL = 2;
   1211 90 E6 8B           5373 	mov	dptr,#_EP0BCL
   1214 74 02              5374 	mov	a,#0x02
   1216 F0                 5375 	movx	@dptr,a
                           5376 ;	../../include/ztex-isr.h:156: break;
   1217 02s14rB4           5377 	ljmp	00160$
                           5378 ;	../../include/ztex-isr.h:157: case 0x01:	// disable feature, e.g. remote wake, stall bit
   121A                    5379 00112$:
                           5380 ;	../../include/ztex-isr.h:158: if ( SETUPDAT[0] == 2 && SETUPDAT[2] == 0 ) {
   121A 90 E6 B8           5381 	mov	dptr,#_SETUPDAT
   121D E0                 5382 	movx	a,@dptr
   121E FA                 5383 	mov	r2,a
   121F BA 02 02           5384 	cjne	r2,#0x02,00249$
   1222 80 03              5385 	sjmp	00250$
   1224                    5386 00249$:
   1224 02s14rB4           5387 	ljmp	00160$
   1227                    5388 00250$:
   1227 90 E6 BA           5389 	mov	dptr,#(_SETUPDAT + 0x0002)
   122A E0                 5390 	movx	a,@dptr
   122B 60 03              5391 	jz	00251$
   122D 02s14rB4           5392 	ljmp	00160$
   1230                    5393 00251$:
                           5394 ;	../../include/ztex-isr.h:159: switch ( SETUPDAT[4] ) {
   1230 90 E6 BC           5395 	mov	dptr,#(_SETUPDAT + 0x0004)
   1233 E0                 5396 	movx	a,@dptr
   1234 FA                 5397 	mov	r2,a
   1235 60 0F              5398 	jz	00114$
   1237 BA 01 02           5399 	cjne	r2,#0x01,00253$
   123A 80 15              5400 	sjmp	00115$
   123C                    5401 00253$:
   123C BA 80 02           5402 	cjne	r2,#0x80,00254$
   123F 80 05              5403 	sjmp	00114$
   1241                    5404 00254$:
                           5405 ;	../../include/ztex-isr.h:161: case 0x80 :
   1241 BA 81 23           5406 	cjne	r2,#0x81,00117$
   1244 80 16              5407 	sjmp	00116$
   1246                    5408 00114$:
                           5409 ;	../../include/ztex-isr.h:162: EP0CS &= ~bmBIT0;
   1246 90 E6 A0           5410 	mov	dptr,#_EP0CS
   1249 E0                 5411 	movx	a,@dptr
   124A FA                 5412 	mov	r2,a
   124B 54 FE              5413 	anl	a,#0xFE
   124D F0                 5414 	movx	@dptr,a
                           5415 ;	../../include/ztex-isr.h:163: break;
   124E 02s14rB4           5416 	ljmp	00160$
                           5417 ;	../../include/ztex-isr.h:164: case 0x01 :
   1251                    5418 00115$:
                           5419 ;	../../include/ztex-isr.h:165: EP1OUTCS &= ~bmBIT0;
   1251 90 E6 A1           5420 	mov	dptr,#_EP1OUTCS
   1254 E0                 5421 	movx	a,@dptr
   1255 FA                 5422 	mov	r2,a
   1256 54 FE              5423 	anl	a,#0xFE
   1258 F0                 5424 	movx	@dptr,a
                           5425 ;	../../include/ztex-isr.h:166: break;
   1259 02s14rB4           5426 	ljmp	00160$
                           5427 ;	../../include/ztex-isr.h:167: case 0x81 :
   125C                    5428 00116$:
                           5429 ;	../../include/ztex-isr.h:168: EP1INCS &= ~bmBIT0;
   125C 90 E6 A2           5430 	mov	dptr,#_EP1INCS
   125F E0                 5431 	movx	a,@dptr
   1260 FA                 5432 	mov	r2,a
   1261 54 FE              5433 	anl	a,#0xFE
   1263 F0                 5434 	movx	@dptr,a
                           5435 ;	../../include/ztex-isr.h:169: break;
   1264 02s14rB4           5436 	ljmp	00160$
                           5437 ;	../../include/ztex-isr.h:170: default:
   1267                    5438 00117$:
                           5439 ;	../../include/ztex-isr.h:171: EPXCS[ ((SETUPDAT[4] >> 1)-1) & 3 ] &= ~bmBIT0;
   1267 90 E6 BC           5440 	mov	dptr,#(_SETUPDAT + 0x0004)
   126A E0                 5441 	movx	a,@dptr
   126B C3                 5442 	clr	c
   126C 13                 5443 	rrc	a
   126D 14                 5444 	dec	a
   126E 54 03              5445 	anl	a,#0x03
   1270 24 A3              5446 	add	a,#_EPXCS
   1272 FA                 5447 	mov	r2,a
   1273 E4                 5448 	clr	a
   1274 34 E6              5449 	addc	a,#(_EPXCS >> 8)
   1276 FB                 5450 	mov	r3,a
   1277 90 E6 BC           5451 	mov	dptr,#(_SETUPDAT + 0x0004)
   127A E0                 5452 	movx	a,@dptr
   127B C3                 5453 	clr	c
   127C 13                 5454 	rrc	a
   127D 14                 5455 	dec	a
   127E 54 03              5456 	anl	a,#0x03
   1280 24 A3              5457 	add	a,#_EPXCS
   1282 F5 82              5458 	mov	dpl,a
   1284 E4                 5459 	clr	a
   1285 34 E6              5460 	addc	a,#(_EPXCS >> 8)
   1287 F5 83              5461 	mov	dph,a
   1289 E0                 5462 	movx	a,@dptr
   128A FC                 5463 	mov	r4,a
   128B 53 04 FE           5464 	anl	ar4,#0xFE
   128E 8A 82              5465 	mov	dpl,r2
   1290 8B 83              5466 	mov	dph,r3
   1292 EC                 5467 	mov	a,r4
   1293 F0                 5468 	movx	@dptr,a
                           5469 ;	../../include/ztex-isr.h:175: break;
   1294 02s14rB4           5470 	ljmp	00160$
                           5471 ;	../../include/ztex-isr.h:176: case 0x03:      // enable feature, e.g. remote wake, test mode, stall bit
   1297                    5472 00122$:
                           5473 ;	../../include/ztex-isr.h:177: if ( SETUPDAT[0] == 2 && SETUPDAT[2] == 0 ) {
   1297 90 E6 B8           5474 	mov	dptr,#_SETUPDAT
   129A E0                 5475 	movx	a,@dptr
   129B FA                 5476 	mov	r2,a
   129C BA 02 02           5477 	cjne	r2,#0x02,00256$
   129F 80 03              5478 	sjmp	00257$
   12A1                    5479 00256$:
   12A1 02s14rB4           5480 	ljmp	00160$
   12A4                    5481 00257$:
   12A4 90 E6 BA           5482 	mov	dptr,#(_SETUPDAT + 0x0002)
   12A7 E0                 5483 	movx	a,@dptr
   12A8 60 03              5484 	jz	00258$
   12AA 02s14rB4           5485 	ljmp	00160$
   12AD                    5486 00258$:
                           5487 ;	../../include/ztex-isr.h:178: switch ( SETUPDAT[4] ) {
   12AD 90 E6 BC           5488 	mov	dptr,#(_SETUPDAT + 0x0004)
   12B0 E0                 5489 	movx	a,@dptr
   12B1 FA                 5490 	mov	r2,a
   12B2 60 0F              5491 	jz	00124$
   12B4 BA 01 02           5492 	cjne	r2,#0x01,00260$
   12B7 80 14              5493 	sjmp	00125$
   12B9                    5494 00260$:
   12B9 BA 80 02           5495 	cjne	r2,#0x80,00261$
   12BC 80 05              5496 	sjmp	00124$
   12BE                    5497 00261$:
                           5498 ;	../../include/ztex-isr.h:180: case 0x80 :
   12BE BA 81 20           5499 	cjne	r2,#0x81,00127$
   12C1 80 14              5500 	sjmp	00126$
   12C3                    5501 00124$:
                           5502 ;	../../include/ztex-isr.h:181: EP0CS |= bmBIT0;
   12C3 90 E6 A0           5503 	mov	dptr,#_EP0CS
   12C6 E0                 5504 	movx	a,@dptr
   12C7 FA                 5505 	mov	r2,a
   12C8 44 01              5506 	orl	a,#0x01
   12CA F0                 5507 	movx	@dptr,a
                           5508 ;	../../include/ztex-isr.h:182: break;
                           5509 ;	../../include/ztex-isr.h:183: case 0x01 :
   12CB 80 41              5510 	sjmp	00128$
   12CD                    5511 00125$:
                           5512 ;	../../include/ztex-isr.h:184: EP1OUTCS |= bmBIT0;
   12CD 90 E6 A1           5513 	mov	dptr,#_EP1OUTCS
   12D0 E0                 5514 	movx	a,@dptr
   12D1 FA                 5515 	mov	r2,a
   12D2 44 01              5516 	orl	a,#0x01
   12D4 F0                 5517 	movx	@dptr,a
                           5518 ;	../../include/ztex-isr.h:185: break;
                           5519 ;	../../include/ztex-isr.h:186: case 0x81 :
   12D5 80 37              5520 	sjmp	00128$
   12D7                    5521 00126$:
                           5522 ;	../../include/ztex-isr.h:187: EP1INCS |= bmBIT0;
   12D7 90 E6 A2           5523 	mov	dptr,#_EP1INCS
   12DA E0                 5524 	movx	a,@dptr
   12DB FA                 5525 	mov	r2,a
   12DC 44 01              5526 	orl	a,#0x01
   12DE F0                 5527 	movx	@dptr,a
                           5528 ;	../../include/ztex-isr.h:188: break;
                           5529 ;	../../include/ztex-isr.h:189: default:
   12DF 80 2D              5530 	sjmp	00128$
   12E1                    5531 00127$:
                           5532 ;	../../include/ztex-isr.h:190: EPXCS[ ((SETUPDAT[4] >> 1)-1) & 3 ] |= ~bmBIT0;
   12E1 90 E6 BC           5533 	mov	dptr,#(_SETUPDAT + 0x0004)
   12E4 E0                 5534 	movx	a,@dptr
   12E5 C3                 5535 	clr	c
   12E6 13                 5536 	rrc	a
   12E7 14                 5537 	dec	a
   12E8 54 03              5538 	anl	a,#0x03
   12EA 24 A3              5539 	add	a,#_EPXCS
   12EC FA                 5540 	mov	r2,a
   12ED E4                 5541 	clr	a
   12EE 34 E6              5542 	addc	a,#(_EPXCS >> 8)
   12F0 FB                 5543 	mov	r3,a
   12F1 90 E6 BC           5544 	mov	dptr,#(_SETUPDAT + 0x0004)
   12F4 E0                 5545 	movx	a,@dptr
   12F5 C3                 5546 	clr	c
   12F6 13                 5547 	rrc	a
   12F7 14                 5548 	dec	a
   12F8 54 03              5549 	anl	a,#0x03
   12FA 24 A3              5550 	add	a,#_EPXCS
   12FC F5 82              5551 	mov	dpl,a
   12FE E4                 5552 	clr	a
   12FF 34 E6              5553 	addc	a,#(_EPXCS >> 8)
   1301 F5 83              5554 	mov	dph,a
   1303 E0                 5555 	movx	a,@dptr
   1304 FC                 5556 	mov	r4,a
   1305 43 04 FE           5557 	orl	ar4,#0xFE
   1308 8A 82              5558 	mov	dpl,r2
   130A 8B 83              5559 	mov	dph,r3
   130C EC                 5560 	mov	a,r4
   130D F0                 5561 	movx	@dptr,a
                           5562 ;	../../include/ztex-isr.h:192: }
   130E                    5563 00128$:
                           5564 ;	../../include/ztex-isr.h:193: a = ( (SETUPDAT[4] & 0x80) >> 3 ) | (SETUPDAT[4] & 0x0f);
   130E 90 E6 BC           5565 	mov	dptr,#(_SETUPDAT + 0x0004)
   1311 E0                 5566 	movx	a,@dptr
   1312 54 80              5567 	anl	a,#0x80
   1314 C4                 5568 	swap	a
   1315 23                 5569 	rl	a
   1316 54 1F              5570 	anl	a,#0x1f
   1318 FA                 5571 	mov	r2,a
   1319 90 E6 BC           5572 	mov	dptr,#(_SETUPDAT + 0x0004)
   131C E0                 5573 	movx	a,@dptr
   131D FB                 5574 	mov	r3,a
   131E 74 0F              5575 	mov	a,#0x0F
   1320 5B                 5576 	anl	a,r3
   1321 42 02              5577 	orl	ar2,a
                           5578 ;	../../include/ztex-isr.h:194: TOGCTL = a;
                           5579 ;	../../include/ztex-isr.h:195: TOGCTL = a | bmBIT5;
   1323 90 E6 83           5580 	mov	dptr,#_TOGCTL
   1326 EA                 5581 	mov	a,r2
   1327 F0                 5582 	movx	@dptr,a
   1328 74 20              5583 	mov	a,#0x20
   132A 4A                 5584 	orl	a,r2
   132B F0                 5585 	movx	@dptr,a
                           5586 ;	../../include/ztex-isr.h:197: break;
   132C 02s14rB4           5587 	ljmp	00160$
                           5588 ;	../../include/ztex-isr.h:198: case 0x06:			// get descriptor
   132F                    5589 00132$:
                           5590 ;	../../include/ztex-isr.h:199: switch(SETUPDAT[3]) {
   132F 90 E6 BB           5591 	mov	dptr,#(_SETUPDAT + 0x0003)
   1332 E0                 5592 	movx	a,@dptr
   1333 FA                 5593 	mov	r2,a
   1334 BA 01 02           5594 	cjne	r2,#0x01,00263$
   1337 80 19              5595 	sjmp	00133$
   1339                    5596 00263$:
   1339 BA 02 02           5597 	cjne	r2,#0x02,00264$
   133C 80 26              5598 	sjmp	00134$
   133E                    5599 00264$:
   133E BA 03 02           5600 	cjne	r2,#0x03,00265$
   1341 80 4D              5601 	sjmp	00138$
   1343                    5602 00265$:
   1343 BA 06 03           5603 	cjne	r2,#0x06,00266$
   1346 02s14r03           5604 	ljmp	00145$
   1349                    5605 00266$:
   1349 BA 07 03           5606 	cjne	r2,#0x07,00267$
   134C 02s14r15           5607 	ljmp	00146$
   134F                    5608 00267$:
   134F 02s14r40           5609 	ljmp	00150$
                           5610 ;	../../include/ztex-isr.h:200: case 0x01:		// device
   1352                    5611 00133$:
                           5612 ;	../../include/ztex-isr.h:201: SUDPTRH = MSB(&DeviceDescriptor);
   1352 7Ar36              5613 	mov	r2,#_DeviceDescriptor
   1354 7Bs00              5614 	mov	r3,#(_DeviceDescriptor >> 8)
   1356 90 E6 B3           5615 	mov	dptr,#_SUDPTRH
   1359 EB                 5616 	mov	a,r3
   135A F0                 5617 	movx	@dptr,a
                           5618 ;	../../include/ztex-isr.h:202: SUDPTRL = LSB(&DeviceDescriptor);
   135B 90 E6 B4           5619 	mov	dptr,#_SUDPTRL
   135E 74r36              5620 	mov	a,#_DeviceDescriptor
   1360 F0                 5621 	movx	@dptr,a
                           5622 ;	../../include/ztex-isr.h:203: break;
   1361 02s14rB4           5623 	ljmp	00160$
                           5624 ;	../../include/ztex-isr.h:204: case 0x02: 		// configuration
   1364                    5625 00134$:
                           5626 ;	../../include/ztex-isr.h:205: if (USBCS & bmBIT7) {
   1364 90 E6 80           5627 	mov	dptr,#_USBCS
   1367 E0                 5628 	movx	a,@dptr
   1368 FA                 5629 	mov	r2,a
   1369 30 E7 12           5630 	jnb	acc.7,00136$
                           5631 ;	../../include/ztex-isr.h:206: SUDPTRH = MSB(&HighSpeedConfigDescriptor);
   136C 7Ar52              5632 	mov	r2,#_HighSpeedConfigDescriptor
   136E 7Bs00              5633 	mov	r3,#(_HighSpeedConfigDescriptor >> 8)
   1370 90 E6 B3           5634 	mov	dptr,#_SUDPTRH
   1373 EB                 5635 	mov	a,r3
   1374 F0                 5636 	movx	@dptr,a
                           5637 ;	../../include/ztex-isr.h:207: SUDPTRL = LSB(&HighSpeedConfigDescriptor);
   1375 90 E6 B4           5638 	mov	dptr,#_SUDPTRL
   1378 74r52              5639 	mov	a,#_HighSpeedConfigDescriptor
   137A F0                 5640 	movx	@dptr,a
   137B 02s14rB4           5641 	ljmp	00160$
   137E                    5642 00136$:
                           5643 ;	../../include/ztex-isr.h:210: SUDPTRH = MSB(&FullSpeedConfigDescriptor);
   137E 7Ar7A              5644 	mov	r2,#_FullSpeedConfigDescriptor
   1380 7Bs00              5645 	mov	r3,#(_FullSpeedConfigDescriptor >> 8)
   1382 90 E6 B3           5646 	mov	dptr,#_SUDPTRH
   1385 EB                 5647 	mov	a,r3
   1386 F0                 5648 	movx	@dptr,a
                           5649 ;	../../include/ztex-isr.h:211: SUDPTRL = LSB(&FullSpeedConfigDescriptor);
   1387 90 E6 B4           5650 	mov	dptr,#_SUDPTRL
   138A 74r7A              5651 	mov	a,#_FullSpeedConfigDescriptor
   138C F0                 5652 	movx	@dptr,a
                           5653 ;	../../include/ztex-isr.h:213: break; 
   138D 02s14rB4           5654 	ljmp	00160$
                           5655 ;	../../include/ztex-isr.h:214: case 0x03:		// strings
   1390                    5656 00138$:
                           5657 ;	../../include/ztex-isr.h:215: switch (SETUPDAT[2]) {
   1390 90 E6 BA           5658 	mov	dptr,#(_SETUPDAT + 0x0002)
   1393 E0                 5659 	movx	a,@dptr
   1394 FA                 5660 	mov	r2,a
   1395 BA 01 02           5661 	cjne	r2,#0x01,00269$
   1398 80 0F              5662 	sjmp	00139$
   139A                    5663 00269$:
   139A BA 02 02           5664 	cjne	r2,#0x02,00270$
   139D 80 1C              5665 	sjmp	00140$
   139F                    5666 00270$:
   139F BA 03 02           5667 	cjne	r2,#0x03,00271$
   13A2 80 29              5668 	sjmp	00141$
   13A4                    5669 00271$:
                           5670 ;	../../include/ztex-isr.h:216: case 1:
   13A4 BA 04 4A           5671 	cjne	r2,#0x04,00143$
   13A7 80 36              5672 	sjmp	00142$
   13A9                    5673 00139$:
                           5674 ;	../../include/ztex-isr.h:217: SEND_STRING_DESCRIPTOR(manufacturerString);
   13A9 75 82r08           5675 	mov	dpl,#_manufacturerString
   13AC 7Ar08              5676 	mov	r2,#_manufacturerString
   13AE 7Bs00              5677 	mov	r3,#(_manufacturerString >> 8)
   13B0 8B*00              5678 	mov	_sendStringDescriptor_PARM_2,r3
   13B2 75*01 05           5679 	mov	_sendStringDescriptor_PARM_3,#0x05
   13B5 12s0Fr8B           5680 	lcall	_sendStringDescriptor
                           5681 ;	../../include/ztex-isr.h:218: break;
   13B8 02s14rB4           5682 	ljmp	00160$
                           5683 ;	../../include/ztex-isr.h:219: case 2:
   13BB                    5684 00140$:
                           5685 ;	../../include/ztex-isr.h:220: SEND_STRING_DESCRIPTOR(productString);
   13BB 75 82r0D           5686 	mov	dpl,#_productString
   13BE 7Ar0D              5687 	mov	r2,#_productString
   13C0 7Bs00              5688 	mov	r3,#(_productString >> 8)
   13C2 8B*00              5689 	mov	_sendStringDescriptor_PARM_2,r3
   13C4 75*01 20           5690 	mov	_sendStringDescriptor_PARM_3,#0x20
   13C7 12s0Fr8B           5691 	lcall	_sendStringDescriptor
                           5692 ;	../../include/ztex-isr.h:221: break;
   13CA 02s14rB4           5693 	ljmp	00160$
                           5694 ;	../../include/ztex-isr.h:222: case 3:
   13CD                    5695 00141$:
                           5696 ;	../../include/ztex-isr.h:223: SEND_STRING_DESCRIPTOR(SN_STRING);
   13CD 75 82 8A           5697 	mov	dpl,#_SN_STRING
   13D0 7A 8A              5698 	mov	r2,#_SN_STRING
   13D2 7B 00              5699 	mov	r3,#(_SN_STRING >> 8)
   13D4 8B*00              5700 	mov	_sendStringDescriptor_PARM_2,r3
   13D6 75*01 0A           5701 	mov	_sendStringDescriptor_PARM_3,#0x0A
   13D9 12s0Fr8B           5702 	lcall	_sendStringDescriptor
                           5703 ;	../../include/ztex-isr.h:224: break;
   13DC 02s14rB4           5704 	ljmp	00160$
                           5705 ;	../../include/ztex-isr.h:225: case 4:
   13DF                    5706 00142$:
                           5707 ;	../../include/ztex-isr.h:226: SEND_STRING_DESCRIPTOR(configurationString);
   13DF 75 82r2D           5708 	mov	dpl,#_configurationString
   13E2 7Ar2D              5709 	mov	r2,#_configurationString
   13E4 7Bs00              5710 	mov	r3,#(_configurationString >> 8)
   13E6 8B*00              5711 	mov	_sendStringDescriptor_PARM_2,r3
   13E8 75*01 08           5712 	mov	_sendStringDescriptor_PARM_3,#0x08
   13EB 12s0Fr8B           5713 	lcall	_sendStringDescriptor
                           5714 ;	../../include/ztex-isr.h:227: break; 
   13EE 02s14rB4           5715 	ljmp	00160$
                           5716 ;	../../include/ztex-isr.h:228: default:
   13F1                    5717 00143$:
                           5718 ;	../../include/ztex-isr.h:229: SUDPTRH = MSB(&EmptyStringDescriptor);
   13F1 7ArA2              5719 	mov	r2,#_EmptyStringDescriptor
   13F3 7Bs00              5720 	mov	r3,#(_EmptyStringDescriptor >> 8)
   13F5 90 E6 B3           5721 	mov	dptr,#_SUDPTRH
   13F8 EB                 5722 	mov	a,r3
   13F9 F0                 5723 	movx	@dptr,a
                           5724 ;	../../include/ztex-isr.h:230: SUDPTRL = LSB(&EmptyStringDescriptor);
   13FA 90 E6 B4           5725 	mov	dptr,#_SUDPTRL
   13FD 74rA2              5726 	mov	a,#_EmptyStringDescriptor
   13FF F0                 5727 	movx	@dptr,a
                           5728 ;	../../include/ztex-isr.h:233: break;
   1400 02s14rB4           5729 	ljmp	00160$
                           5730 ;	../../include/ztex-isr.h:234: case 0x06:		// device qualifier
   1403                    5731 00145$:
                           5732 ;	../../include/ztex-isr.h:235: SUDPTRH = MSB(&DeviceQualifierDescriptor);
   1403 7Ar48              5733 	mov	r2,#_DeviceQualifierDescriptor
   1405 7Bs00              5734 	mov	r3,#(_DeviceQualifierDescriptor >> 8)
   1407 90 E6 B3           5735 	mov	dptr,#_SUDPTRH
   140A EB                 5736 	mov	a,r3
   140B F0                 5737 	movx	@dptr,a
                           5738 ;	../../include/ztex-isr.h:236: SUDPTRL = LSB(&DeviceQualifierDescriptor);
   140C 90 E6 B4           5739 	mov	dptr,#_SUDPTRL
   140F 74r48              5740 	mov	a,#_DeviceQualifierDescriptor
   1411 F0                 5741 	movx	@dptr,a
                           5742 ;	../../include/ztex-isr.h:237: break;
   1412 02s14rB4           5743 	ljmp	00160$
                           5744 ;	../../include/ztex-isr.h:238: case 0x07: 		// other speed configuration
   1415                    5745 00146$:
                           5746 ;	../../include/ztex-isr.h:239: if (USBCS & bmBIT7) {
   1415 90 E6 80           5747 	mov	dptr,#_USBCS
   1418 E0                 5748 	movx	a,@dptr
   1419 FA                 5749 	mov	r2,a
   141A 30 E7 12           5750 	jnb	acc.7,00148$
                           5751 ;	../../include/ztex-isr.h:240: SUDPTRH = MSB(&FullSpeedConfigDescriptor);
   141D 7Ar7A              5752 	mov	r2,#_FullSpeedConfigDescriptor
   141F 7Bs00              5753 	mov	r3,#(_FullSpeedConfigDescriptor >> 8)
   1421 90 E6 B3           5754 	mov	dptr,#_SUDPTRH
   1424 EB                 5755 	mov	a,r3
   1425 F0                 5756 	movx	@dptr,a
                           5757 ;	../../include/ztex-isr.h:241: SUDPTRL = LSB(&FullSpeedConfigDescriptor);
   1426 90 E6 B4           5758 	mov	dptr,#_SUDPTRL
   1429 74r7A              5759 	mov	a,#_FullSpeedConfigDescriptor
   142B F0                 5760 	movx	@dptr,a
   142C 02s14rB4           5761 	ljmp	00160$
   142F                    5762 00148$:
                           5763 ;	../../include/ztex-isr.h:244: SUDPTRH = MSB(&HighSpeedConfigDescriptor);
   142F 7Ar52              5764 	mov	r2,#_HighSpeedConfigDescriptor
   1431 7Bs00              5765 	mov	r3,#(_HighSpeedConfigDescriptor >> 8)
   1433 90 E6 B3           5766 	mov	dptr,#_SUDPTRH
   1436 EB                 5767 	mov	a,r3
   1437 F0                 5768 	movx	@dptr,a
                           5769 ;	../../include/ztex-isr.h:245: SUDPTRL = LSB(&HighSpeedConfigDescriptor);
   1438 90 E6 B4           5770 	mov	dptr,#_SUDPTRL
   143B 74r52              5771 	mov	a,#_HighSpeedConfigDescriptor
   143D F0                 5772 	movx	@dptr,a
                           5773 ;	../../include/ztex-isr.h:247: break; 
                           5774 ;	../../include/ztex-isr.h:248: default:
   143E 80 74              5775 	sjmp	00160$
   1440                    5776 00150$:
                           5777 ;	../../include/ztex-isr.h:249: EP0CS |= 0x01;	// set stall, unknown descriptor
   1440 90 E6 A0           5778 	mov	dptr,#_EP0CS
   1443 E0                 5779 	movx	a,@dptr
   1444 FA                 5780 	mov	r2,a
   1445 44 01              5781 	orl	a,#0x01
   1447 F0                 5782 	movx	@dptr,a
                           5783 ;	../../include/ztex-isr.h:251: break;
                           5784 ;	../../include/ztex-isr.h:252: case 0x07:			// set descriptor
   1448 80 6A              5785 	sjmp	00160$
   144A                    5786 00152$:
                           5787 ;	../../include/ztex-isr.h:253: break;			
                           5788 ;	../../include/ztex-isr.h:254: case 0x08:			// get configuration
   144A 80 68              5789 	sjmp	00160$
   144C                    5790 00153$:
                           5791 ;	../../include/ztex-isr.h:255: EP0BUF[0] = 0;		// only one configuration
   144C 90 E7 40           5792 	mov	dptr,#_EP0BUF
                           5793 ;	../../include/ztex-isr.h:256: EP0BCH = 0;
   144F E4                 5794 	clr	a
   1450 F0                 5795 	movx	@dptr,a
   1451 90 E6 8A           5796 	mov	dptr,#_EP0BCH
   1454 F0                 5797 	movx	@dptr,a
                           5798 ;	../../include/ztex-isr.h:257: EP0BCL = 1;
   1455 90 E6 8B           5799 	mov	dptr,#_EP0BCL
   1458 74 01              5800 	mov	a,#0x01
   145A F0                 5801 	movx	@dptr,a
                           5802 ;	../../include/ztex-isr.h:258: break;
                           5803 ;	../../include/ztex-isr.h:259: case 0x09:			// set configuration
   145B 80 57              5804 	sjmp	00160$
   145D                    5805 00154$:
                           5806 ;	../../include/ztex-isr.h:260: resetToggleData();
   145D 12s0Fr64           5807 	lcall	_resetToggleData
                           5808 ;	../../include/ztex-isr.h:261: break;			// do nothing since we have only one configuration
                           5809 ;	../../include/ztex-isr.h:262: case 0x0a:			// get alternate setting for an interface
   1460 80 52              5810 	sjmp	00160$
   1462                    5811 00155$:
                           5812 ;	../../include/ztex-isr.h:263: EP0BUF[0] = 0;		// only one alternate setting
   1462 90 E7 40           5813 	mov	dptr,#_EP0BUF
                           5814 ;	../../include/ztex-isr.h:264: EP0BCH = 0;
   1465 E4                 5815 	clr	a
   1466 F0                 5816 	movx	@dptr,a
   1467 90 E6 8A           5817 	mov	dptr,#_EP0BCH
   146A F0                 5818 	movx	@dptr,a
                           5819 ;	../../include/ztex-isr.h:265: EP0BCL = 1;
   146B 90 E6 8B           5820 	mov	dptr,#_EP0BCL
   146E 74 01              5821 	mov	a,#0x01
   1470 F0                 5822 	movx	@dptr,a
                           5823 ;	../../include/ztex-isr.h:266: break;
                           5824 ;	../../include/ztex-isr.h:267: case 0x0b:			// set alternate setting for an interface
   1471 80 41              5825 	sjmp	00160$
   1473                    5826 00156$:
                           5827 ;	../../include/ztex-isr.h:268: resetToggleData();
   1473 12s0Fr64           5828 	lcall	_resetToggleData
                           5829 ;	../../include/ztex-isr.h:269: break;			// do nothing since we have only on alternate setting
                           5830 ;	../../include/ztex-isr.h:270: case 0x0c:			// sync frame
   1476 80 3C              5831 	sjmp	00160$
   1478                    5832 00157$:
                           5833 ;	../../include/ztex-isr.h:271: if ( SETUPDAT[0] == 0x82 ) {
   1478 90 E6 B8           5834 	mov	dptr,#_SETUPDAT
   147B E0                 5835 	movx	a,@dptr
   147C FA                 5836 	mov	r2,a
   147D BA 82 34           5837 	cjne	r2,#0x82,00160$
                           5838 ;	../../include/ztex-isr.h:272: ISOFRAME_COUNTER[ ((SETUPDAT[4] >> 1)-1) & 3 ] = 0;
   1480 90 E6 BC           5839 	mov	dptr,#(_SETUPDAT + 0x0004)
   1483 E0                 5840 	movx	a,@dptr
   1484 C3                 5841 	clr	c
   1485 13                 5842 	rrc	a
   1486 14                 5843 	dec	a
   1487 54 03              5844 	anl	a,#0x03
   1489 25 E0              5845 	add	a,acc
   148B 24r45              5846 	add	a,#_ISOFRAME_COUNTER
   148D F5 82              5847 	mov	dpl,a
   148F E4                 5848 	clr	a
   1490 34s00              5849 	addc	a,#(_ISOFRAME_COUNTER >> 8)
   1492 F5 83              5850 	mov	dph,a
   1494 E4                 5851 	clr	a
   1495 F0                 5852 	movx	@dptr,a
   1496 A3                 5853 	inc	dptr
   1497 F0                 5854 	movx	@dptr,a
                           5855 ;	../../include/ztex-isr.h:273: EP0BUF[0] = USBFRAMEL;	// use current frame as sync frame, i hope that works
   1498 90 E6 85           5856 	mov	dptr,#_USBFRAMEL
   149B E0                 5857 	movx	a,@dptr
   149C 90 E7 40           5858 	mov	dptr,#_EP0BUF
   149F F0                 5859 	movx	@dptr,a
                           5860 ;	../../include/ztex-isr.h:274: EP0BUF[1] = USBFRAMEH;	
   14A0 90 E6 84           5861 	mov	dptr,#_USBFRAMEH
   14A3 E0                 5862 	movx	a,@dptr
   14A4 FA                 5863 	mov	r2,a
   14A5 90 E7 41           5864 	mov	dptr,#(_EP0BUF + 0x0001)
   14A8 F0                 5865 	movx	@dptr,a
                           5866 ;	../../include/ztex-isr.h:275: EP0BCH = 0;
   14A9 90 E6 8A           5867 	mov	dptr,#_EP0BCH
   14AC E4                 5868 	clr	a
   14AD F0                 5869 	movx	@dptr,a
                           5870 ;	../../include/ztex-isr.h:276: EP0BCL = 2;
   14AE 90 E6 8B           5871 	mov	dptr,#_EP0BCL
   14B1 74 02              5872 	mov	a,#0x02
   14B3 F0                 5873 	movx	@dptr,a
                           5874 ;	../../include/ztex-isr.h:280: }
   14B4                    5875 00160$:
                           5876 ;	../../include/ztex-isr.h:283: switch ( bmRequestType ) {
   14B4 90 E6 B8           5877 	mov	dptr,#_bmRequestType
   14B7 E0                 5878 	movx	a,@dptr
   14B8 FA                 5879 	mov	r2,a
   14B9 BA 40 03           5880 	cjne	r2,#0x40,00276$
   14BC 02s16rF2           5881 	ljmp	00183$
   14BF                    5882 00276$:
   14BF BA C0 02           5883 	cjne	r2,#0xC0,00277$
   14C2 80 03              5884 	sjmp	00278$
   14C4                    5885 00277$:
   14C4 02s17r1C           5886 	ljmp	00187$
   14C7                    5887 00278$:
                           5888 ;	../../include/ztex-isr.h:285: ep0_payload_remaining = (SETUPDAT[7] << 8) | SETUPDAT[6];
   14C7 90 E6 BF           5889 	mov	dptr,#(_SETUPDAT + 0x0007)
   14CA E0                 5890 	movx	a,@dptr
   14CB FB                 5891 	mov	r3,a
   14CC 7A 00              5892 	mov	r2,#0x00
   14CE 90 E6 BE           5893 	mov	dptr,#(_SETUPDAT + 0x0006)
   14D1 E0                 5894 	movx	a,@dptr
   14D2 FC                 5895 	mov	r4,a
   14D3 7D 00              5896 	mov	r5,#0x00
   14D5 90s00r00           5897 	mov	dptr,#_ep0_payload_remaining
   14D8 EC                 5898 	mov	a,r4
   14D9 4A                 5899 	orl	a,r2
   14DA F0                 5900 	movx	@dptr,a
   14DB ED                 5901 	mov	a,r5
   14DC 4B                 5902 	orl	a,r3
   14DD A3                 5903 	inc	dptr
   14DE F0                 5904 	movx	@dptr,a
                           5905 ;	../../include/ztex-isr.h:286: ep0_payload_update();
   14DF 12s0FrF4           5906 	lcall	_ep0_payload_update
                           5907 ;	../../include/ztex-isr.h:288: switch ( bRequest ) {
   14E2 90 E6 B9           5908 	mov	dptr,#_bRequest
   14E5 E0                 5909 	movx	a,@dptr
   14E6 FA                 5910 	mov	r2,a
   14E7 BA 22 02           5911 	cjne	r2,#0x22,00279$
   14EA 80 37              5912 	sjmp	00162$
   14EC                    5913 00279$:
   14EC BA 30 03           5914 	cjne	r2,#0x30,00280$
   14EF 02s16r8B           5915 	ljmp	00176$
   14F2                    5916 00280$:
   14F2 BA 33 03           5917 	cjne	r2,#0x33,00281$
   14F5 02s16rD1           5918 	ljmp	00180$
   14F8                    5919 00281$:
   14F8 BA 38 02           5920 	cjne	r2,#0x38,00282$
   14FB 80 43              5921 	sjmp	00163$
   14FD                    5922 00282$:
   14FD BA 3A 02           5923 	cjne	r2,#0x3A,00283$
   1500 80 67              5924 	sjmp	00164$
   1502                    5925 00283$:
   1502 BA 3B 03           5926 	cjne	r2,#0x3B,00284$
   1505 02s15rA8           5927 	ljmp	00165$
   1508                    5928 00284$:
   1508 BA 3D 03           5929 	cjne	r2,#0x3D,00285$
   150B 02s15rC1           5930 	ljmp	00166$
   150E                    5931 00285$:
   150E BA 40 03           5932 	cjne	r2,#0x40,00286$
   1511 02s15rE2           5933 	ljmp	00167$
   1514                    5934 00286$:
   1514 BA 41 03           5935 	cjne	r2,#0x41,00287$
   1517 02s16r18           5936 	ljmp	00171$
   151A                    5937 00287$:
   151A BA 43 03           5938 	cjne	r2,#0x43,00288$
   151D 02s16r65           5939 	ljmp	00175$
   1520                    5940 00288$:
   1520 02s16rE8           5941 	ljmp	00181$
                           5942 ;	../../include/ztex-isr.h:289: case 0x22: 				// get ZTEX descriptor
   1523                    5943 00162$:
                           5944 ;	../../include/ztex-isr.h:290: SUDPTRCTL = 0;
   1523 90 E6 B5           5945 	mov	dptr,#_SUDPTRCTL
                           5946 ;	../../include/ztex-isr.h:291: EP0BCH = 0;
   1526 E4                 5947 	clr	a
   1527 F0                 5948 	movx	@dptr,a
   1528 90 E6 8A           5949 	mov	dptr,#_EP0BCH
   152B F0                 5950 	movx	@dptr,a
                           5951 ;	../../include/ztex-isr.h:292: EP0BCL = ZTEX_DESCRIPTOR_LEN;
   152C 90 E6 8B           5952 	mov	dptr,#_EP0BCL
   152F 74 28              5953 	mov	a,#0x28
   1531 F0                 5954 	movx	@dptr,a
                           5955 ;	../../include/ztex-isr.h:293: SUDPTRH = MSB(ZTEX_DESCRIPTOR_OFFS);
   1532 90 E6 B3           5956 	mov	dptr,#_SUDPTRH
   1535 E4                 5957 	clr	a
   1536 F0                 5958 	movx	@dptr,a
                           5959 ;	../../include/ztex-isr.h:294: SUDPTRL = LSB(ZTEX_DESCRIPTOR_OFFS); 
   1537 90 E6 B4           5960 	mov	dptr,#_SUDPTRL
   153A 74 6C              5961 	mov	a,#0x6C
   153C F0                 5962 	movx	@dptr,a
                           5963 ;	../../include/ztex-isr.h:295: break;
   153D 02s17r1C           5964 	ljmp	00187$
                           5965 ;	../../include/ztex-conf.h:100: case $0:
   1540                    5966 00163$:
                           5967 ;	../../include/ztex-conf.h:102: break;
   1540 90 E6 BB           5968 	mov	dptr,#(_SETUPDAT + 0x0003)
   1543 E0                 5969 	movx	a,@dptr
   1544 FB                 5970 	mov	r3,a
   1545 7A 00              5971 	mov	r2,#0x00
   1547 90 E6 BA           5972 	mov	dptr,#(_SETUPDAT + 0x0002)
   154A E0                 5973 	movx	a,@dptr
   154B FC                 5974 	mov	r4,a
   154C 7D 00              5975 	mov	r5,#0x00
   154E 90s00r00           5976 	mov	dptr,#_eeprom_addr
   1551 EC                 5977 	mov	a,r4
   1552 4A                 5978 	orl	a,r2
   1553 F0                 5979 	movx	@dptr,a
   1554 ED                 5980 	mov	a,r5
   1555 4B                 5981 	orl	a,r3
   1556 A3                 5982 	inc	dptr
   1557 F0                 5983 	movx	@dptr,a
                           5984 ;	../../include/ztex-eeprom.h:219: EP0BCH = 0;
   1558 90 E6 8A           5985 	mov	dptr,#_EP0BCH
   155B E4                 5986 	clr	a
   155C F0                 5987 	movx	@dptr,a
                           5988 ;	../../include/ztex-eeprom.h:220: EP0BCL = eeprom_read_ep0(); 
   155D 12s03r0F           5989 	lcall	_eeprom_read_ep0
   1560 E5 82              5990 	mov	a,dpl
   1562 90 E6 8B           5991 	mov	dptr,#_EP0BCL
   1565 F0                 5992 	movx	@dptr,a
                           5993 ;	../../include/ztex-conf.h:102: break;
   1566 02s17r1C           5994 	ljmp	00187$
                           5995 ;	../../include/ztex-conf.h:100: case $0:
   1569                    5996 00164$:
                           5997 ;	../../include/ztex-eeprom.h:247: EP0BUF[0] = LSB(eeprom_write_bytes);
   1569 90s00r02           5998 	mov	dptr,#_eeprom_write_bytes
   156C E0                 5999 	movx	a,@dptr
   156D FA                 6000 	mov	r2,a
   156E A3                 6001 	inc	dptr
   156F E0                 6002 	movx	a,@dptr
   1570 FB                 6003 	mov	r3,a
   1571 8A 04              6004 	mov	ar4,r2
   1573 90 E7 40           6005 	mov	dptr,#_EP0BUF
   1576 EC                 6006 	mov	a,r4
   1577 F0                 6007 	movx	@dptr,a
                           6008 ;	../../include/ztex-eeprom.h:248: EP0BUF[1] = MSB(eeprom_write_bytes);
   1578 8B 02              6009 	mov	ar2,r3
   157A 90 E7 41           6010 	mov	dptr,#(_EP0BUF + 0x0001)
   157D EA                 6011 	mov	a,r2
   157E F0                 6012 	movx	@dptr,a
                           6013 ;	../../include/ztex-eeprom.h:249: EP0BUF[2] = eeprom_write_checksum;
   157F 90s00r04           6014 	mov	dptr,#_eeprom_write_checksum
   1582 E0                 6015 	movx	a,@dptr
   1583 90 E7 42           6016 	mov	dptr,#(_EP0BUF + 0x0002)
   1586 F0                 6017 	movx	@dptr,a
                           6018 ;	../../include/ztex-eeprom.h:250: EP0BUF[3] = eeprom_select(EEPROM_ADDR,0,1);		// 1 means busy or error
   1587 75*00 00           6019 	mov	_eeprom_select_PARM_2,#0x00
   158A 75*01 01           6020 	mov	_eeprom_select_PARM_3,#0x01
   158D 75 82 A2           6021 	mov	dpl,#0xA2
   1590 12s00rE2           6022 	lcall	_eeprom_select
   1593 AA 82              6023 	mov	r2,dpl
   1595 90 E7 43           6024 	mov	dptr,#(_EP0BUF + 0x0003)
   1598 EA                 6025 	mov	a,r2
   1599 F0                 6026 	movx	@dptr,a
                           6027 ;	../../include/ztex-eeprom.h:251: EP0BCH = 0;
   159A 90 E6 8A           6028 	mov	dptr,#_EP0BCH
   159D E4                 6029 	clr	a
   159E F0                 6030 	movx	@dptr,a
                           6031 ;	../../include/ztex-eeprom.h:252: EP0BCL = 4;
   159F 90 E6 8B           6032 	mov	dptr,#_EP0BCL
   15A2 74 04              6033 	mov	a,#0x04
   15A4 F0                 6034 	movx	@dptr,a
                           6035 ;	../../include/ztex-conf.h:102: break;
   15A5 02s17r1C           6036 	ljmp	00187$
                           6037 ;	../../include/ztex-conf.h:100: case $0:
   15A8                    6038 00165$:
                           6039 ;	../../include/ztex-conf.h:102: break;
   15A8 90 E6 BA           6040 	mov	dptr,#(_SETUPDAT + 0x0002)
   15AB E0                 6041 	movx	a,@dptr
   15AC 90s00r05           6042 	mov	dptr,#_mac_eeprom_addr
   15AF F0                 6043 	movx	@dptr,a
                           6044 ;	../../include/ztex-eeprom.h:368: EP0BCH = 0;
   15B0 90 E6 8A           6045 	mov	dptr,#_EP0BCH
   15B3 E4                 6046 	clr	a
   15B4 F0                 6047 	movx	@dptr,a
                           6048 ;	../../include/ztex-eeprom.h:369: EP0BCL = mac_eeprom_read_ep0(); 
   15B5 12s05r55           6049 	lcall	_mac_eeprom_read_ep0
   15B8 E5 82              6050 	mov	a,dpl
   15BA 90 E6 8B           6051 	mov	dptr,#_EP0BCL
   15BD F0                 6052 	movx	@dptr,a
                           6053 ;	../../include/ztex-conf.h:102: break;
   15BE 02s17r1C           6054 	ljmp	00187$
                           6055 ;	../../include/ztex-conf.h:100: case $0:
   15C1                    6056 00166$:
                           6057 ;	../../include/ztex-conf.h:102: break;
   15C1 75*00 00           6058 	mov	_eeprom_select_PARM_2,#0x00
   15C4 75*01 01           6059 	mov	_eeprom_select_PARM_3,#0x01
   15C7 75 82 A6           6060 	mov	dpl,#0xA6
   15CA 12s00rE2           6061 	lcall	_eeprom_select
   15CD AA 82              6062 	mov	r2,dpl
   15CF 90 E7 40           6063 	mov	dptr,#_EP0BUF
   15D2 EA                 6064 	mov	a,r2
   15D3 F0                 6065 	movx	@dptr,a
                           6066 ;	../../include/ztex-eeprom.h:390: EP0BCH = 0;
   15D4 90 E6 8A           6067 	mov	dptr,#_EP0BCH
   15D7 E4                 6068 	clr	a
   15D8 F0                 6069 	movx	@dptr,a
                           6070 ;	../../include/ztex-eeprom.h:391: EP0BCL = 1;
   15D9 90 E6 8B           6071 	mov	dptr,#_EP0BCL
   15DC 74 01              6072 	mov	a,#0x01
   15DE F0                 6073 	movx	@dptr,a
                           6074 ;	../../include/ztex-conf.h:102: break;
   15DF 02s17r1C           6075 	ljmp	00187$
                           6076 ;	../../include/ztex-conf.h:100: case $0:
   15E2                    6077 00167$:
                           6078 ;	../../include/ztex-flash2.h:642: if ( flash_ec == 0 && SPI_CS == 0 ) {
   15E2 90s00r0E           6079 	mov	dptr,#_flash_ec
   15E5 E0                 6080 	movx	a,@dptr
   15E6 FA                 6081 	mov	r2,a
   15E7 70 09              6082 	jnz	00169$
   15E9 20 A5 06           6083 	jb	_IOC5,00169$
                           6084 ;	../../include/ztex-flash2.h:643: flash_ec = FLASH_EC_PENDING;
   15EC 90s00r0E           6085 	mov	dptr,#_flash_ec
   15EF 74 04              6086 	mov	a,#0x04
   15F1 F0                 6087 	movx	@dptr,a
   15F2                    6088 00169$:
                           6089 ;	../../include/ztex-utils.h:121: AUTOPTRL1=LO(&($0));
   15F2 75 9Br07           6090 	mov	_AUTOPTRL1,#_flash_enabled
                           6091 ;	../../include/ztex-utils.h:122: AUTOPTRH1=HI(&($0));
   15F5 7Ar07              6092 	mov	r2,#_flash_enabled
   15F7 7Bs00              6093 	mov	r3,#(_flash_enabled >> 8)
   15F9 8B 9A              6094 	mov	_AUTOPTRH1,r3
                           6095 ;	../../include/ztex-utils.h:123: AUTOPTRL2=LO(&($1));
   15FB 75 9E 40           6096 	mov	_AUTOPTRL2,#0x40
                           6097 ;	../../include/ztex-utils.h:124: AUTOPTRH2=HI(&($1));
   15FE 75 9D E7           6098 	mov	_AUTOPTRH2,#0xE7
                           6099 ;	../../include/ztex-utils.h:130: __endasm; 
                           6100 	
   1601 C0 02              6101 	  push ar2
   1603 7A 08              6102 	    mov r2,#(8);
   1605 12s00r49           6103 	  lcall _MEM_COPY1_int
   1608 D0 02              6104 	  pop ar2
                           6105 	        
                           6106 ;	../../include/ztex-flash2.h:646: EP0BCH = 0;
   160A 90 E6 8A           6107 	mov	dptr,#_EP0BCH
   160D E4                 6108 	clr	a
   160E F0                 6109 	movx	@dptr,a
                           6110 ;	../../include/ztex-flash2.h:647: EP0BCL = 8;
   160F 90 E6 8B           6111 	mov	dptr,#_EP0BCL
   1612 74 08              6112 	mov	a,#0x08
   1614 F0                 6113 	movx	@dptr,a
                           6114 ;	../../include/ztex-conf.h:102: break;
   1615 02s17r1C           6115 	ljmp	00187$
                           6116 ;	../../include/ztex-conf.h:100: case $0:
   1618                    6117 00171$:
                           6118 ;	../../include/ztex-flash2.h:667: ep0_read_mode = SETUPDAT[5];
   1618 90 E6 BD           6119 	mov	dptr,#(_SETUPDAT + 0x0005)
   161B E0                 6120 	movx	a,@dptr
   161C FA                 6121 	mov	r2,a
   161D 90s00r1E           6122 	mov	dptr,#_ep0_read_mode
   1620 F0                 6123 	movx	@dptr,a
                           6124 ;	../../include/ztex-flash2.h:668: if ( (ep0_read_mode==0) && flash_read_init((SETUPDAT[3] << 8) | SETUPDAT[2]) ) {
   1621 EA                 6125 	mov	a,r2
   1622 70 2D              6126 	jnz	00173$
   1624 90 E6 BB           6127 	mov	dptr,#(_SETUPDAT + 0x0003)
   1627 E0                 6128 	movx	a,@dptr
   1628 FB                 6129 	mov	r3,a
   1629 7A 00              6130 	mov	r2,#0x00
   162B 90 E6 BA           6131 	mov	dptr,#(_SETUPDAT + 0x0002)
   162E E0                 6132 	movx	a,@dptr
   162F 7D 00              6133 	mov	r5,#0x00
   1631 4A                 6134 	orl	a,r2
   1632 F5 82              6135 	mov	dpl,a
   1634 ED                 6136 	mov	a,r5
   1635 4B                 6137 	orl	a,r3
   1636 F5 83              6138 	mov	dph,a
   1638 12s06rFF           6139 	lcall	_flash_read_init
   163B E5 82              6140 	mov	a,dpl
   163D 60 12              6141 	jz	00173$
                           6142 ;	../../include/ztex-conf.h:137: EP0CS |= 0x01;	// set stall
   163F 90 E6 A0           6143 	mov	dptr,#_EP0CS
   1642 E0                 6144 	movx	a,@dptr
   1643 FA                 6145 	mov	r2,a
   1644 44 01              6146 	orl	a,#0x01
   1646 F0                 6147 	movx	@dptr,a
                           6148 ;	../../include/ztex-conf.h:138: ep0_payload_remaining = 0;
   1647 90s00r00           6149 	mov	dptr,#_ep0_payload_remaining
   164A E4                 6150 	clr	a
   164B F0                 6151 	movx	@dptr,a
   164C A3                 6152 	inc	dptr
   164D F0                 6153 	movx	@dptr,a
                           6154 ;	../../include/ztex-conf.h:139: break;
   164E 02s17r1C           6155 	ljmp	00187$
   1651                    6156 00173$:
                           6157 ;	../../include/ztex-flash2.h:671: spi_read_ep0();  
   1651 12s0Ar7D           6158 	lcall	_spi_read_ep0
                           6159 ;	../../include/ztex-flash2.h:672: EP0BCH = 0;
   1654 90 E6 8A           6160 	mov	dptr,#_EP0BCH
   1657 E4                 6161 	clr	a
   1658 F0                 6162 	movx	@dptr,a
                           6163 ;	../../include/ztex-flash2.h:673: EP0BCL = ep0_payload_transfer; 
   1659 90s00r02           6164 	mov	dptr,#_ep0_payload_transfer
   165C E0                 6165 	movx	a,@dptr
   165D FA                 6166 	mov	r2,a
   165E 90 E6 8B           6167 	mov	dptr,#_EP0BCL
   1661 F0                 6168 	movx	@dptr,a
                           6169 ;	../../include/ztex-conf.h:102: break;
   1662 02s17r1C           6170 	ljmp	00187$
                           6171 ;	../../include/ztex-conf.h:100: case $0:
   1665                    6172 00175$:
                           6173 ;	../../include/ztex-utils.h:121: AUTOPTRL1=LO(&($0));
   1665 75 9Br0E           6174 	mov	_AUTOPTRL1,#_flash_ec
                           6175 ;	../../include/ztex-utils.h:122: AUTOPTRH1=HI(&($0));
   1668 7Ar0E              6176 	mov	r2,#_flash_ec
   166A 7Bs00              6177 	mov	r3,#(_flash_ec >> 8)
   166C 8B 9A              6178 	mov	_AUTOPTRH1,r3
                           6179 ;	../../include/ztex-utils.h:123: AUTOPTRL2=LO(&($1));
   166E 75 9E 40           6180 	mov	_AUTOPTRL2,#0x40
                           6181 ;	../../include/ztex-utils.h:124: AUTOPTRH2=HI(&($1));
   1671 75 9D E7           6182 	mov	_AUTOPTRH2,#0xE7
                           6183 ;	../../include/ztex-utils.h:130: __endasm; 
                           6184 	
   1674 C0 02              6185 	  push ar2
   1676 7A 0A              6186 	    mov r2,#(10);
   1678 12s00r49           6187 	  lcall _MEM_COPY1_int
   167B D0 02              6188 	  pop ar2
                           6189 	        
                           6190 ;	../../include/ztex-flash2.h:715: EP0BCH = 0;
   167D 90 E6 8A           6191 	mov	dptr,#_EP0BCH
   1680 E4                 6192 	clr	a
   1681 F0                 6193 	movx	@dptr,a
                           6194 ;	../../include/ztex-flash2.h:716: EP0BCL = 10;
   1682 90 E6 8B           6195 	mov	dptr,#_EP0BCL
   1685 74 0A              6196 	mov	a,#0x0A
   1687 F0                 6197 	movx	@dptr,a
                           6198 ;	../../include/ztex-conf.h:102: break;
   1688 02s17r1C           6199 	ljmp	00187$
                           6200 ;	../../include/ztex-conf.h:100: case $0:
   168B                    6201 00176$:
                           6202 ;	../../include/ztex-utils.h:121: AUTOPTRL1=LO(&($0));
   168B 75 9Br20           6203 	mov	_AUTOPTRL1,#_fpga_checksum
                           6204 ;	../../include/ztex-utils.h:122: AUTOPTRH1=HI(&($0));
   168E 7Ar20              6205 	mov	r2,#_fpga_checksum
   1690 7Bs00              6206 	mov	r3,#(_fpga_checksum >> 8)
   1692 8B 9A              6207 	mov	_AUTOPTRH1,r3
                           6208 ;	../../include/ztex-utils.h:123: AUTOPTRL2=LO(&($1));
   1694 75 9E 41           6209 	mov	_AUTOPTRL2,#(_EP0BUF + 0x0001)
                           6210 ;	../../include/ztex-utils.h:124: AUTOPTRH2=HI(&($1));
   1697 7A 41              6211 	mov	r2,#(_EP0BUF + 0x0001)
   1699 7B E7              6212 	mov	r3,#((_EP0BUF + 0x0001) >> 8)
   169B 8B 9D              6213 	mov	_AUTOPTRH2,r3
                           6214 ;	../../include/ztex-utils.h:130: __endasm; 
                           6215 	
   169D C0 02              6216 	  push ar2
   169F 7A 07              6217 	    mov r2,#(7);
   16A1 12s00r49           6218 	  lcall _MEM_COPY1_int
   16A4 D0 02              6219 	  pop ar2
                           6220 	        
                           6221 ;	../../include/ztex-fpga6.h:135: if ( IOE & bmBIT0 )  {
   16A6 E5 B1              6222 	mov	a,_IOE
   16A8 30 E0 07           6223 	jnb	acc.0,00178$
                           6224 ;	../../include/ztex-fpga6.h:136: EP0BUF[0] = 0; 	 		// FPGA configured 
   16AB 90 E7 40           6225 	mov	dptr,#_EP0BUF
   16AE E4                 6226 	clr	a
   16AF F0                 6227 	movx	@dptr,a
   16B0 80 0C              6228 	sjmp	00179$
   16B2                    6229 00178$:
                           6230 ;	../../include/ztex-fpga6.h:139: EP0BUF[0] = 1;			// FPGA unconfigured 
   16B2 90 E7 40           6231 	mov	dptr,#_EP0BUF
   16B5 74 01              6232 	mov	a,#0x01
   16B7 F0                 6233 	movx	@dptr,a
                           6234 ;	../../include/ztex-fpga6.h:140: OEE = 0;
   16B8 75 B6 00           6235 	mov	_OEE,#0x00
                           6236 ;	../../include/ztex-fpga6.h:141: reset_fpga();			// prepare FPGA for configuration
   16BB 12s0ArC3           6237 	lcall	_reset_fpga
   16BE                    6238 00179$:
                           6239 ;	../../include/ztex-fpga6.h:144: EP0BUF[8] = 1;			// bit order for bitstream in Flash memory: swapped
   16BE 90 E7 48           6240 	mov	dptr,#(_EP0BUF + 0x0008)
   16C1 74 01              6241 	mov	a,#0x01
   16C3 F0                 6242 	movx	@dptr,a
                           6243 ;	../../include/ztex-fpga6.h:146: EP0BCH = 0;
   16C4 90 E6 8A           6244 	mov	dptr,#_EP0BCH
   16C7 E4                 6245 	clr	a
   16C8 F0                 6246 	movx	@dptr,a
                           6247 ;	../../include/ztex-fpga6.h:147: EP0BCL = 9;
   16C9 90 E6 8B           6248 	mov	dptr,#_EP0BCL
   16CC 74 09              6249 	mov	a,#0x09
   16CE F0                 6250 	movx	@dptr,a
                           6251 ;	../../include/ztex-conf.h:102: break;
                           6252 ;	../../include/ztex-conf.h:100: case $0:
   16CF 80 4B              6253 	sjmp	00187$
   16D1                    6254 00180$:
                           6255 ;	../../include/ztex-conf.h:102: break;
   16D1 90 E7 40           6256 	mov	dptr,#_EP0BUF
   16D4 74 02              6257 	mov	a,#0x02
   16D6 F0                 6258 	movx	@dptr,a
                           6259 ;	../../include/ztex-conf.h:103: ]
   16D7 90 E7 41           6260 	mov	dptr,#(_EP0BUF + 0x0001)
                           6261 ;	../../include/ztex-fpga6.h:223: EP0BCH = 0;
   16DA E4                 6262 	clr	a
   16DB F0                 6263 	movx	@dptr,a
   16DC 90 E6 8A           6264 	mov	dptr,#_EP0BCH
   16DF F0                 6265 	movx	@dptr,a
                           6266 ;	../../include/ztex-fpga6.h:224: EP0BCL = 2;
   16E0 90 E6 8B           6267 	mov	dptr,#_EP0BCL
   16E3 74 02              6268 	mov	a,#0x02
   16E5 F0                 6269 	movx	@dptr,a
                           6270 ;	../../include/ztex-conf.h:102: break;
                           6271 ;	../../include/ztex-isr.h:297: default:
   16E6 80 34              6272 	sjmp	00187$
   16E8                    6273 00181$:
                           6274 ;	../../include/ztex-isr.h:298: EP0CS |= 0x01;			// set stall, unknown request
   16E8 90 E6 A0           6275 	mov	dptr,#_EP0CS
   16EB E0                 6276 	movx	a,@dptr
   16EC FA                 6277 	mov	r2,a
   16ED 44 01              6278 	orl	a,#0x01
   16EF F0                 6279 	movx	@dptr,a
                           6280 ;	../../include/ztex-isr.h:300: break;
                           6281 ;	../../include/ztex-isr.h:301: case 0x40: 					// vendor command
   16F0 80 2A              6282 	sjmp	00187$
   16F2                    6283 00183$:
                           6284 ;	../../include/ztex-isr.h:305: if ( SETUPDAT[7]!=0 || SETUPDAT[6]!=0 ) {
   16F2 90 E6 BF           6285 	mov	dptr,#(_SETUPDAT + 0x0007)
   16F5 E0                 6286 	movx	a,@dptr
   16F6 70 06              6287 	jnz	00184$
   16F8 90 E6 BE           6288 	mov	dptr,#(_SETUPDAT + 0x0006)
   16FB E0                 6289 	movx	a,@dptr
   16FC 60 16              6290 	jz	00185$
   16FE                    6291 00184$:
                           6292 ;	../../include/ztex-isr.h:306: ep0_vendor_cmd_setup = 1;
   16FE 90s00r44           6293 	mov	dptr,#_ep0_vendor_cmd_setup
   1701 74 01              6294 	mov	a,#0x01
   1703 F0                 6295 	movx	@dptr,a
                           6296 ;	../../include/ztex-isr.h:307: EP0BCL = 0;
   1704 90 E6 8B           6297 	mov	dptr,#_EP0BCL
   1707 E4                 6298 	clr	a
   1708 F0                 6299 	movx	@dptr,a
                           6300 ;	../../include/ztex-isr.h:308: EXIF &= ~bmBIT4;			// clear main USB interrupt flag
   1709 53 91 EF           6301 	anl	_EXIF,#0xEF
                           6302 ;	../../include/ztex-isr.h:309: USBIRQ = bmBIT0;			// clear SUADV IRQ
   170C 90 E6 5D           6303 	mov	dptr,#_USBIRQ
   170F 74 01              6304 	mov	a,#0x01
   1711 F0                 6305 	movx	@dptr,a
                           6306 ;	../../include/ztex-isr.h:310: return;					// don't clear HSNAK bit. This is done after the command has completed
   1712 80 19              6307 	sjmp	00188$
   1714                    6308 00185$:
                           6309 ;	../../include/ztex-isr.h:312: ep0_vendor_cmd_su();			// setup sequences of vendor command with no payload ara executed immediately
   1714 12s10r21           6310 	lcall	_ep0_vendor_cmd_su
                           6311 ;	../../include/ztex-isr.h:313: EP0BCL = 0;
   1717 90 E6 8B           6312 	mov	dptr,#_EP0BCL
   171A E4                 6313 	clr	a
   171B F0                 6314 	movx	@dptr,a
                           6315 ;	../../include/ztex-isr.h:315: }
   171C                    6316 00187$:
                           6317 ;	../../include/ztex-isr.h:317: EXIF &= ~bmBIT4;					// clear main USB interrupt flag
   171C 53 91 EF           6318 	anl	_EXIF,#0xEF
                           6319 ;	../../include/ztex-isr.h:318: USBIRQ = bmBIT0;					// clear SUADV IRQ
   171F 90 E6 5D           6320 	mov	dptr,#_USBIRQ
   1722 74 01              6321 	mov	a,#0x01
   1724 F0                 6322 	movx	@dptr,a
                           6323 ;	../../include/ztex-isr.h:319: EP0CS |= 0x80;					// clear the HSNAK bit
   1725 90 E6 A0           6324 	mov	dptr,#_EP0CS
   1728 E0                 6325 	movx	a,@dptr
   1729 FA                 6326 	mov	r2,a
   172A 44 80              6327 	orl	a,#0x80
   172C F0                 6328 	movx	@dptr,a
   172D                    6329 00188$:
   172D D0 D0              6330 	pop	psw
   172F D0 01              6331 	pop	(0+1)
   1731 D0 00              6332 	pop	(0+0)
   1733 D0 07              6333 	pop	(0+7)
   1735 D0 06              6334 	pop	(0+6)
   1737 D0 05              6335 	pop	(0+5)
   1739 D0 04              6336 	pop	(0+4)
   173B D0 03              6337 	pop	(0+3)
   173D D0 02              6338 	pop	(0+2)
   173F D0 83              6339 	pop	dph
   1741 D0 82              6340 	pop	dpl
   1743 D0 F0              6341 	pop	b
   1745 D0 E0              6342 	pop	acc
   1747 D0*00              6343 	pop	bits
   1749 32                 6344 	reti
                           6345 ;------------------------------------------------------------
                           6346 ;Allocation info for local variables in function 'SOF_ISR'
                           6347 ;------------------------------------------------------------
                           6348 ;------------------------------------------------------------
                           6349 ;	../../include/ztex-isr.h:325: void SOF_ISR() __interrupt
                           6350 ;	-----------------------------------------
                           6351 ;	 function SOF_ISR
                           6352 ;	-----------------------------------------
   174A                    6353 _SOF_ISR:
   174A C0 E0              6354 	push	acc
   174C C0 82              6355 	push	dpl
   174E C0 83              6356 	push	dph
                           6357 ;	../../include/ztex-isr.h:327: EXIF &= ~bmBIT4;
   1750 53 91 EF           6358 	anl	_EXIF,#0xEF
                           6359 ;	../../include/ztex-isr.h:328: USBIRQ = bmBIT1;
   1753 90 E6 5D           6360 	mov	dptr,#_USBIRQ
   1756 74 02              6361 	mov	a,#0x02
   1758 F0                 6362 	movx	@dptr,a
   1759 D0 83              6363 	pop	dph
   175B D0 82              6364 	pop	dpl
   175D D0 E0              6365 	pop	acc
   175F 32                 6366 	reti
                           6367 ;	eliminated unneeded push/pop psw
                           6368 ;	eliminated unneeded push/pop b
                           6369 ;------------------------------------------------------------
                           6370 ;Allocation info for local variables in function 'SUTOK_ISR'
                           6371 ;------------------------------------------------------------
                           6372 ;------------------------------------------------------------
                           6373 ;	../../include/ztex-isr.h:334: void SUTOK_ISR() __interrupt 
                           6374 ;	-----------------------------------------
                           6375 ;	 function SUTOK_ISR
                           6376 ;	-----------------------------------------
   1760                    6377 _SUTOK_ISR:
   1760 C0 E0              6378 	push	acc
   1762 C0 82              6379 	push	dpl
   1764 C0 83              6380 	push	dph
                           6381 ;	../../include/ztex-isr.h:336: EXIF &= ~bmBIT4;
   1766 53 91 EF           6382 	anl	_EXIF,#0xEF
                           6383 ;	../../include/ztex-isr.h:337: USBIRQ = bmBIT2;
   1769 90 E6 5D           6384 	mov	dptr,#_USBIRQ
   176C 74 04              6385 	mov	a,#0x04
   176E F0                 6386 	movx	@dptr,a
   176F D0 83              6387 	pop	dph
   1771 D0 82              6388 	pop	dpl
   1773 D0 E0              6389 	pop	acc
   1775 32                 6390 	reti
                           6391 ;	eliminated unneeded push/pop psw
                           6392 ;	eliminated unneeded push/pop b
                           6393 ;------------------------------------------------------------
                           6394 ;Allocation info for local variables in function 'SUSP_ISR'
                           6395 ;------------------------------------------------------------
                           6396 ;------------------------------------------------------------
                           6397 ;	../../include/ztex-isr.h:343: void SUSP_ISR() __interrupt
                           6398 ;	-----------------------------------------
                           6399 ;	 function SUSP_ISR
                           6400 ;	-----------------------------------------
   1776                    6401 _SUSP_ISR:
   1776 C0 E0              6402 	push	acc
   1778 C0 82              6403 	push	dpl
   177A C0 83              6404 	push	dph
                           6405 ;	../../include/ztex-isr.h:345: EXIF &= ~bmBIT4;
   177C 53 91 EF           6406 	anl	_EXIF,#0xEF
                           6407 ;	../../include/ztex-isr.h:346: USBIRQ = bmBIT3;
   177F 90 E6 5D           6408 	mov	dptr,#_USBIRQ
   1782 74 08              6409 	mov	a,#0x08
   1784 F0                 6410 	movx	@dptr,a
   1785 D0 83              6411 	pop	dph
   1787 D0 82              6412 	pop	dpl
   1789 D0 E0              6413 	pop	acc
   178B 32                 6414 	reti
                           6415 ;	eliminated unneeded push/pop psw
                           6416 ;	eliminated unneeded push/pop b
                           6417 ;------------------------------------------------------------
                           6418 ;Allocation info for local variables in function 'URES_ISR'
                           6419 ;------------------------------------------------------------
                           6420 ;------------------------------------------------------------
                           6421 ;	../../include/ztex-isr.h:352: void URES_ISR() __interrupt
                           6422 ;	-----------------------------------------
                           6423 ;	 function URES_ISR
                           6424 ;	-----------------------------------------
   178C                    6425 _URES_ISR:
   178C C0 E0              6426 	push	acc
   178E C0 82              6427 	push	dpl
   1790 C0 83              6428 	push	dph
                           6429 ;	../../include/ztex-isr.h:354: EXIF &= ~bmBIT4;
   1792 53 91 EF           6430 	anl	_EXIF,#0xEF
                           6431 ;	../../include/ztex-isr.h:355: USBIRQ = bmBIT4;
   1795 90 E6 5D           6432 	mov	dptr,#_USBIRQ
   1798 74 10              6433 	mov	a,#0x10
   179A F0                 6434 	movx	@dptr,a
   179B D0 83              6435 	pop	dph
   179D D0 82              6436 	pop	dpl
   179F D0 E0              6437 	pop	acc
   17A1 32                 6438 	reti
                           6439 ;	eliminated unneeded push/pop psw
                           6440 ;	eliminated unneeded push/pop b
                           6441 ;------------------------------------------------------------
                           6442 ;Allocation info for local variables in function 'HSGRANT_ISR'
                           6443 ;------------------------------------------------------------
                           6444 ;------------------------------------------------------------
                           6445 ;	../../include/ztex-isr.h:361: void HSGRANT_ISR() __interrupt
                           6446 ;	-----------------------------------------
                           6447 ;	 function HSGRANT_ISR
                           6448 ;	-----------------------------------------
   17A2                    6449 _HSGRANT_ISR:
   17A2 C0 E0              6450 	push	acc
   17A4 C0 82              6451 	push	dpl
   17A6 C0 83              6452 	push	dph
                           6453 ;	../../include/ztex-isr.h:363: EXIF &= ~bmBIT4;
   17A8 53 91 EF           6454 	anl	_EXIF,#0xEF
                           6455 ;	../../include/ztex-isr.h:365: USBIRQ = bmBIT5;
   17AB 90 E6 5D           6456 	mov	dptr,#_USBIRQ
   17AE 74 20              6457 	mov	a,#0x20
   17B0 F0                 6458 	movx	@dptr,a
   17B1 D0 83              6459 	pop	dph
   17B3 D0 82              6460 	pop	dpl
   17B5 D0 E0              6461 	pop	acc
   17B7 32                 6462 	reti
                           6463 ;	eliminated unneeded push/pop psw
                           6464 ;	eliminated unneeded push/pop b
                           6465 ;------------------------------------------------------------
                           6466 ;Allocation info for local variables in function 'EP0ACK_ISR'
                           6467 ;------------------------------------------------------------
                           6468 ;------------------------------------------------------------
                           6469 ;	../../include/ztex-isr.h:371: void EP0ACK_ISR() __interrupt
                           6470 ;	-----------------------------------------
                           6471 ;	 function EP0ACK_ISR
                           6472 ;	-----------------------------------------
   17B8                    6473 _EP0ACK_ISR:
   17B8 C0 E0              6474 	push	acc
   17BA C0 82              6475 	push	dpl
   17BC C0 83              6476 	push	dph
                           6477 ;	../../include/ztex-isr.h:373: EXIF &= ~bmBIT4;	// clear USB interrupt flag
   17BE 53 91 EF           6478 	anl	_EXIF,#0xEF
                           6479 ;	../../include/ztex-isr.h:374: USBIRQ = bmBIT6;	// clear EP0ACK IRQ
   17C1 90 E6 5D           6480 	mov	dptr,#_USBIRQ
   17C4 74 40              6481 	mov	a,#0x40
   17C6 F0                 6482 	movx	@dptr,a
   17C7 D0 83              6483 	pop	dph
   17C9 D0 82              6484 	pop	dpl
   17CB D0 E0              6485 	pop	acc
   17CD 32                 6486 	reti
                           6487 ;	eliminated unneeded push/pop psw
                           6488 ;	eliminated unneeded push/pop b
                           6489 ;------------------------------------------------------------
                           6490 ;Allocation info for local variables in function 'EP0IN_ISR'
                           6491 ;------------------------------------------------------------
                           6492 ;------------------------------------------------------------
                           6493 ;	../../include/ztex-isr.h:380: static void EP0IN_ISR () __interrupt
                           6494 ;	-----------------------------------------
                           6495 ;	 function EP0IN_ISR
                           6496 ;	-----------------------------------------
   17CE                    6497 _EP0IN_ISR:
   17CE C0*00              6498 	push	bits
   17D0 C0 E0              6499 	push	acc
   17D2 C0 F0              6500 	push	b
   17D4 C0 82              6501 	push	dpl
   17D6 C0 83              6502 	push	dph
   17D8 C0 02              6503 	push	(0+2)
   17DA C0 03              6504 	push	(0+3)
   17DC C0 04              6505 	push	(0+4)
   17DE C0 05              6506 	push	(0+5)
   17E0 C0 06              6507 	push	(0+6)
   17E2 C0 07              6508 	push	(0+7)
   17E4 C0 00              6509 	push	(0+0)
   17E6 C0 01              6510 	push	(0+1)
   17E8 C0 D0              6511 	push	psw
   17EA 75 D0 00           6512 	mov	psw,#0x00
                           6513 ;	../../include/ztex-isr.h:382: EUSB = 0;			// block all USB interrupts
   17ED C2 E8              6514 	clr	_EUSB
                           6515 ;	../../include/ztex-isr.h:383: ep0_payload_update();
   17EF 12s0FrF4           6516 	lcall	_ep0_payload_update
                           6517 ;	../../include/ztex-isr.h:384: switch ( ep0_prev_setup_request ) {
   17F2 90s00r43           6518 	mov	dptr,#_ep0_prev_setup_request
   17F5 E0                 6519 	movx	a,@dptr
   17F6 FA                 6520 	mov	r2,a
   17F7 BA 30 03           6521 	cjne	r2,#0x30,00126$
   17FA 02s18r6E           6522 	ljmp	00113$
   17FD                    6523 00126$:
   17FD BA 33 03           6524 	cjne	r2,#0x33,00127$
   1800 02s18r6E           6525 	ljmp	00113$
   1803                    6526 00127$:
   1803 BA 38 02           6527 	cjne	r2,#0x38,00128$
   1806 80 1E              6528 	sjmp	00101$
   1808                    6529 00128$:
   1808 BA 3A 02           6530 	cjne	r2,#0x3A,00129$
   180B 80 61              6531 	sjmp	00113$
   180D                    6532 00129$:
   180D BA 3B 02           6533 	cjne	r2,#0x3B,00130$
   1810 80 24              6534 	sjmp	00103$
   1812                    6535 00130$:
   1812 BA 3D 02           6536 	cjne	r2,#0x3D,00131$
   1815 80 57              6537 	sjmp	00113$
   1817                    6538 00131$:
   1817 BA 40 02           6539 	cjne	r2,#0x40,00132$
   181A 80 52              6540 	sjmp	00113$
   181C                    6541 00132$:
   181C BA 41 02           6542 	cjne	r2,#0x41,00133$
   181F 80 25              6543 	sjmp	00106$
   1821                    6544 00133$:
                           6545 ;	../../include/ztex-conf.h:105: case $0:
   1821 BA 43 41           6546 	cjne	r2,#0x43,00112$
   1824 80 48              6547 	sjmp	00113$
   1826                    6548 00101$:
                           6549 ;	../../include/ztex-eeprom.h:222: EP0BCH = 0;
   1826 90 E6 8A           6550 	mov	dptr,#_EP0BCH
   1829 E4                 6551 	clr	a
   182A F0                 6552 	movx	@dptr,a
                           6553 ;	../../include/ztex-eeprom.h:223: EP0BCL = eeprom_read_ep0(); 
   182B 12s03r0F           6554 	lcall	_eeprom_read_ep0
   182E E5 82              6555 	mov	a,dpl
   1830 90 E6 8B           6556 	mov	dptr,#_EP0BCL
   1833 F0                 6557 	movx	@dptr,a
                           6558 ;	../../include/ztex-conf.h:107: break;
                           6559 ;	../../include/ztex-conf.h:105: case $0:
   1834 80 38              6560 	sjmp	00113$
   1836                    6561 00103$:
                           6562 ;	../../include/ztex-eeprom.h:371: EP0BCH = 0;
   1836 90 E6 8A           6563 	mov	dptr,#_EP0BCH
   1839 E4                 6564 	clr	a
   183A F0                 6565 	movx	@dptr,a
                           6566 ;	../../include/ztex-eeprom.h:372: EP0BCL = mac_eeprom_read_ep0(); 
   183B 12s05r55           6567 	lcall	_mac_eeprom_read_ep0
   183E E5 82              6568 	mov	a,dpl
   1840 90 E6 8B           6569 	mov	dptr,#_EP0BCL
   1843 F0                 6570 	movx	@dptr,a
                           6571 ;	../../include/ztex-conf.h:107: break;
                           6572 ;	../../include/ztex-conf.h:105: case $0:
   1844 80 28              6573 	sjmp	00113$
   1846                    6574 00106$:
                           6575 ;	../../include/ztex-flash2.h:675: if ( ep0_payload_transfer != 0 ) {
   1846 90s00r02           6576 	mov	dptr,#_ep0_payload_transfer
   1849 E0                 6577 	movx	a,@dptr
   184A FA                 6578 	mov	r2,a
   184B 60 08              6579 	jz	00108$
                           6580 ;	../../include/ztex-flash2.h:676: flash_ec = 0;
   184D 90s00r0E           6581 	mov	dptr,#_flash_ec
   1850 E4                 6582 	clr	a
   1851 F0                 6583 	movx	@dptr,a
                           6584 ;	../../include/ztex-flash2.h:677: spi_read_ep0(); 
   1852 12s0Ar7D           6585 	lcall	_spi_read_ep0
   1855                    6586 00108$:
                           6587 ;	../../include/ztex-flash2.h:679: EP0BCH = 0;
   1855 90 E6 8A           6588 	mov	dptr,#_EP0BCH
   1858 E4                 6589 	clr	a
   1859 F0                 6590 	movx	@dptr,a
                           6591 ;	../../include/ztex-flash2.h:680: EP0BCL = ep0_payload_transfer;
   185A 90s00r02           6592 	mov	dptr,#_ep0_payload_transfer
   185D E0                 6593 	movx	a,@dptr
   185E FA                 6594 	mov	r2,a
   185F 90 E6 8B           6595 	mov	dptr,#_EP0BCL
   1862 F0                 6596 	movx	@dptr,a
                           6597 ;	../../include/ztex-conf.h:107: break;
                           6598 ;	../../include/ztex-isr.h:386: default:
   1863 80 09              6599 	sjmp	00113$
   1865                    6600 00112$:
                           6601 ;	../../include/ztex-isr.h:387: EP0BCH = 0;
   1865 90 E6 8A           6602 	mov	dptr,#_EP0BCH
                           6603 ;	../../include/ztex-isr.h:388: EP0BCL = 0;
   1868 E4                 6604 	clr	a
   1869 F0                 6605 	movx	@dptr,a
   186A 90 E6 8B           6606 	mov	dptr,#_EP0BCL
   186D F0                 6607 	movx	@dptr,a
                           6608 ;	../../include/ztex-isr.h:389: }
   186E                    6609 00113$:
                           6610 ;	../../include/ztex-isr.h:390: EXIF &= ~bmBIT4;		// clear USB interrupt flag
   186E 53 91 EF           6611 	anl	_EXIF,#0xEF
                           6612 ;	../../include/ztex-isr.h:391: EPIRQ = bmBIT0;		// clear EP0IN IRQ
   1871 90 E6 5F           6613 	mov	dptr,#_EPIRQ
   1874 74 01              6614 	mov	a,#0x01
   1876 F0                 6615 	movx	@dptr,a
                           6616 ;	../../include/ztex-isr.h:392: EUSB = 1;
   1877 D2 E8              6617 	setb	_EUSB
   1879 D0 D0              6618 	pop	psw
   187B D0 01              6619 	pop	(0+1)
   187D D0 00              6620 	pop	(0+0)
   187F D0 07              6621 	pop	(0+7)
   1881 D0 06              6622 	pop	(0+6)
   1883 D0 05              6623 	pop	(0+5)
   1885 D0 04              6624 	pop	(0+4)
   1887 D0 03              6625 	pop	(0+3)
   1889 D0 02              6626 	pop	(0+2)
   188B D0 83              6627 	pop	dph
   188D D0 82              6628 	pop	dpl
   188F D0 F0              6629 	pop	b
   1891 D0 E0              6630 	pop	acc
   1893 D0*00              6631 	pop	bits
   1895 32                 6632 	reti
                           6633 ;------------------------------------------------------------
                           6634 ;Allocation info for local variables in function 'EP0OUT_ISR'
                           6635 ;------------------------------------------------------------
                           6636 ;------------------------------------------------------------
                           6637 ;	../../include/ztex-isr.h:398: static void EP0OUT_ISR () __interrupt
                           6638 ;	-----------------------------------------
                           6639 ;	 function EP0OUT_ISR
                           6640 ;	-----------------------------------------
   1896                    6641 _EP0OUT_ISR:
   1896 C0*00              6642 	push	bits
   1898 C0 E0              6643 	push	acc
   189A C0 F0              6644 	push	b
   189C C0 82              6645 	push	dpl
   189E C0 83              6646 	push	dph
   18A0 C0 02              6647 	push	(0+2)
   18A2 C0 03              6648 	push	(0+3)
   18A4 C0 04              6649 	push	(0+4)
   18A6 C0 05              6650 	push	(0+5)
   18A8 C0 06              6651 	push	(0+6)
   18AA C0 07              6652 	push	(0+7)
   18AC C0 00              6653 	push	(0+0)
   18AE C0 01              6654 	push	(0+1)
   18B0 C0 D0              6655 	push	psw
   18B2 75 D0 00           6656 	mov	psw,#0x00
                           6657 ;	../../include/ztex-isr.h:400: EUSB = 0;			// block all USB interrupts
   18B5 C2 E8              6658 	clr	_EUSB
                           6659 ;	../../include/ztex-isr.h:401: if ( ep0_vendor_cmd_setup ) {
   18B7 90s00r44           6660 	mov	dptr,#_ep0_vendor_cmd_setup
   18BA E0                 6661 	movx	a,@dptr
   18BB FA                 6662 	mov	r2,a
   18BC 60 20              6663 	jz	00102$
                           6664 ;	../../include/ztex-isr.h:402: ep0_vendor_cmd_setup = 0;
   18BE 90s00r44           6665 	mov	dptr,#_ep0_vendor_cmd_setup
   18C1 E4                 6666 	clr	a
   18C2 F0                 6667 	movx	@dptr,a
                           6668 ;	../../include/ztex-isr.h:403: ep0_payload_remaining = (SETUPDAT[7] << 8) | SETUPDAT[6];
   18C3 90 E6 BF           6669 	mov	dptr,#(_SETUPDAT + 0x0007)
   18C6 E0                 6670 	movx	a,@dptr
   18C7 FB                 6671 	mov	r3,a
   18C8 7A 00              6672 	mov	r2,#0x00
   18CA 90 E6 BE           6673 	mov	dptr,#(_SETUPDAT + 0x0006)
   18CD E0                 6674 	movx	a,@dptr
   18CE FC                 6675 	mov	r4,a
   18CF 7D 00              6676 	mov	r5,#0x00
   18D1 90s00r00           6677 	mov	dptr,#_ep0_payload_remaining
   18D4 EC                 6678 	mov	a,r4
   18D5 4A                 6679 	orl	a,r2
   18D6 F0                 6680 	movx	@dptr,a
   18D7 ED                 6681 	mov	a,r5
   18D8 4B                 6682 	orl	a,r3
   18D9 A3                 6683 	inc	dptr
   18DA F0                 6684 	movx	@dptr,a
                           6685 ;	../../include/ztex-isr.h:404: ep0_vendor_cmd_su();
   18DB 12s10r21           6686 	lcall	_ep0_vendor_cmd_su
   18DE                    6687 00102$:
                           6688 ;	../../include/ztex-isr.h:407: ep0_payload_update();
   18DE 12s0FrF4           6689 	lcall	_ep0_payload_update
                           6690 ;	../../include/ztex-isr.h:409: switch ( ep0_prev_setup_request ) {
   18E1 90s00r43           6691 	mov	dptr,#_ep0_prev_setup_request
   18E4 E0                 6692 	movx	a,@dptr
   18E5 FA                 6693 	mov	r2,a
   18E6 BA 31 03           6694 	cjne	r2,#0x31,00131$
   18E9 02s19r56           6695 	ljmp	00114$
   18EC                    6696 00131$:
   18EC BA 32 02           6697 	cjne	r2,#0x32,00132$
   18EF 80 62              6698 	sjmp	00111$
   18F1                    6699 00132$:
   18F1 BA 34 02           6700 	cjne	r2,#0x34,00133$
   18F4 80 60              6701 	sjmp	00114$
   18F6                    6702 00133$:
   18F6 BA 35 02           6703 	cjne	r2,#0x35,00134$
   18F9 80 5B              6704 	sjmp	00114$
   18FB                    6705 00134$:
   18FB BA 39 02           6706 	cjne	r2,#0x39,00135$
   18FE 80 0A              6707 	sjmp	00103$
   1900                    6708 00135$:
   1900 BA 3C 02           6709 	cjne	r2,#0x3C,00136$
   1903 80 10              6710 	sjmp	00104$
   1905                    6711 00136$:
                           6712 ;	../../include/ztex-conf.h:128: case $0:			
   1905 BA 42 4E           6713 	cjne	r2,#0x42,00114$
   1908 80 1F              6714 	sjmp	00105$
   190A                    6715 00103$:
                           6716 ;	../../include/ztex-eeprom.h:240: eeprom_write_ep0(EP0BCL);
   190A 90 E6 8B           6717 	mov	dptr,#_EP0BCL
   190D E0                 6718 	movx	a,@dptr
   190E F5 82              6719 	mov	dpl,a
   1910 12s03r43           6720 	lcall	_eeprom_write_ep0
                           6721 ;	../../include/ztex-conf.h:130: break;
                           6722 ;	../../include/ztex-conf.h:128: case $0:			
   1913 80 41              6723 	sjmp	00114$
   1915                    6724 00104$:
                           6725 ;	../../include/ztex-eeprom.h:382: mac_eeprom_write(EP0BUF, mac_eeprom_addr, EP0BCL);
   1915 90s00r05           6726 	mov	dptr,#_mac_eeprom_addr
   1918 E0                 6727 	movx	a,@dptr
   1919 F5*0A              6728 	mov	_mac_eeprom_write_PARM_2,a
   191B 90 E6 8B           6729 	mov	dptr,#_EP0BCL
   191E E0                 6730 	movx	a,@dptr
   191F F5*0B              6731 	mov	_mac_eeprom_write_PARM_3,a
   1921 90 E7 40           6732 	mov	dptr,#_EP0BUF
   1924 12s04r5D           6733 	lcall	_mac_eeprom_write
                           6734 ;	../../include/ztex-conf.h:130: break;
                           6735 ;	../../include/ztex-conf.h:128: case $0:			
   1927 80 2D              6736 	sjmp	00114$
   1929                    6737 00105$:
                           6738 ;	../../include/ztex-flash2.h:699: if ( ep0_payload_transfer != 0 ) {
   1929 90s00r02           6739 	mov	dptr,#_ep0_payload_transfer
   192C E0                 6740 	movx	a,@dptr
   192D FA                 6741 	mov	r2,a
   192E 60 26              6742 	jz	00114$
                           6743 ;	../../include/ztex-flash2.h:700: flash_ec = 0;
   1930 90s00r0E           6744 	mov	dptr,#_flash_ec
   1933 E4                 6745 	clr	a
   1934 F0                 6746 	movx	@dptr,a
                           6747 ;	../../include/ztex-flash2.h:701: spi_send_ep0();
   1935 12s0ArA0           6748 	lcall	_spi_send_ep0
                           6749 ;	../../include/ztex-flash2.h:702: if ( flash_ec != 0 ) {
   1938 90s00r0E           6750 	mov	dptr,#_flash_ec
   193B E0                 6751 	movx	a,@dptr
   193C FA                 6752 	mov	r2,a
   193D 60 17              6753 	jz	00114$
                           6754 ;	../../include/ztex-flash2.h:703: spi_deselect();
   193F 12s06r89           6755 	lcall	_spi_deselect
                           6756 ;	../../include/ztex-conf.h:137: EP0CS |= 0x01;	// set stall
   1942 90 E6 A0           6757 	mov	dptr,#_EP0CS
   1945 E0                 6758 	movx	a,@dptr
   1946 FA                 6759 	mov	r2,a
   1947 44 01              6760 	orl	a,#0x01
   1949 F0                 6761 	movx	@dptr,a
                           6762 ;	../../include/ztex-conf.h:138: ep0_payload_remaining = 0;
   194A 90s00r00           6763 	mov	dptr,#_ep0_payload_remaining
   194D E4                 6764 	clr	a
   194E F0                 6765 	movx	@dptr,a
   194F A3                 6766 	inc	dptr
   1950 F0                 6767 	movx	@dptr,a
                           6768 ;	../../include/ztex-conf.h:139: break;
                           6769 ;	../../include/ztex-conf.h:128: case $0:			
   1951 80 03              6770 	sjmp	00114$
   1953                    6771 00111$:
                           6772 ;	../../include/ztex-fpga6.h:202: fpga_send_ep0();
   1953 12s0BrBB           6773 	lcall	_fpga_send_ep0
                           6774 ;	../../include/ztex-isr.h:411: } 
   1956                    6775 00114$:
                           6776 ;	../../include/ztex-isr.h:413: EP0BCL = 0;
   1956 90 E6 8B           6777 	mov	dptr,#_EP0BCL
   1959 E4                 6778 	clr	a
   195A F0                 6779 	movx	@dptr,a
                           6780 ;	../../include/ztex-isr.h:415: EXIF &= ~bmBIT4;		// clear main USB interrupt flag
   195B 53 91 EF           6781 	anl	_EXIF,#0xEF
                           6782 ;	../../include/ztex-isr.h:416: EPIRQ = bmBIT1;		// clear EP0OUT IRQ
   195E 90 E6 5F           6783 	mov	dptr,#_EPIRQ
   1961 74 02              6784 	mov	a,#0x02
   1963 F0                 6785 	movx	@dptr,a
                           6786 ;	../../include/ztex-isr.h:417: if ( ep0_payload_remaining == 0 ) {
   1964 90s00r00           6787 	mov	dptr,#_ep0_payload_remaining
   1967 E0                 6788 	movx	a,@dptr
   1968 FA                 6789 	mov	r2,a
   1969 A3                 6790 	inc	dptr
   196A E0                 6791 	movx	a,@dptr
   196B FB                 6792 	mov	r3,a
   196C 4A                 6793 	orl	a,r2
   196D 70 08              6794 	jnz	00116$
                           6795 ;	../../include/ztex-isr.h:418: EP0CS |= 0x80; 		// clear the HSNAK bit
   196F 90 E6 A0           6796 	mov	dptr,#_EP0CS
   1972 E0                 6797 	movx	a,@dptr
   1973 FA                 6798 	mov	r2,a
   1974 44 80              6799 	orl	a,#0x80
   1976 F0                 6800 	movx	@dptr,a
   1977                    6801 00116$:
                           6802 ;	../../include/ztex-isr.h:420: EUSB = 1;
   1977 D2 E8              6803 	setb	_EUSB
   1979 D0 D0              6804 	pop	psw
   197B D0 01              6805 	pop	(0+1)
   197D D0 00              6806 	pop	(0+0)
   197F D0 07              6807 	pop	(0+7)
   1981 D0 06              6808 	pop	(0+6)
   1983 D0 05              6809 	pop	(0+5)
   1985 D0 04              6810 	pop	(0+4)
   1987 D0 03              6811 	pop	(0+3)
   1989 D0 02              6812 	pop	(0+2)
   198B D0 83              6813 	pop	dph
   198D D0 82              6814 	pop	dpl
   198F D0 F0              6815 	pop	b
   1991 D0 E0              6816 	pop	acc
   1993 D0*00              6817 	pop	bits
   1995 32                 6818 	reti
                           6819 ;------------------------------------------------------------
                           6820 ;Allocation info for local variables in function 'EP1IN_ISR'
                           6821 ;------------------------------------------------------------
                           6822 ;------------------------------------------------------------
                           6823 ;	../../include/ztex-isr.h:427: void EP1IN_ISR() __interrupt
                           6824 ;	-----------------------------------------
                           6825 ;	 function EP1IN_ISR
                           6826 ;	-----------------------------------------
   1996                    6827 _EP1IN_ISR:
   1996 C0 E0              6828 	push	acc
   1998 C0 82              6829 	push	dpl
   199A C0 83              6830 	push	dph
                           6831 ;	../../include/ztex-isr.h:429: EXIF &= ~bmBIT4;
   199C 53 91 EF           6832 	anl	_EXIF,#0xEF
                           6833 ;	../../include/ztex-isr.h:430: EPIRQ = bmBIT2;
   199F 90 E6 5F           6834 	mov	dptr,#_EPIRQ
   19A2 74 04              6835 	mov	a,#0x04
   19A4 F0                 6836 	movx	@dptr,a
   19A5 D0 83              6837 	pop	dph
   19A7 D0 82              6838 	pop	dpl
   19A9 D0 E0              6839 	pop	acc
   19AB 32                 6840 	reti
                           6841 ;	eliminated unneeded push/pop psw
                           6842 ;	eliminated unneeded push/pop b
                           6843 ;------------------------------------------------------------
                           6844 ;Allocation info for local variables in function 'EP1OUT_ISR'
                           6845 ;------------------------------------------------------------
                           6846 ;------------------------------------------------------------
                           6847 ;	../../include/ztex-isr.h:437: void EP1OUT_ISR() __interrupt
                           6848 ;	-----------------------------------------
                           6849 ;	 function EP1OUT_ISR
                           6850 ;	-----------------------------------------
   19AC                    6851 _EP1OUT_ISR:
   19AC C0 E0              6852 	push	acc
   19AE C0 82              6853 	push	dpl
   19B0 C0 83              6854 	push	dph
                           6855 ;	../../include/ztex-isr.h:439: EXIF &= ~bmBIT4;
   19B2 53 91 EF           6856 	anl	_EXIF,#0xEF
                           6857 ;	../../include/ztex-isr.h:440: EPIRQ = bmBIT3;
   19B5 90 E6 5F           6858 	mov	dptr,#_EPIRQ
   19B8 74 08              6859 	mov	a,#0x08
   19BA F0                 6860 	movx	@dptr,a
   19BB D0 83              6861 	pop	dph
   19BD D0 82              6862 	pop	dpl
   19BF D0 E0              6863 	pop	acc
   19C1 32                 6864 	reti
                           6865 ;	eliminated unneeded push/pop psw
                           6866 ;	eliminated unneeded push/pop b
                           6867 ;------------------------------------------------------------
                           6868 ;Allocation info for local variables in function 'EP2_ISR'
                           6869 ;------------------------------------------------------------
                           6870 ;------------------------------------------------------------
                           6871 ;	../../include/ztex-isr.h:446: void EP2_ISR() __interrupt
                           6872 ;	-----------------------------------------
                           6873 ;	 function EP2_ISR
                           6874 ;	-----------------------------------------
   19C2                    6875 _EP2_ISR:
   19C2 C0 E0              6876 	push	acc
   19C4 C0 82              6877 	push	dpl
   19C6 C0 83              6878 	push	dph
                           6879 ;	../../include/ztex-isr.h:448: EXIF &= ~bmBIT4;
   19C8 53 91 EF           6880 	anl	_EXIF,#0xEF
                           6881 ;	../../include/ztex-isr.h:449: EPIRQ = bmBIT4;
   19CB 90 E6 5F           6882 	mov	dptr,#_EPIRQ
   19CE 74 10              6883 	mov	a,#0x10
   19D0 F0                 6884 	movx	@dptr,a
   19D1 D0 83              6885 	pop	dph
   19D3 D0 82              6886 	pop	dpl
   19D5 D0 E0              6887 	pop	acc
   19D7 32                 6888 	reti
                           6889 ;	eliminated unneeded push/pop psw
                           6890 ;	eliminated unneeded push/pop b
                           6891 ;------------------------------------------------------------
                           6892 ;Allocation info for local variables in function 'EP4_ISR'
                           6893 ;------------------------------------------------------------
                           6894 ;------------------------------------------------------------
                           6895 ;	../../include/ztex-isr.h:455: void EP4_ISR() __interrupt
                           6896 ;	-----------------------------------------
                           6897 ;	 function EP4_ISR
                           6898 ;	-----------------------------------------
   19D8                    6899 _EP4_ISR:
   19D8 C0 E0              6900 	push	acc
   19DA C0 82              6901 	push	dpl
   19DC C0 83              6902 	push	dph
                           6903 ;	../../include/ztex-isr.h:457: EXIF &= ~bmBIT4;
   19DE 53 91 EF           6904 	anl	_EXIF,#0xEF
                           6905 ;	../../include/ztex-isr.h:458: EPIRQ = bmBIT5;
   19E1 90 E6 5F           6906 	mov	dptr,#_EPIRQ
   19E4 74 20              6907 	mov	a,#0x20
   19E6 F0                 6908 	movx	@dptr,a
   19E7 D0 83              6909 	pop	dph
   19E9 D0 82              6910 	pop	dpl
   19EB D0 E0              6911 	pop	acc
   19ED 32                 6912 	reti
                           6913 ;	eliminated unneeded push/pop psw
                           6914 ;	eliminated unneeded push/pop b
                           6915 ;------------------------------------------------------------
                           6916 ;Allocation info for local variables in function 'EP6_ISR'
                           6917 ;------------------------------------------------------------
                           6918 ;------------------------------------------------------------
                           6919 ;	../../include/ztex-isr.h:464: void EP6_ISR() __interrupt
                           6920 ;	-----------------------------------------
                           6921 ;	 function EP6_ISR
                           6922 ;	-----------------------------------------
   19EE                    6923 _EP6_ISR:
   19EE C0 E0              6924 	push	acc
   19F0 C0 82              6925 	push	dpl
   19F2 C0 83              6926 	push	dph
                           6927 ;	../../include/ztex-isr.h:466: EXIF &= ~bmBIT4;
   19F4 53 91 EF           6928 	anl	_EXIF,#0xEF
                           6929 ;	../../include/ztex-isr.h:467: EPIRQ = bmBIT6;
   19F7 90 E6 5F           6930 	mov	dptr,#_EPIRQ
   19FA 74 40              6931 	mov	a,#0x40
   19FC F0                 6932 	movx	@dptr,a
   19FD D0 83              6933 	pop	dph
   19FF D0 82              6934 	pop	dpl
   1A01 D0 E0              6935 	pop	acc
   1A03 32                 6936 	reti
                           6937 ;	eliminated unneeded push/pop psw
                           6938 ;	eliminated unneeded push/pop b
                           6939 ;------------------------------------------------------------
                           6940 ;Allocation info for local variables in function 'EP8_ISR'
                           6941 ;------------------------------------------------------------
                           6942 ;------------------------------------------------------------
                           6943 ;	../../include/ztex-isr.h:473: void EP8_ISR() __interrupt
                           6944 ;	-----------------------------------------
                           6945 ;	 function EP8_ISR
                           6946 ;	-----------------------------------------
   1A04                    6947 _EP8_ISR:
   1A04 C0 E0              6948 	push	acc
   1A06 C0 82              6949 	push	dpl
   1A08 C0 83              6950 	push	dph
                           6951 ;	../../include/ztex-isr.h:475: EXIF &= ~bmBIT4;
   1A0A 53 91 EF           6952 	anl	_EXIF,#0xEF
                           6953 ;	../../include/ztex-isr.h:476: EPIRQ = bmBIT7;
   1A0D 90 E6 5F           6954 	mov	dptr,#_EPIRQ
   1A10 74 80              6955 	mov	a,#0x80
   1A12 F0                 6956 	movx	@dptr,a
   1A13 D0 83              6957 	pop	dph
   1A15 D0 82              6958 	pop	dpl
   1A17 D0 E0              6959 	pop	acc
   1A19 32                 6960 	reti
                           6961 ;	eliminated unneeded push/pop psw
                           6962 ;	eliminated unneeded push/pop b
                           6963 ;------------------------------------------------------------
                           6964 ;Allocation info for local variables in function 'mac_eeprom_init'
                           6965 ;------------------------------------------------------------
                           6966 ;b                         Allocated to registers r2 
                           6967 ;c                         Allocated to registers r2 
                           6968 ;d                         Allocated to registers r4 
                           6969 ;buf                       Allocated with name '_mac_eeprom_init_buf_1_1'
                           6970 ;------------------------------------------------------------
                           6971 ;	../../include/ztex.h:241: void mac_eeprom_init ( ) { 
                           6972 ;	-----------------------------------------
                           6973 ;	 function mac_eeprom_init
                           6974 ;	-----------------------------------------
   1A1A                    6975 _mac_eeprom_init:
                           6976 ;	../../include/ztex.h:246: mac_eeprom_read ( buf, 0, 3 );	// read signature
   1A1A 75*08 00           6977 	mov	_mac_eeprom_read_PARM_2,#0x00
   1A1D 75*09 03           6978 	mov	_mac_eeprom_read_PARM_3,#0x03
   1A20 90s00r31           6979 	mov	dptr,#_mac_eeprom_init_buf_1_1
   1A23 12s03r70           6980 	lcall	_mac_eeprom_read
                           6981 ;	../../include/ztex.h:247: if ( buf[0]==67 && buf[1]==68 && buf[2]==48 ) {
   1A26 90s00r31           6982 	mov	dptr,#_mac_eeprom_init_buf_1_1
   1A29 E0                 6983 	movx	a,@dptr
   1A2A FA                 6984 	mov	r2,a
   1A2B BA 43 24           6985 	cjne	r2,#0x43,00102$
   1A2E 90s00r32           6986 	mov	dptr,#(_mac_eeprom_init_buf_1_1 + 0x0001)
   1A31 E0                 6987 	movx	a,@dptr
   1A32 FA                 6988 	mov	r2,a
   1A33 BA 44 1C           6989 	cjne	r2,#0x44,00102$
   1A36 90s00r33           6990 	mov	dptr,#(_mac_eeprom_init_buf_1_1 + 0x0002)
   1A39 E0                 6991 	movx	a,@dptr
   1A3A FA                 6992 	mov	r2,a
   1A3B BA 30 14           6993 	cjne	r2,#0x30,00102$
                           6994 ;	../../include/ztex.h:248: config_data_valid = 1;
   1A3E 90s00r06           6995 	mov	dptr,#_config_data_valid
   1A41 74 01              6996 	mov	a,#0x01
   1A43 F0                 6997 	movx	@dptr,a
                           6998 ;	../../include/ztex.h:249: mac_eeprom_read ( SN_STRING, 16, 10 );	// copy serial number
   1A44 75*08 10           6999 	mov	_mac_eeprom_read_PARM_2,#0x10
   1A47 75*09 0A           7000 	mov	_mac_eeprom_read_PARM_3,#0x0A
   1A4A 90 00 8A           7001 	mov	dptr,#_SN_STRING
   1A4D 12s03r70           7002 	lcall	_mac_eeprom_read
   1A50 80 05              7003 	sjmp	00123$
   1A52                    7004 00102$:
                           7005 ;	../../include/ztex.h:252: config_data_valid = 0;
   1A52 90s00r06           7006 	mov	dptr,#_config_data_valid
   1A55 E4                 7007 	clr	a
   1A56 F0                 7008 	movx	@dptr,a
                           7009 ;	../../include/ztex.h:255: for (b=0; b<10; b++) {	// abort if SN != "0000000000"
   1A57                    7010 00123$:
   1A57 7A 00              7011 	mov	r2,#0x00
   1A59                    7012 00108$:
   1A59 BA 0A 00           7013 	cjne	r2,#0x0A,00133$
   1A5C                    7014 00133$:
   1A5C 50 12              7015 	jnc	00111$
                           7016 ;	../../include/ztex.h:256: if ( SN_STRING[b] != 48 )
   1A5E EA                 7017 	mov	a,r2
   1A5F 24 8A              7018 	add	a,#_SN_STRING
   1A61 F5 82              7019 	mov	dpl,a
   1A63 E4                 7020 	clr	a
   1A64 34 00              7021 	addc	a,#(_SN_STRING >> 8)
   1A66 F5 83              7022 	mov	dph,a
   1A68 E0                 7023 	movx	a,@dptr
   1A69 FB                 7024 	mov	r3,a
                           7025 ;	../../include/ztex.h:257: return;
   1A6A BB 30 54           7026 	cjne	r3,#0x30,00116$
                           7027 ;	../../include/ztex.h:255: for (b=0; b<10; b++) {	// abort if SN != "0000000000"
   1A6D 0A                 7028 	inc	r2
   1A6E 80 E9              7029 	sjmp	00108$
   1A70                    7030 00111$:
                           7031 ;	../../include/ztex.h:260: mac_eeprom_read ( buf, 0xfb, 5 );	// read the last 5 MAC digits
   1A70 75*08 FB           7032 	mov	_mac_eeprom_read_PARM_2,#0xFB
   1A73 75*09 05           7033 	mov	_mac_eeprom_read_PARM_3,#0x05
   1A76 90s00r31           7034 	mov	dptr,#_mac_eeprom_init_buf_1_1
   1A79 12s03r70           7035 	lcall	_mac_eeprom_read
                           7036 ;	../../include/ztex.h:262: c=0;
   1A7C 7A 00              7037 	mov	r2,#0x00
                           7038 ;	../../include/ztex.h:263: for (b=0; b<5; b++) {	// convert to MAC to SN string
   1A7E 7B 00              7039 	mov	r3,#0x00
   1A80                    7040 00112$:
   1A80 BB 05 00           7041 	cjne	r3,#0x05,00136$
   1A83                    7042 00136$:
   1A83 50 3C              7043 	jnc	00116$
                           7044 ;	../../include/ztex.h:264: d = buf[b];
   1A85 EB                 7045 	mov	a,r3
   1A86 24r31              7046 	add	a,#_mac_eeprom_init_buf_1_1
   1A88 F5 82              7047 	mov	dpl,a
   1A8A E4                 7048 	clr	a
   1A8B 34s00              7049 	addc	a,#(_mac_eeprom_init_buf_1_1 >> 8)
   1A8D F5 83              7050 	mov	dph,a
   1A8F E0                 7051 	movx	a,@dptr
   1A90 FC                 7052 	mov	r4,a
                           7053 ;	../../include/ztex.h:265: SN_STRING[c] = hexdigits[d>>4];
   1A91 EA                 7054 	mov	a,r2
   1A92 24 8A              7055 	add	a,#_SN_STRING
   1A94 FD                 7056 	mov	r5,a
   1A95 E4                 7057 	clr	a
   1A96 34 00              7058 	addc	a,#(_SN_STRING >> 8)
   1A98 FE                 7059 	mov	r6,a
   1A99 EC                 7060 	mov	a,r4
   1A9A C4                 7061 	swap	a
   1A9B 54 0F              7062 	anl	a,#0x0f
   1A9D 90s00rA6           7063 	mov	dptr,#_mac_eeprom_init_hexdigits_1_1
   1AA0 93                 7064 	movc	a,@a+dptr
   1AA1 FF                 7065 	mov	r7,a
   1AA2 8D 82              7066 	mov	dpl,r5
   1AA4 8E 83              7067 	mov	dph,r6
   1AA6 F0                 7068 	movx	@dptr,a
                           7069 ;	../../include/ztex.h:266: c++;
   1AA7 0A                 7070 	inc	r2
                           7071 ;	../../include/ztex.h:267: SN_STRING[c] = hexdigits[d & 15];
   1AA8 EA                 7072 	mov	a,r2
   1AA9 24 8A              7073 	add	a,#_SN_STRING
   1AAB FD                 7074 	mov	r5,a
   1AAC E4                 7075 	clr	a
   1AAD 34 00              7076 	addc	a,#(_SN_STRING >> 8)
   1AAF FE                 7077 	mov	r6,a
   1AB0 74 0F              7078 	mov	a,#0x0F
   1AB2 5C                 7079 	anl	a,r4
   1AB3 90s00rA6           7080 	mov	dptr,#_mac_eeprom_init_hexdigits_1_1
   1AB6 93                 7081 	movc	a,@a+dptr
   1AB7 FC                 7082 	mov	r4,a
   1AB8 8D 82              7083 	mov	dpl,r5
   1ABA 8E 83              7084 	mov	dph,r6
   1ABC F0                 7085 	movx	@dptr,a
                           7086 ;	../../include/ztex.h:268: c++;
   1ABD 0A                 7087 	inc	r2
                           7088 ;	../../include/ztex.h:263: for (b=0; b<5; b++) {	// convert to MAC to SN string
   1ABE 0B                 7089 	inc	r3
   1ABF 80 BF              7090 	sjmp	00112$
   1AC1                    7091 00116$:
   1AC1 22                 7092 	ret
                           7093 ;------------------------------------------------------------
                           7094 ;Allocation info for local variables in function 'init_USB'
                           7095 ;------------------------------------------------------------
                           7096 ;------------------------------------------------------------
                           7097 ;	../../include/ztex.h:317: void init_USB ()
                           7098 ;	-----------------------------------------
                           7099 ;	 function init_USB
                           7100 ;	-----------------------------------------
   1AC2                    7101 _init_USB:
                           7102 ;	../../include/ztex.h:319: USBCS |= bmBIT3;
   1AC2 90 E6 80           7103 	mov	dptr,#_USBCS
   1AC5 E0                 7104 	movx	a,@dptr
   1AC6 44 08              7105 	orl	a,#0x08
   1AC8 F0                 7106 	movx	@dptr,a
                           7107 ;	../../include/ztex.h:321: CPUCS = bmBIT4 | bmBIT1;
   1AC9 90 E6 00           7108 	mov	dptr,#_CPUCS
   1ACC 74 12              7109 	mov	a,#0x12
   1ACE F0                 7110 	movx	@dptr,a
                           7111 ;	../../include/ztex.h:322: wait(2);
   1ACF 90 00 02           7112 	mov	dptr,#0x0002
   1AD2 12s00r01           7113 	lcall	_wait
                           7114 ;	../../include/ztex.h:323: CKCON &= ~7;
   1AD5 53 8E F8           7115 	anl	_CKCON,#0xF8
                           7116 ;	../../include/ztex.h:348: init_fpga();
   1AD8 12s0ArD8           7117 	lcall	_init_fpga
                           7118 ;	../../include/ztex-fpga-flash2.h:105: fpga_flash_result= 255;
   1ADB 90s00r26           7119 	mov	dptr,#_fpga_flash_result
   1ADE 74 FF              7120 	mov	a,#0xFF
   1AE0 F0                 7121 	movx	@dptr,a
                           7122 ;	../../include/ztex.h:353: EA = 0;
   1AE1 C2 AF              7123 	clr	_EA
                           7124 ;	../../include/ztex.h:354: EUSB = 0;
   1AE3 C2 E8              7125 	clr	_EUSB
                           7126 ;	../../include/ezintavecs.h:123: INT8VEC_USB.op=0x02;
   1AE5 90 00 43           7127 	mov	dptr,#_INT8VEC_USB
   1AE8 74 02              7128 	mov	a,#0x02
   1AEA F0                 7129 	movx	@dptr,a
                           7130 ;	../../include/ezintavecs.h:124: INT8VEC_USB.addrH = 0x01;
   1AEB 90 00 44           7131 	mov	dptr,#(_INT8VEC_USB + 0x0001)
   1AEE 74 01              7132 	mov	a,#0x01
   1AF0 F0                 7133 	movx	@dptr,a
                           7134 ;	../../include/ezintavecs.h:125: INT8VEC_USB.addrL = 0xb8;
   1AF1 90 00 45           7135 	mov	dptr,#(_INT8VEC_USB + 0x0002)
   1AF4 74 B8              7136 	mov	a,#0xB8
   1AF6 F0                 7137 	movx	@dptr,a
                           7138 ;	../../include/ezintavecs.h:126: INTSETUP |= 8;
   1AF7 90 E6 68           7139 	mov	dptr,#_INTSETUP
   1AFA E0                 7140 	movx	a,@dptr
   1AFB 44 08              7141 	orl	a,#0x08
   1AFD F0                 7142 	movx	@dptr,a
                           7143 ;	../../include/ezintavecs.h:115: $0.op=0x02;
   1AFE 90 01 00           7144 	mov	dptr,#_INTVEC_SUDAV
   1B01 74 02              7145 	mov	a,#0x02
   1B03 F0                 7146 	movx	@dptr,a
                           7147 ;	../../include/ezintavecs.h:116: $0.addrH=((unsigned short)(&$1)) >> 8;
   1B04 7ArFE              7148 	mov	r2,#_SUDAV_ISR
   1B06 7Bs10              7149 	mov	r3,#(_SUDAV_ISR >> 8)
   1B08 8B 04              7150 	mov	ar4,r3
   1B0A 90 01 01           7151 	mov	dptr,#(_INTVEC_SUDAV + 0x0001)
   1B0D EC                 7152 	mov	a,r4
   1B0E F0                 7153 	movx	@dptr,a
                           7154 ;	../../include/ezintavecs.h:117: $0.addrL=(unsigned short)(&$1);
   1B0F 90 01 02           7155 	mov	dptr,#(_INTVEC_SUDAV + 0x0002)
   1B12 EA                 7156 	mov	a,r2
   1B13 F0                 7157 	movx	@dptr,a
                           7158 ;	../../include/ezintavecs.h:115: $0.op=0x02;
   1B14 90 01 04           7159 	mov	dptr,#_INTVEC_SOF
   1B17 74 02              7160 	mov	a,#0x02
   1B19 F0                 7161 	movx	@dptr,a
                           7162 ;	../../include/ezintavecs.h:116: $0.addrH=((unsigned short)(&$1)) >> 8;
   1B1A 7Ar4A              7163 	mov	r2,#_SOF_ISR
   1B1C 7Bs17              7164 	mov	r3,#(_SOF_ISR >> 8)
   1B1E 8B 04              7165 	mov	ar4,r3
   1B20 90 01 05           7166 	mov	dptr,#(_INTVEC_SOF + 0x0001)
   1B23 EC                 7167 	mov	a,r4
   1B24 F0                 7168 	movx	@dptr,a
                           7169 ;	../../include/ezintavecs.h:117: $0.addrL=(unsigned short)(&$1);
   1B25 90 01 06           7170 	mov	dptr,#(_INTVEC_SOF + 0x0002)
   1B28 EA                 7171 	mov	a,r2
   1B29 F0                 7172 	movx	@dptr,a
                           7173 ;	../../include/ezintavecs.h:115: $0.op=0x02;
   1B2A 90 01 08           7174 	mov	dptr,#_INTVEC_SUTOK
   1B2D 74 02              7175 	mov	a,#0x02
   1B2F F0                 7176 	movx	@dptr,a
                           7177 ;	../../include/ezintavecs.h:116: $0.addrH=((unsigned short)(&$1)) >> 8;
   1B30 7Ar60              7178 	mov	r2,#_SUTOK_ISR
   1B32 7Bs17              7179 	mov	r3,#(_SUTOK_ISR >> 8)
   1B34 8B 04              7180 	mov	ar4,r3
   1B36 90 01 09           7181 	mov	dptr,#(_INTVEC_SUTOK + 0x0001)
   1B39 EC                 7182 	mov	a,r4
   1B3A F0                 7183 	movx	@dptr,a
                           7184 ;	../../include/ezintavecs.h:117: $0.addrL=(unsigned short)(&$1);
   1B3B 90 01 0A           7185 	mov	dptr,#(_INTVEC_SUTOK + 0x0002)
   1B3E EA                 7186 	mov	a,r2
   1B3F F0                 7187 	movx	@dptr,a
                           7188 ;	../../include/ezintavecs.h:115: $0.op=0x02;
   1B40 90 01 0C           7189 	mov	dptr,#_INTVEC_SUSPEND
   1B43 74 02              7190 	mov	a,#0x02
   1B45 F0                 7191 	movx	@dptr,a
                           7192 ;	../../include/ezintavecs.h:116: $0.addrH=((unsigned short)(&$1)) >> 8;
   1B46 7Ar76              7193 	mov	r2,#_SUSP_ISR
   1B48 7Bs17              7194 	mov	r3,#(_SUSP_ISR >> 8)
   1B4A 8B 04              7195 	mov	ar4,r3
   1B4C 90 01 0D           7196 	mov	dptr,#(_INTVEC_SUSPEND + 0x0001)
   1B4F EC                 7197 	mov	a,r4
   1B50 F0                 7198 	movx	@dptr,a
                           7199 ;	../../include/ezintavecs.h:117: $0.addrL=(unsigned short)(&$1);
   1B51 90 01 0E           7200 	mov	dptr,#(_INTVEC_SUSPEND + 0x0002)
   1B54 EA                 7201 	mov	a,r2
   1B55 F0                 7202 	movx	@dptr,a
                           7203 ;	../../include/ezintavecs.h:115: $0.op=0x02;
   1B56 90 01 10           7204 	mov	dptr,#_INTVEC_USBRESET
   1B59 74 02              7205 	mov	a,#0x02
   1B5B F0                 7206 	movx	@dptr,a
                           7207 ;	../../include/ezintavecs.h:116: $0.addrH=((unsigned short)(&$1)) >> 8;
   1B5C 7Ar8C              7208 	mov	r2,#_URES_ISR
   1B5E 7Bs17              7209 	mov	r3,#(_URES_ISR >> 8)
   1B60 8B 04              7210 	mov	ar4,r3
   1B62 90 01 11           7211 	mov	dptr,#(_INTVEC_USBRESET + 0x0001)
   1B65 EC                 7212 	mov	a,r4
   1B66 F0                 7213 	movx	@dptr,a
                           7214 ;	../../include/ezintavecs.h:117: $0.addrL=(unsigned short)(&$1);
   1B67 90 01 12           7215 	mov	dptr,#(_INTVEC_USBRESET + 0x0002)
   1B6A EA                 7216 	mov	a,r2
   1B6B F0                 7217 	movx	@dptr,a
                           7218 ;	../../include/ezintavecs.h:115: $0.op=0x02;
   1B6C 90 01 14           7219 	mov	dptr,#_INTVEC_HISPEED
   1B6F 74 02              7220 	mov	a,#0x02
   1B71 F0                 7221 	movx	@dptr,a
                           7222 ;	../../include/ezintavecs.h:116: $0.addrH=((unsigned short)(&$1)) >> 8;
   1B72 7ArA2              7223 	mov	r2,#_HSGRANT_ISR
   1B74 7Bs17              7224 	mov	r3,#(_HSGRANT_ISR >> 8)
   1B76 8B 04              7225 	mov	ar4,r3
   1B78 90 01 15           7226 	mov	dptr,#(_INTVEC_HISPEED + 0x0001)
   1B7B EC                 7227 	mov	a,r4
   1B7C F0                 7228 	movx	@dptr,a
                           7229 ;	../../include/ezintavecs.h:117: $0.addrL=(unsigned short)(&$1);
   1B7D 90 01 16           7230 	mov	dptr,#(_INTVEC_HISPEED + 0x0002)
   1B80 EA                 7231 	mov	a,r2
   1B81 F0                 7232 	movx	@dptr,a
                           7233 ;	../../include/ezintavecs.h:115: $0.op=0x02;
   1B82 90 01 18           7234 	mov	dptr,#_INTVEC_EP0ACK
   1B85 74 02              7235 	mov	a,#0x02
   1B87 F0                 7236 	movx	@dptr,a
                           7237 ;	../../include/ezintavecs.h:116: $0.addrH=((unsigned short)(&$1)) >> 8;
   1B88 7ArB8              7238 	mov	r2,#_EP0ACK_ISR
   1B8A 7Bs17              7239 	mov	r3,#(_EP0ACK_ISR >> 8)
   1B8C 8B 04              7240 	mov	ar4,r3
   1B8E 90 01 19           7241 	mov	dptr,#(_INTVEC_EP0ACK + 0x0001)
   1B91 EC                 7242 	mov	a,r4
   1B92 F0                 7243 	movx	@dptr,a
                           7244 ;	../../include/ezintavecs.h:117: $0.addrL=(unsigned short)(&$1);
   1B93 90 01 1A           7245 	mov	dptr,#(_INTVEC_EP0ACK + 0x0002)
   1B96 EA                 7246 	mov	a,r2
   1B97 F0                 7247 	movx	@dptr,a
                           7248 ;	../../include/ezintavecs.h:115: $0.op=0x02;
   1B98 90 01 20           7249 	mov	dptr,#_INTVEC_EP0IN
   1B9B 74 02              7250 	mov	a,#0x02
   1B9D F0                 7251 	movx	@dptr,a
                           7252 ;	../../include/ezintavecs.h:116: $0.addrH=((unsigned short)(&$1)) >> 8;
   1B9E 7ArCE              7253 	mov	r2,#_EP0IN_ISR
   1BA0 7Bs17              7254 	mov	r3,#(_EP0IN_ISR >> 8)
   1BA2 8B 04              7255 	mov	ar4,r3
   1BA4 90 01 21           7256 	mov	dptr,#(_INTVEC_EP0IN + 0x0001)
   1BA7 EC                 7257 	mov	a,r4
   1BA8 F0                 7258 	movx	@dptr,a
                           7259 ;	../../include/ezintavecs.h:117: $0.addrL=(unsigned short)(&$1);
   1BA9 90 01 22           7260 	mov	dptr,#(_INTVEC_EP0IN + 0x0002)
   1BAC EA                 7261 	mov	a,r2
   1BAD F0                 7262 	movx	@dptr,a
                           7263 ;	../../include/ezintavecs.h:115: $0.op=0x02;
   1BAE 90 01 24           7264 	mov	dptr,#_INTVEC_EP0OUT
   1BB1 74 02              7265 	mov	a,#0x02
   1BB3 F0                 7266 	movx	@dptr,a
                           7267 ;	../../include/ezintavecs.h:116: $0.addrH=((unsigned short)(&$1)) >> 8;
   1BB4 7Ar96              7268 	mov	r2,#_EP0OUT_ISR
   1BB6 7Bs18              7269 	mov	r3,#(_EP0OUT_ISR >> 8)
   1BB8 8B 04              7270 	mov	ar4,r3
   1BBA 90 01 25           7271 	mov	dptr,#(_INTVEC_EP0OUT + 0x0001)
   1BBD EC                 7272 	mov	a,r4
   1BBE F0                 7273 	movx	@dptr,a
                           7274 ;	../../include/ezintavecs.h:117: $0.addrL=(unsigned short)(&$1);
   1BBF 90 01 26           7275 	mov	dptr,#(_INTVEC_EP0OUT + 0x0002)
   1BC2 EA                 7276 	mov	a,r2
   1BC3 F0                 7277 	movx	@dptr,a
                           7278 ;	../../include/ezintavecs.h:115: $0.op=0x02;
   1BC4 90 01 28           7279 	mov	dptr,#_INTVEC_EP1IN
   1BC7 74 02              7280 	mov	a,#0x02
   1BC9 F0                 7281 	movx	@dptr,a
                           7282 ;	../../include/ezintavecs.h:116: $0.addrH=((unsigned short)(&$1)) >> 8;
   1BCA 7Ar96              7283 	mov	r2,#_EP1IN_ISR
   1BCC 7Bs19              7284 	mov	r3,#(_EP1IN_ISR >> 8)
   1BCE 8B 04              7285 	mov	ar4,r3
   1BD0 90 01 29           7286 	mov	dptr,#(_INTVEC_EP1IN + 0x0001)
   1BD3 EC                 7287 	mov	a,r4
   1BD4 F0                 7288 	movx	@dptr,a
                           7289 ;	../../include/ezintavecs.h:117: $0.addrL=(unsigned short)(&$1);
   1BD5 90 01 2A           7290 	mov	dptr,#(_INTVEC_EP1IN + 0x0002)
   1BD8 EA                 7291 	mov	a,r2
   1BD9 F0                 7292 	movx	@dptr,a
                           7293 ;	../../include/ezintavecs.h:115: $0.op=0x02;
   1BDA 90 01 2C           7294 	mov	dptr,#_INTVEC_EP1OUT
   1BDD 74 02              7295 	mov	a,#0x02
   1BDF F0                 7296 	movx	@dptr,a
                           7297 ;	../../include/ezintavecs.h:116: $0.addrH=((unsigned short)(&$1)) >> 8;
   1BE0 7ArAC              7298 	mov	r2,#_EP1OUT_ISR
   1BE2 7Bs19              7299 	mov	r3,#(_EP1OUT_ISR >> 8)
   1BE4 8B 04              7300 	mov	ar4,r3
   1BE6 90 01 2D           7301 	mov	dptr,#(_INTVEC_EP1OUT + 0x0001)
   1BE9 EC                 7302 	mov	a,r4
   1BEA F0                 7303 	movx	@dptr,a
                           7304 ;	../../include/ezintavecs.h:117: $0.addrL=(unsigned short)(&$1);
   1BEB 90 01 2E           7305 	mov	dptr,#(_INTVEC_EP1OUT + 0x0002)
   1BEE EA                 7306 	mov	a,r2
   1BEF F0                 7307 	movx	@dptr,a
                           7308 ;	../../include/ezintavecs.h:115: $0.op=0x02;
   1BF0 90 01 30           7309 	mov	dptr,#_INTVEC_EP2
   1BF3 74 02              7310 	mov	a,#0x02
   1BF5 F0                 7311 	movx	@dptr,a
                           7312 ;	../../include/ezintavecs.h:116: $0.addrH=((unsigned short)(&$1)) >> 8;
   1BF6 7ArC2              7313 	mov	r2,#_EP2_ISR
   1BF8 7Bs19              7314 	mov	r3,#(_EP2_ISR >> 8)
   1BFA 8B 04              7315 	mov	ar4,r3
   1BFC 90 01 31           7316 	mov	dptr,#(_INTVEC_EP2 + 0x0001)
   1BFF EC                 7317 	mov	a,r4
   1C00 F0                 7318 	movx	@dptr,a
                           7319 ;	../../include/ezintavecs.h:117: $0.addrL=(unsigned short)(&$1);
   1C01 90 01 32           7320 	mov	dptr,#(_INTVEC_EP2 + 0x0002)
   1C04 EA                 7321 	mov	a,r2
   1C05 F0                 7322 	movx	@dptr,a
                           7323 ;	../../include/ezintavecs.h:115: $0.op=0x02;
   1C06 90 01 34           7324 	mov	dptr,#_INTVEC_EP4
   1C09 74 02              7325 	mov	a,#0x02
   1C0B F0                 7326 	movx	@dptr,a
                           7327 ;	../../include/ezintavecs.h:116: $0.addrH=((unsigned short)(&$1)) >> 8;
   1C0C 7ArD8              7328 	mov	r2,#_EP4_ISR
   1C0E 7Bs19              7329 	mov	r3,#(_EP4_ISR >> 8)
   1C10 8B 04              7330 	mov	ar4,r3
   1C12 90 01 35           7331 	mov	dptr,#(_INTVEC_EP4 + 0x0001)
   1C15 EC                 7332 	mov	a,r4
   1C16 F0                 7333 	movx	@dptr,a
                           7334 ;	../../include/ezintavecs.h:117: $0.addrL=(unsigned short)(&$1);
   1C17 90 01 36           7335 	mov	dptr,#(_INTVEC_EP4 + 0x0002)
   1C1A EA                 7336 	mov	a,r2
   1C1B F0                 7337 	movx	@dptr,a
                           7338 ;	../../include/ezintavecs.h:115: $0.op=0x02;
   1C1C 90 01 38           7339 	mov	dptr,#_INTVEC_EP6
   1C1F 74 02              7340 	mov	a,#0x02
   1C21 F0                 7341 	movx	@dptr,a
                           7342 ;	../../include/ezintavecs.h:116: $0.addrH=((unsigned short)(&$1)) >> 8;
   1C22 7ArEE              7343 	mov	r2,#_EP6_ISR
   1C24 7Bs19              7344 	mov	r3,#(_EP6_ISR >> 8)
   1C26 8B 04              7345 	mov	ar4,r3
   1C28 90 01 39           7346 	mov	dptr,#(_INTVEC_EP6 + 0x0001)
   1C2B EC                 7347 	mov	a,r4
   1C2C F0                 7348 	movx	@dptr,a
                           7349 ;	../../include/ezintavecs.h:117: $0.addrL=(unsigned short)(&$1);
   1C2D 90 01 3A           7350 	mov	dptr,#(_INTVEC_EP6 + 0x0002)
   1C30 EA                 7351 	mov	a,r2
   1C31 F0                 7352 	movx	@dptr,a
                           7353 ;	../../include/ezintavecs.h:115: $0.op=0x02;
   1C32 90 01 3C           7354 	mov	dptr,#_INTVEC_EP8
   1C35 74 02              7355 	mov	a,#0x02
   1C37 F0                 7356 	movx	@dptr,a
                           7357 ;	../../include/ezintavecs.h:116: $0.addrH=((unsigned short)(&$1)) >> 8;
   1C38 7Ar04              7358 	mov	r2,#_EP8_ISR
   1C3A 7Bs1A              7359 	mov	r3,#(_EP8_ISR >> 8)
   1C3C 8B 04              7360 	mov	ar4,r3
   1C3E 90 01 3D           7361 	mov	dptr,#(_INTVEC_EP8 + 0x0001)
   1C41 EC                 7362 	mov	a,r4
   1C42 F0                 7363 	movx	@dptr,a
                           7364 ;	../../include/ezintavecs.h:117: $0.addrL=(unsigned short)(&$1);
   1C43 90 01 3E           7365 	mov	dptr,#(_INTVEC_EP8 + 0x0002)
   1C46 EA                 7366 	mov	a,r2
   1C47 F0                 7367 	movx	@dptr,a
                           7368 ;	../../include/ztex.h:375: EXIF &= ~bmBIT4;
   1C48 53 91 EF           7369 	anl	_EXIF,#0xEF
                           7370 ;	../../include/ztex.h:376: USBIRQ = 0x7f;
   1C4B 90 E6 5D           7371 	mov	dptr,#_USBIRQ
   1C4E 74 7F              7372 	mov	a,#0x7F
   1C50 F0                 7373 	movx	@dptr,a
                           7374 ;	../../include/ztex.h:377: USBIE |= 0x7f; 
   1C51 90 E6 5C           7375 	mov	dptr,#_USBIE
   1C54 E0                 7376 	movx	a,@dptr
   1C55 FA                 7377 	mov	r2,a
   1C56 44 7F              7378 	orl	a,#0x7F
   1C58 F0                 7379 	movx	@dptr,a
                           7380 ;	../../include/ztex.h:378: EPIRQ = 0xff;
   1C59 90 E6 5F           7381 	mov	dptr,#_EPIRQ
   1C5C 74 FF              7382 	mov	a,#0xFF
   1C5E F0                 7383 	movx	@dptr,a
                           7384 ;	../../include/ztex.h:379: EPIE = 0xff;
   1C5F 90 E6 5E           7385 	mov	dptr,#_EPIE
   1C62 74 FF              7386 	mov	a,#0xFF
   1C64 F0                 7387 	movx	@dptr,a
                           7388 ;	../../include/ztex.h:381: EUSB = 1;
   1C65 D2 E8              7389 	setb	_EUSB
                           7390 ;	../../include/ztex.h:382: EA = 1;
   1C67 D2 AF              7391 	setb	_EA
                           7392 ;	../../include/ztex.h:305: EP$0CFG = bmBIT7 | bmBIT5;
   1C69 90 E6 11           7393 	mov	dptr,#_EP1INCFG
   1C6C 74 A0              7394 	mov	a,#0xA0
   1C6E F0                 7395 	movx	@dptr,a
                           7396 ;	../../include/ezregs.h:46: __endasm;
                           7397 	
   1C6F 00                 7398 	 nop
   1C70 00                 7399 	 nop
   1C71 00                 7400 	 nop
   1C72 00                 7401 	 nop
                           7402 	    
                           7403 ;	../../include/ztex.h:305: EP$0CFG = bmBIT7 | bmBIT5;
   1C73 90 E6 10           7404 	mov	dptr,#_EP1OUTCFG
   1C76 74 A0              7405 	mov	a,#0xA0
   1C78 F0                 7406 	movx	@dptr,a
                           7407 ;	../../include/ezregs.h:46: __endasm;
                           7408 	
   1C79 00                 7409 	 nop
   1C7A 00                 7410 	 nop
   1C7B 00                 7411 	 nop
   1C7C 00                 7412 	 nop
                           7413 	    
                           7414 ;	../../include/ztex.h:300: ;
   1C7D 90 E6 12           7415 	mov	dptr,#_EP2CFG
   1C80 74 A0              7416 	mov	a,#0xA0
   1C82 F0                 7417 	movx	@dptr,a
                           7418 ;	../../include/ezregs.h:46: __endasm;
                           7419 	
   1C83 00                 7420 	 nop
   1C84 00                 7421 	 nop
   1C85 00                 7422 	 nop
   1C86 00                 7423 	 nop
                           7424 	    
                           7425 ;	../../include/ztex.h:300: ;
   1C87 90 E6 13           7426 	mov	dptr,#_EP4CFG
   1C8A E4                 7427 	clr	a
   1C8B F0                 7428 	movx	@dptr,a
                           7429 ;	../../include/ezregs.h:46: __endasm;
                           7430 	
   1C8C 00                 7431 	 nop
   1C8D 00                 7432 	 nop
   1C8E 00                 7433 	 nop
   1C8F 00                 7434 	 nop
                           7435 	    
                           7436 ;	../../include/ztex.h:300: ;
   1C90 90 E6 14           7437 	mov	dptr,#_EP6CFG
   1C93 E4                 7438 	clr	a
   1C94 F0                 7439 	movx	@dptr,a
                           7440 ;	../../include/ezregs.h:46: __endasm;
                           7441 	
   1C95 00                 7442 	 nop
   1C96 00                 7443 	 nop
   1C97 00                 7444 	 nop
   1C98 00                 7445 	 nop
                           7446 	    
                           7447 ;	../../include/ztex.h:300: ;
   1C99 90 E6 15           7448 	mov	dptr,#_EP8CFG
   1C9C E4                 7449 	clr	a
   1C9D F0                 7450 	movx	@dptr,a
                           7451 ;	../../include/ezregs.h:46: __endasm;
                           7452 	
   1C9E 00                 7453 	 nop
   1C9F 00                 7454 	 nop
   1CA0 00                 7455 	 nop
   1CA1 00                 7456 	 nop
                           7457 	    
                           7458 ;	../../include/ztex.h:402: flash_init();
   1CA2 12s09rBD           7459 	lcall	_flash_init
                           7460 ;	../../include/ztex.h:411: mac_eeprom_init();
   1CA5 12s1Ar1A           7461 	lcall	_mac_eeprom_init
                           7462 ;	../../include/ztex.h:417: fpga_configure_from_flash_init();
   1CA8 12s0Er75           7463 	lcall	_fpga_configure_from_flash_init
                           7464 ;	../../include/ztex.h:420: USBCS |= bmBIT7 | bmBIT1;
   1CAB 90 E6 80           7465 	mov	dptr,#_USBCS
   1CAE E0                 7466 	movx	a,@dptr
   1CAF 44 82              7467 	orl	a,#0x82
   1CB1 F0                 7468 	movx	@dptr,a
                           7469 ;	../../include/ztex.h:421: wait(10);
   1CB2 90 00 0A           7470 	mov	dptr,#0x000A
   1CB5 12s00r01           7471 	lcall	_wait
                           7472 ;	../../include/ztex.h:423: USBCS &= ~bmBIT3;
   1CB8 90 E6 80           7473 	mov	dptr,#_USBCS
   1CBB E0                 7474 	movx	a,@dptr
   1CBC 54 F7              7475 	anl	a,#0xF7
   1CBE F0                 7476 	movx	@dptr,a
   1CBF 22                 7477 	ret
                           7478 ;------------------------------------------------------------
                           7479 ;Allocation info for local variables in function 'main'
                           7480 ;------------------------------------------------------------
                           7481 ;------------------------------------------------------------
                           7482 ;	default.c:39: void main(void)	
                           7483 ;	-----------------------------------------
                           7484 ;	 function main
                           7485 ;	-----------------------------------------
   1CC0                    7486 _main:
                           7487 ;	default.c:41: init_USB();
   1CC0 12s1ArC2           7488 	lcall	_init_USB
                           7489 ;	default.c:43: if ( config_data_valid ) {
   1CC3 90s00r06           7490 	mov	dptr,#_config_data_valid
   1CC6 E0                 7491 	movx	a,@dptr
   1CC7 FA                 7492 	mov	r2,a
   1CC8 60 0C              7493 	jz	00104$
                           7494 ;	default.c:44: mac_eeprom_read ( (__xdata BYTE*) (productString+20), 6, 1 );
   1CCA 90s00r21           7495 	mov	dptr,#(_productString + 0x0014)
   1CCD 75*08 06           7496 	mov	_mac_eeprom_read_PARM_2,#0x06
   1CD0 75*09 01           7497 	mov	_mac_eeprom_read_PARM_3,#0x01
   1CD3 12s03r70           7498 	lcall	_mac_eeprom_read
                           7499 ;	default.c:47: while (1) {	}					//  twiddle thumbs
   1CD6                    7500 00104$:
   1CD6 80 FE              7501 	sjmp	00104$
                           7502 	.area CSEG    (CODE)
                           7503 	.area CONST   (CODE)
   0000                    7504 _fpga_flash_boot_id:
   0000 5A                 7505 	.db #0x5A
   0001 54                 7506 	.db #0x54
   0002 45                 7507 	.db #0x45
   0003 58                 7508 	.db #0x58
   0004 42                 7509 	.db #0x42
   0005 53                 7510 	.db #0x53
   0006 01                 7511 	.db #0x01
   0007 01                 7512 	.db #0x01
   0008                    7513 _manufacturerString:
   0008 5A 54 45 58        7514 	.ascii "ZTEX"
   000C 00                 7515 	.db 0x00
   000D                    7516 _productString:
   000D 55 53 42 2D 46 50  7517 	.ascii "USB-FPGA Module 2.13  (default)"
        47 41 20 4D 6F 64
        75 6C 65 20 32 2E
        31 33 20 20 28 64
        65 66 61 75 6C 74
        29
   002C 00                 7518 	.db 0x00
   002D                    7519 _configurationString:
   002D 64 65 66 61 75 6C  7520 	.ascii "default"
        74
   0034 00                 7521 	.db 0x00
   0035                    7522 _PadByte:
   0035 00                 7523 	.db #0x00
   0036                    7524 _DeviceDescriptor:
   0036 12                 7525 	.db #0x12
   0037 01                 7526 	.db #0x01
   0038 00                 7527 	.db #0x00
   0039 02                 7528 	.db #0x02
   003A FF                 7529 	.db #0xFF
   003B FF                 7530 	.db #0xFF
   003C FF                 7531 	.db #0xFF
   003D 40                 7532 	.db #0x40
   003E 1A                 7533 	.db #0x1A
   003F 22                 7534 	.db #0x22
   0040 00                 7535 	.db #0x00
   0041 01                 7536 	.db #0x01
   0042 00                 7537 	.db #0x00
   0043 00                 7538 	.db #0x00
   0044 01                 7539 	.db #0x01
   0045 02                 7540 	.db #0x02
   0046 03                 7541 	.db #0x03
   0047 01                 7542 	.db #0x01
   0048                    7543 _DeviceQualifierDescriptor:
   0048 0A                 7544 	.db #0x0A
   0049 06                 7545 	.db #0x06
   004A 00                 7546 	.db #0x00
   004B 02                 7547 	.db #0x02
   004C FF                 7548 	.db #0xFF
   004D FF                 7549 	.db #0xFF
   004E FF                 7550 	.db #0xFF
   004F 40                 7551 	.db #0x40
   0050 01                 7552 	.db #0x01
   0051 00                 7553 	.db #0x00
   0052                    7554 _HighSpeedConfigDescriptor:
   0052 09                 7555 	.db #0x09
   0053 02                 7556 	.db #0x02
   0054 27                 7557 	.db #0x27
   0055 00                 7558 	.db #0x00
   0056 01                 7559 	.db #0x01
   0057 01                 7560 	.db #0x01
   0058 04                 7561 	.db #0x04
   0059 C0                 7562 	.db #0xC0
   005A 32                 7563 	.db #0x32
   005B 09                 7564 	.db #0x09
   005C 04                 7565 	.db #0x04
   005D 00                 7566 	.db #0x00
   005E 00                 7567 	.db #0x00
   005F 03                 7568 	.db #0x03
   0060 FF                 7569 	.db #0xFF
   0061 FF                 7570 	.db #0xFF
   0062 FF                 7571 	.db #0xFF
   0063 00                 7572 	.db #0x00
   0064 07                 7573 	.db #0x07
   0065 05                 7574 	.db #0x05
   0066 81                 7575 	.db #0x81
   0067 02                 7576 	.db #0x02
   0068 00                 7577 	.db #0x00
   0069 02                 7578 	.db #0x02
   006A 00                 7579 	.db #0x00
   006B 07                 7580 	.db #0x07
   006C 05                 7581 	.db #0x05
   006D 01                 7582 	.db #0x01
   006E 02                 7583 	.db #0x02
   006F 00                 7584 	.db #0x00
   0070 02                 7585 	.db #0x02
   0071 00                 7586 	.db #0x00
   0072 07                 7587 	.db #0x07
   0073 05                 7588 	.db #0x05
   0074 02                 7589 	.db #0x02
   0075 02                 7590 	.db #0x02
   0076 00                 7591 	.db #0x00
   0077 02                 7592 	.db #0x02
   0078 00                 7593 	.db #0x00
   0079                    7594 _HighSpeedConfigDescriptor_PadByte:
   0079 00                 7595 	.db #0x00
   007A                    7596 _FullSpeedConfigDescriptor:
   007A 09                 7597 	.db #0x09
   007B 02                 7598 	.db #0x02
   007C 27                 7599 	.db #0x27
   007D 00                 7600 	.db #0x00
   007E 01                 7601 	.db #0x01
   007F 01                 7602 	.db #0x01
   0080 04                 7603 	.db #0x04
   0081 C0                 7604 	.db #0xC0
   0082 32                 7605 	.db #0x32
   0083 09                 7606 	.db #0x09
   0084 04                 7607 	.db #0x04
   0085 00                 7608 	.db #0x00
   0086 00                 7609 	.db #0x00
   0087 03                 7610 	.db #0x03
   0088 FF                 7611 	.db #0xFF
   0089 FF                 7612 	.db #0xFF
   008A FF                 7613 	.db #0xFF
   008B 00                 7614 	.db #0x00
   008C 07                 7615 	.db #0x07
   008D 05                 7616 	.db #0x05
   008E 81                 7617 	.db #0x81
   008F 02                 7618 	.db #0x02
   0090 40                 7619 	.db #0x40
   0091 00                 7620 	.db #0x00
   0092 00                 7621 	.db #0x00
   0093 07                 7622 	.db #0x07
   0094 05                 7623 	.db #0x05
   0095 01                 7624 	.db #0x01
   0096 02                 7625 	.db #0x02
   0097 40                 7626 	.db #0x40
   0098 00                 7627 	.db #0x00
   0099 00                 7628 	.db #0x00
   009A 07                 7629 	.db #0x07
   009B 05                 7630 	.db #0x05
   009C 02                 7631 	.db #0x02
   009D 02                 7632 	.db #0x02
   009E 40                 7633 	.db #0x40
   009F 00                 7634 	.db #0x00
   00A0 00                 7635 	.db #0x00
   00A1                    7636 _FullSpeedConfigDescriptor_PadByte:
   00A1 00                 7637 	.db #0x00
   00A2                    7638 _EmptyStringDescriptor:
   00A2 04                 7639 	.db #0x04
   00A3 03                 7640 	.db #0x03
   00A4 00                 7641 	.db #0x00
   00A5 00                 7642 	.db #0x00
   00A6                    7643 _mac_eeprom_init_hexdigits_1_1:
   00A6 30 31 32 33 34 35  7644 	.ascii "0123456789ABCDEF"
        36 37 38 39 41 42
        43 44 45 46
   00B6 00                 7645 	.db 0x00
                           7646 	.area XINIT   (CODE)
   0000                    7647 __xinit__ep0_payload_remaining:
   0000 00 00              7648 	.byte #0x00,#0x00
   0002                    7649 __xinit__ep0_payload_transfer:
   0002 00                 7650 	.db #0x00
   0003                    7651 __xinit__GPIF_WAVE_DATA_HSFPGA_24MHZ:
   0003 01                 7652 	.db #0x01
   0004 88                 7653 	.db #0x88
   0005 01                 7654 	.db #0x01
   0006 01                 7655 	.db #0x01
   0007 01                 7656 	.db #0x01
   0008 01                 7657 	.db #0x01
   0009 01                 7658 	.db #0x01
   000A 07                 7659 	.db #0x07
   000B 02                 7660 	.db #0x02
   000C 07                 7661 	.db #0x07
   000D 02                 7662 	.db #0x02
   000E 02                 7663 	.db #0x02
   000F 02                 7664 	.db #0x02
   0010 02                 7665 	.db #0x02
   0011 02                 7666 	.db #0x02
   0012 00                 7667 	.db #0x00
   0013 20                 7668 	.db #0x20
   0014 00                 7669 	.db #0x00
   0015 00                 7670 	.db #0x00
   0016 00                 7671 	.db #0x00
   0017 00                 7672 	.db #0x00
   0018 00                 7673 	.db #0x00
   0019 00                 7674 	.db #0x00
   001A 20                 7675 	.db #0x20
   001B 00                 7676 	.db #0x00
   001C 36                 7677 	.db #0x36
   001D 00                 7678 	.db #0x00
   001E 00                 7679 	.db #0x00
   001F 00                 7680 	.db #0x00
   0020 00                 7681 	.db #0x00
   0021 00                 7682 	.db #0x00
   0022 3F                 7683 	.db #0x3F
   0023                    7684 __xinit__GPIF_WAVE_DATA_HSFPGA_12MHZ:
   0023 02                 7685 	.db #0x02
   0024 01                 7686 	.db #0x01
   0025 90                 7687 	.db #0x90
   0026 01                 7688 	.db #0x01
   0027 01                 7689 	.db #0x01
   0028 01                 7690 	.db #0x01
   0029 01                 7691 	.db #0x01
   002A 07                 7692 	.db #0x07
   002B 02                 7693 	.db #0x02
   002C 02                 7694 	.db #0x02
   002D 07                 7695 	.db #0x07
   002E 02                 7696 	.db #0x02
   002F 02                 7697 	.db #0x02
   0030 02                 7698 	.db #0x02
   0031 02                 7699 	.db #0x02
   0032 00                 7700 	.db #0x00
   0033 20                 7701 	.db #0x20
   0034 00                 7702 	.db #0x00
   0035 00                 7703 	.db #0x00
   0036 00                 7704 	.db #0x00
   0037 00                 7705 	.db #0x00
   0038 00                 7706 	.db #0x00
   0039 00                 7707 	.db #0x00
   003A 20                 7708 	.db #0x20
   003B 00                 7709 	.db #0x00
   003C 00                 7710 	.db #0x00
   003D 36                 7711 	.db #0x36
   003E 00                 7712 	.db #0x00
   003F 00                 7713 	.db #0x00
   0040 00                 7714 	.db #0x00
   0041 00                 7715 	.db #0x00
   0042 3F                 7716 	.db #0x3F
   0043                    7717 __xinit__ep0_prev_setup_request:
   0043 FF                 7718 	.db #0xFF
   0044                    7719 __xinit__ep0_vendor_cmd_setup:
   0044 00                 7720 	.db #0x00
   0045                    7721 __xinit__ISOFRAME_COUNTER:
   0045 00 00              7722 	.byte #0x00,#0x00
   0047 00 00              7723 	.byte #0x00,#0x00
   0049 00 00              7724 	.byte #0x00,#0x00
   004B 00 00              7725 	.byte #0x00,#0x00
                           7726 	.area CABS    (ABS,CODE)
